"use strict";(self.webpackChunkworklenz=self.webpackChunkworklenz||[]).push([[217],{81089:(be,V,m)=>{m.d(V,{VT:()=>h,au:()=>U,fZ:()=>N,nd:()=>B,ov:()=>P,p9:()=>z});var h=function(u){return u[u.LEFT=200]="LEFT",u[u.RIGHT=100]="RIGHT",u}(h||{}),z=function(u){return u[u.DAYS=50]="DAYS",u[u.WEEKS=40]="WEEKS",u[u.MONTHS=30]="MONTHS",u}(z||{}),P=function(u){return u[u.WEEKS=30]="WEEKS",u[u.MONTHS=15]="MONTHS",u[u.QUARTERS=10]="QUARTERS",u}(P||{}),U=function(u){return u[u.RESOURCE=0]="RESOURCE",u[u.PROJECT=1]="PROJECT",u}(U||{}),B=function(u){return u[u.DAYS=0]="DAYS",u[u.WEEKS=1]="WEEKS",u[u.MONTHS=2]="MONTHS",u}(B||{}),N=function(u){return u[u.WEEKS=0]="WEEKS",u[u.MONTHS=1]="MONTHS",u[u.QUARTERS=2]="QUARTERS",u}(N||{})},79207:(be,V,m)=>{m.d(V,{V:()=>B});var h=m(26857),z=m(69649),P=m(65879),U=m(69862);let B=(()=>{var N;class u extends h.P{constructor(T){super(),this.http=T,this.root=`${this.API_BASE_URL}/schedule-gannt`}getGanttDates(T,I){const L=(0,z.UK)({timeZone:I});return this._get(this.http,`${this.root}/chart-dates/${T}${L}`)}getProjects(T,I){const L=(0,z.UK)({timeZone:I});return this._get(this.http,`${this.root}/projects/${T}${L}`)}getMemberAllocation(T,I,L,H){const j=(0,z.UK)({team_member_id:I,timeZone:L,isProjectRefresh:H});return this._get(this.http,`${this.root}/project-member/${T}${j}`)}getMemberProjectAllocation(T,I,L,H){const j=(0,z.UK)({team_member_id:I,timeZone:L,isProjectRefresh:H});return this._get(this.http,`${this.root}/refresh/project-indicator/${T}${j}`)}bulkDeleteMemberAllocations(T){return this._put(this.http,`${this.root}/bulk/delete-member-allocations`,T)}getTasksByMember(T){const I=(0,z.UK)(T);return this._get(this.http,`${this.root}/tasks-by-member/${T.id}${I}`)}migrateAllocations(){return this._get(this.http,`${this.root}/migrate/member-allocations`)}}return(N=u).\u0275fac=function(T){return new(T||N)(P.LFG(U.eN))},N.\u0275prov=P.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),u})()},77920:(be,V,m)=>{m.d(V,{Vk:()=>ze,pD:()=>Me});var h=m(65879),z=m(78645),P=m(65592),U=m(97328),B=m(63019),N=m(52572),u=m(92438),F=m(32181),T=m(21631),I=m(27921),L=m(37398),H=m(63020),j=m(59773),_=m(48180),Z=m(94418),we=m(69732),ae=m(79360);var he=m(69384),ue=m(96814);function ee(e,n){return e=function ye(e,n){return typeof e>"u"?typeof n>"u"?e:n:e}(e,n),"function"==typeof e?function(){for(var s=arguments,r=arguments.length,v=Array(r),a=0;a<r;a++)v[a]=s[a];return!!e.apply(this,v)}:e?function(){return!0}:function(){return!1}}var te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},k=function(e){return null!=e&&"object"===(typeof e>"u"?"undefined":te(e))&&1===e.nodeType&&"object"===te(e.style)&&"object"===te(e.ownerDocument)};function se(e,n){if(n=le(n,!0),!k(n))return-1;for(var t=0;t<e.length;t++)if(e[t]===n)return t;return-1}function oe(e,n){return-1!==se(e,n)}function de(e){for(var n=arguments,t=[],s=arguments.length-1;s-- >0;)t[s]=n[s+1];return function De(e,n){for(var t=0;t<n.length;t++)oe(e,n[t])||e.push(n[t]);return n}(e,t=t.map(le))}function J(e){for(var n=arguments,t=[],s=arguments.length-1;s-- >0;)t[s]=n[s+1];return t.map(le).reduce(function(r,v){var a=se(e,v);return-1!==a?r.concat(e.splice(a,1)):r},[])}function le(e,n){if("string"==typeof e)try{return document.querySelector(e)}catch(t){throw t}if(!k(e)&&!n)throw new TypeError(e+" is not a DOM element.");return e}function c(e){if(e===window)return function o(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var n={};return Object.defineProperties(n,e),n}();try{var n=e.getBoundingClientRect();return void 0===n.x&&(n.x=n.left,n.y=n.top),n}catch{throw new TypeError("Can't call getBoundingClientRect on "+e)}}var n,d=void 0;"function"!=typeof Object.create?(n=function(){},d=function(t,s){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");n.prototype=t||{};var r=new n;return n.prototype=null,void 0!==s&&Object.defineProperties(r,s),null===t&&(r.__proto__=null),r}):d=Object.create;var f=d,i=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function D(e,n){n=n||{};for(var t=f(e),s=0;s<i.length;s++)void 0!==n[i[s]]&&(t[i[s]]=n[i[s]]);return t}function fe(e,n){console.log("data ",n),e.data=n||{},e.dispatched="mousemove"}var b=["webkit","moz","ms","o"],Y=function(){if(typeof window>"u")return function(){};for(var e=0,n=b.length;e<n&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[b[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(s){var r=(new Date).getTime(),v=Math.max(0,16-r-t),a=window.setTimeout(function(){return s(r+v)},v);return t=r+v,a}}return window.requestAnimationFrame.bind(window)}(),W=function(){if(typeof window>"u")return function(){};for(var e=0,n=b.length;e<n&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[b[e]+"CancelAnimationFrame"]||window[b[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function ne(e,n){void 0===n&&(n={});var t=this,s=4,r=!1;if("object"!=typeof n.margin){var v=n.margin||-1;this.margin={left:v,right:v,top:v,bottom:v}}else this.margin=n.margin;this.scrollWhenOutside=n.scrollWhenOutside||!1;var a={},y=function xe(e,n){var t=ee((n=n||{}).allowUpdate,!0);return function(r){if(r=r||window.event,e.target=r.target||r.srcElement||r.originalTarget,e.element=this,e.type=r.type,t(r)){if(r.targetTouches)e.x=r.targetTouches[0].clientX,e.y=r.targetTouches[0].clientY,e.pageX=r.targetTouches[0].pageX,e.pageY=r.targetTouches[0].pageY,e.screenX=r.targetTouches[0].screenX,e.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var v=r.target&&r.target.ownerDocument||document,a=v.documentElement,y=v.body;e.pageX=r.clientX+(a&&a.scrollLeft||y&&y.scrollLeft||0)-(a&&a.clientLeft||y&&y.clientLeft||0),e.pageY=r.clientY+(a&&a.scrollTop||y&&y.scrollTop||0)-(a&&a.clientTop||y&&y.clientTop||0)}else e.pageX=r.pageX,e.pageY=r.pageY;e.x=r.clientX,e.y=r.clientY,e.screenX=r.screenX,e.screenY=r.screenY}e.clientX=e.x,e.clientY=e.y}}}(a),x=function w(e){var n={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(v){for(var a=0;a<i.length;a++)n[i[a]]=v[i[a]]}return void 0!==e&&e.addEventListener("mousemove",t),{destroy:function r(){e&&e.removeEventListener("mousemove",t,!1),n=null},dispatch:MouseEvent?function(a,y,x){var S=new MouseEvent("mousemove",D(n,y));return fe(S,x),a.dispatchEvent(S)}:"function"==typeof document.createEvent?function(a,y,x){var S=D(n,y),O=document.createEvent("MouseEvents");return O.initMouseEvent("mousemove",!0,!0,window,0,S.screenX,S.screenY,S.clientX,S.clientY,S.ctrlKey,S.altKey,S.shiftKey,S.metaKey,S.button,S.relatedTarget),fe(O,x),a.dispatchEvent(O)}:"function"==typeof document.createEventObject?function(a,y,x){var S=document.createEventObject(),O=D(n,y);for(var R in O)S[R]=O[R];return fe(S,x),a.dispatchEvent(S)}:void 0}}(),S=!1;window.addEventListener("mousemove",y,!1),window.addEventListener("touchmove",y,!1),isNaN(n.maxSpeed)||(s=n.maxSpeed),"object"!=typeof s&&(s={left:s,right:s,top:s,bottom:s}),this.autoScroll=ee(n.autoScroll),this.syncMove=ee(n.syncMove,!1),this.destroy=function(p){window.removeEventListener("mousemove",y,!1),window.removeEventListener("touchmove",y,!1),window.removeEventListener("mousedown",A,!1),window.removeEventListener("touchstart",A,!1),window.removeEventListener("mouseup",G,!1),window.removeEventListener("touchend",G,!1),window.removeEventListener("pointerup",G,!1),window.removeEventListener("mouseleave",K,!1),window.removeEventListener("mousemove",Ee,!1),window.removeEventListener("touchmove",Ee,!1),window.removeEventListener("scroll",M,!0),e=[],p&&re()},this.add=function(){for(var p=[],g=arguments.length;g--;)p[g]=arguments[g];return de.apply(void 0,[e].concat(p)),this},this.remove=function(){for(var p=[],g=arguments.length;g--;)p[g]=arguments[g];return J.apply(void 0,[e].concat(p))};var R,p,O=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),p=e,e=[],p.forEach(function(g){g===window?O=window:t.add(g)}),Object.defineProperties(this,{down:{get:function(){return S}},maxSpeed:{get:function(){return s}},point:{get:function(){return a}},scrolling:{get:function(){return r}}});var E,$=null;function M(p){for(var g=0;g<e.length;g++)if(e[g]===p.target){r=!0;break}r&&Y(function(){return r=!1})}function A(){S=!0}function G(){S=!1,re()}function re(){W(E),W(R)}function K(){S=!1}function ie(){for(var p=null,g=0;g<e.length;g++)X(a,e[g])&&(p=e[g]);return p}function Ee(p){if(t.autoScroll()&&!p.dispatched){var g=p.target,Q=document.body;$&&!X(a,$)&&(t.scrollWhenOutside||($=null)),g&&g.parentNode===Q?g=ie():(g=function ve(p){if(!p)return null;if($===p||oe(e,p))return p;for(;p=p.parentNode;)if(oe(e,p))return p;return null}(g),g||(g=ie())),g&&g!==$&&($=g),O&&(W(R),R=Y(Ce)),$&&(W(E),E=Y(Le))}}function Ce(){Te(O),W(R),R=Y(Ce)}function Le(){$&&(Te($),W(E),E=Y(Le))}function Te(p){var Q,q,g=c(p);Q=a.x<g.left+t.margin.left?Math.floor(Math.max(-1,(a.x-g.left)/t.margin.left-1)*t.maxSpeed.left):a.x>g.right-t.margin.right?Math.ceil(Math.min(1,(a.x-g.right)/t.margin.right+1)*t.maxSpeed.right):0,q=a.y<g.top+t.margin.top?Math.floor(Math.max(-1,(a.y-g.top)/t.margin.top-1)*t.maxSpeed.top):a.y>g.bottom-t.margin.bottom?Math.ceil(Math.min(1,(a.y-g.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&x.dispatch(p,{pageX:a.pageX+Q,pageY:a.pageY+q,clientX:a.x+Q,clientY:a.y+q}),setTimeout(function(){q&&function Ye(p,g){p===window?window.scrollTo(p.pageXOffset,p.pageYOffset+g):p.scrollTop+=g}(p,q),Q&&function Ae(p,g){p===window?window.scrollTo(p.pageXOffset+g,p.pageYOffset):p.scrollLeft+=g}(p,Q)})}window.addEventListener("mousedown",A,!1),window.addEventListener("touchstart",A,!1),window.addEventListener("mouseup",G,!1),window.addEventListener("touchend",G,!1),window.addEventListener("pointerup",G,!1),window.addEventListener("mousemove",Ee,!1),window.addEventListener("touchmove",Ee,!1),window.addEventListener("mouseleave",K,!1),window.addEventListener("scroll",M,!0)}function X(e,n,t){return t?e.y>t.top&&e.y<t.bottom&&e.x>t.left&&e.x<t.right:function l(e,n){var t=c(n);return e.y>t.top&&e.y<t.bottom&&e.x>t.left&&e.x<t.right}(e,n)}let Oe=(()=>{class e{constructor(){this.currentDrag=new z.x}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Re=(()=>{class e{constructor(t){this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(h.SBq))},e.\u0275dir=h.lG2({type:e,selectors:[["","mwlDraggableScrollContainer",""]]}),e})(),Me=(()=>{class e{constructor(t,s,r,v,a,y,x){this.element=t,this.renderer=s,this.draggableHelper=r,this.zone=v,this.vcr=a,this.scrollContainer=y,this.document=x,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new h.vpe,this.dragStart=new h.vpe,this.ghostElementCreated=new h.vpe,this.dragging=new h.vpe,this.dragEnd=new h.vpe,this.pointerDown$=new z.x,this.pointerMove$=new z.x,this.pointerUp$=new z.x,this.eventListenerSubscriptions={},this.destroy$=new z.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe((0,F.h)(()=>this.canDrag()),(0,T.z)(s=>{s.event.stopPropagation&&!this.scrollContainer&&s.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const v=this.getScrollPosition(),a=new P.y(E=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",A=>E.next(A))).pipe((0,I.O)(v),(0,L.U)(()=>this.getScrollPosition())),y=new z.x,x=new U.t;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const S=(0,B.T)(this.pointerUp$,this.pointerDown$,x,this.destroy$).pipe((0,H.B)()),O=(0,N.a)([this.pointerMove$,a]).pipe((0,L.U)(([E,M])=>({currentDrag$:y,transformX:E.clientX-s.clientX,transformY:E.clientY-s.clientY,clientX:E.clientX,clientY:E.clientY,scrollLeft:M.left,scrollTop:M.top,target:E.event.target})),(0,L.U)(E=>(this.dragSnapGrid.x&&(E.transformX=Math.round(E.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(E.transformY=Math.round(E.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),E)),(0,L.U)(E=>(this.dragAxis.x||(E.transformX=0),this.dragAxis.y||(E.transformY=0),E)),(0,L.U)(E=>{const M=E.scrollLeft-v.left,A=E.scrollTop-v.top;return{...E,x:E.transformX+M,y:E.transformY+A}}),(0,F.h)(({x:E,y:M,transformX:A,transformY:G})=>!this.validateDrag||this.validateDrag({x:E,y:M,transform:{x:A,y:G}})),(0,j.R)(S),(0,H.B)()),R=O.pipe((0,_.q)(1),(0,H.B)()),$=O.pipe((0,Z.h)(1),(0,H.B)());return R.subscribe(({clientX:E,clientY:M,x:A,y:G})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:x})}),this.scroller=function C(e,n){return new ne(e,n)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],{...this.autoScroll,autoScroll:()=>!0}),function me(e,n,t){t&&t.split(" ").forEach(s=>e.addClass(n.nativeElement,s))}(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const re=this.element.nativeElement.getBoundingClientRect(),K=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||(this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.renderer.addClass(this.element.nativeElement,"parent-relative")),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(K):this.element.nativeElement.parentNode.insertBefore(K,this.element.nativeElement.nextSibling),this.ghostElement=K,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(K,{position:"sticky",top:"auto",left:`${re.left}px`,width:`${re.width}px`,height:`${re.height}px`,cursor:this.dragCursor,willChange:"transform",pointerEvents:"none",marginTop:"7px"}),this.ghostElementTemplate){const ve=this.vcr.createEmbeddedView(this.ghostElementTemplate);K.innerHTML="",ve.rootNodes.filter(ie=>ie instanceof Node).forEach(ie=>{K.appendChild(ie)}),$.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(ve))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:E-A,clientY:M-G,element:K})}),$.subscribe(()=>{K.parentElement.removeChild(K),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility",""),this.renderer.removeClass(this.element.nativeElement,"parent-relative")})}this.draggableHelper.currentDrag.next(y)}),$.pipe((0,T.z)(E=>{const M=x.pipe(function ce(e){return function Se(e,n){return(0,ae.e)((0,we.U)(e,n,arguments.length>=2,!1,!0))}((n,t,s)=>!e||e(t,s)?n+1:n,0)}(),(0,_.q)(1),(0,L.U)(A=>({...E,dragCancelled:A>0})));return x.complete(),M})).subscribe(({x:E,y:M,dragCancelled:A})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:E,y:M,dragCancelled:A})}),function pe(e,n,t){t&&t.split(" ").forEach(s=>e.removeClass(n.nativeElement,s))}(this.renderer,this.element,this.dragActiveClass),y.complete()}),(0,B.T)(S,$).pipe((0,_.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),O}),(0,H.B)());(0,B.T)(t.pipe((0,_.q)(1),(0,L.U)(s=>[,s])),t.pipe((0,he.G)())).pipe((0,F.h)(([s,r])=>!s||s.x!==r.x||s.y!==r.y),(0,L.U)(([s,r])=>r)).subscribe(({x:s,y:r,currentDrag$:v,clientX:a,clientY:y,transformX:x,transformY:S,target:O})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:s,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const R=`translate3d(${x}px, ${S}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:R,"-webkit-transform":R,"-ms-transform":R,"-moz-transform":R,"-o-transform":R})}}),v.next({clientX:a,clientY:y,dropData:this.dropData,target:O})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),s=Object.keys(this.eventListenerSubscriptions).length>0;t&&!s?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&s&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",s=>{this.pointerMove$.next({event:s,clientX:s.clientX,clientY:s.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let s,r,v;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,v=this.hasScrollbar(),s=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const a=(0,u.R)(this.document,"contextmenu").subscribe(x=>{x.preventDefault()}),y=(0,u.R)(this.document,"touchmove",{passive:!1}).subscribe(x=>{this.touchStartLongPress&&!r&&v&&(r=this.shouldBeginDrag(t,x,s)),(!this.touchStartLongPress||!v||r)&&(x.preventDefault(),this.pointerMove$.next({event:x,clientX:x.targetTouches[0].clientX,clientY:x.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),y.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,s){Object.keys(s).forEach(r=>{this.renderer.setStyle(t,r,s[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,s,r){const v=this.getScrollPosition(),a_top=Math.abs(v.top-r.top),a_left=Math.abs(v.left-r.left),y=Math.abs(s.targetTouches[0].clientX-t.touches[0].clientX)-a_left,x=Math.abs(s.targetTouches[0].clientY-t.touches[0].clientY)-a_top,O=this.touchStartLongPress;return(y+x>O.delta||a_top>0||a_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=O.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Oe),h.Y36(h.R0b),h.Y36(h.s_b),h.Y36(Re,8),h.Y36(ue.K0))},e.\u0275dir=h.lG2({type:e,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[h.TTD]}),e})(),ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({}),e})()},13080:(be,V,m)=>{m.d(V,{E$:()=>de,mC:()=>le,ym:()=>xe});var h=m(65879),z=m(96814),P=m(78645),U=m(63019),B=m(65592),N=m(92438),u=m(99397),F=m(63020),T=m(21631),I=m(48180),L=m(37398),H=m(69384),j=m(32181),_=m(59773);const Z=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function ae(o,c,l,d){const f=c.querySelectorAll(o);if(f.length){const i=l.querySelectorAll(o);for(let w=0;w<f.length;w++)d(f[w],i[w])}}let Se=0;function ce(o,c){"file"!==c.type&&(c.value=o.value),"radio"===c.type&&c.name&&(c.name=`mat-clone-${c.name}-${Se++}`)}function he(o,c){const l=c.getContext("2d");if(l)try{l.drawImage(o,0,0)}catch{}}function ue(o,c,l,d){const f={top:o.top,bottom:o.bottom,left:o.left,right:o.right};return c.top&&(f.top+=d),c.bottom&&(f.bottom+=d),c.left&&(f.left+=l),c.right&&(f.right+=l),f.height=f.bottom-f.top,f.width=f.right-f.left,f}const ee=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function te(o,c){return o.left&&o.top?c.topLeft:o.right&&o.top?c.topRight:o.left&&o.bottom?c.bottomLeft:o.right&&o.bottom?c.bottomRight:o.left||o.right?c.leftOrRight:o.top||o.bottom?c.topOrBottom:""}function k({edges:o,initialRectangle:c,newRectangle:l}){const d={};return Object.keys(o).forEach(f=>{d[f]=(l[f]||0)-(c[f]||0)}),d}const se="resize-active";let de=(()=>{class o{constructor(l,d,f,i){this.platformId=l,this.renderer=d,this.elm=f,this.zone=i,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=ee,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new h.vpe,this.resizing=new h.vpe,this.resizeEnd=new h.vpe,this.mouseup=new P.x,this.mousedown=new P.x,this.mousemove=new P.x,this.destroy$=new P.x,this.pointerEventListeners=J.getInstance(d,i)}ngOnInit(){const l=(0,U.T)(this.pointerEventListeners.pointerDown,this.mousedown),d=(0,U.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,u.b)(({event:b})=>{if(i)try{b.preventDefault()}catch{}}),(0,F.B)()),f=(0,U.T)(this.pointerEventListeners.pointerUp,this.mouseup);let i;const w=()=>{i&&i.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},D=()=>({...ee,...this.resizeCursors});l.pipe((0,T.z)(b=>{function Y(C){return{clientX:C.clientX-b.clientX,clientY:C.clientY-b.clientY}}const W=()=>{const C={x:1,y:1};return i&&(this.resizeSnapGrid.left&&i.edges.left?C.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&i.edges.right&&(C.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&i.edges.top?C.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&i.edges.bottom&&(C.y=+this.resizeSnapGrid.bottom)),C};function ne(C,X){return{x:Math.ceil(C.clientX/X.x),y:Math.ceil(C.clientY/X.y)}}return(0,U.T)(d.pipe((0,I.q)(1)).pipe((0,L.U)(C=>[,C])),d.pipe((0,H.G)())).pipe((0,L.U)(([C,X])=>[C&&Y(C),Y(X)])).pipe((0,j.h)(([C,X])=>{if(!C)return!0;const ge=W(),me=ne(C,ge),pe=ne(X,ge);return me.x!==pe.x||me.y!==pe.y})).pipe((0,L.U)(([,C])=>{const X=W();return{clientX:Math.round(C.clientX/X.x)*X.x,clientY:Math.round(C.clientY/X.y)*X.y}})).pipe((0,_.R)((0,U.T)(f,l)))})).pipe((0,j.h)(()=>!!i)).pipe((0,L.U)(({clientX:b,clientY:Y})=>ue(i.startingRect,i.edges,b,Y))).pipe((0,j.h)(b=>this.allowNegativeResizes||!!(b.height&&b.width&&b.height>0&&b.width>0))).pipe((0,j.h)(b=>!this.validateResize||this.validateResize({rectangle:b,edges:k({edges:i.edges,initialRectangle:i.startingRect,newRectangle:b})})),(0,_.R)(this.destroy$)).subscribe(b=>{i&&i.clonedNode&&(this.renderer.setStyle(i.clonedNode,"height",`${b.height}px`),this.renderer.setStyle(i.clonedNode,"width",`${b.width}px`),this.renderer.setStyle(i.clonedNode,"top",`${b.top}px`),this.renderer.setStyle(i.clonedNode,"left",`${b.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:k({edges:i.edges,initialRectangle:i.startingRect,newRectangle:b}),rectangle:b})}),i.currentRect=b}),l.pipe((0,L.U)(({edges:b})=>b||{}),(0,j.h)(b=>Object.keys(b).length>0),(0,_.R)(this.destroy$)).subscribe(b=>{i&&w();const Y=function ye(o,c){let l=0,d=0;const f=o.nativeElement.style,w=["transform","-ms-transform","-moz-transform","-o-transform"].map(D=>f[D]).find(D=>!!D);if(w&&w.includes("translate")&&(l=w.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),d=w.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===c)return{height:o.nativeElement.offsetHeight,width:o.nativeElement.offsetWidth,top:o.nativeElement.offsetTop-d,bottom:o.nativeElement.offsetHeight+o.nativeElement.offsetTop-d,left:o.nativeElement.offsetLeft-l,right:o.nativeElement.offsetWidth+o.nativeElement.offsetLeft-l};{const D=o.nativeElement.getBoundingClientRect();return{height:D.height,width:D.width,top:D.top-d,bottom:D.bottom-d,left:D.left-l,right:D.right-l,scrollTop:o.nativeElement.scrollTop,scrollLeft:o.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);i={edges:b,startingRect:Y,currentRect:Y};const W=D(),ne=te(i.edges,W);this.renderer.setStyle(document.body,"cursor",ne),this.setElementClass(this.elm,se,!0),this.enableGhostResize&&(i.clonedNode=function we(o){const c=o.cloneNode(!0),l=c.querySelectorAll("[id]"),d=o.nodeName.toLowerCase();return c.removeAttribute("id"),l.forEach(f=>{f.removeAttribute("id")}),"canvas"===d?he(o,c):("input"===d||"select"===d||"textarea"===d)&&ce(o,c),ae("canvas",o,c,he),ae("input, textarea, select",o,c,ce),c}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(i.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(i.clonedNode,"left",`${i.startingRect.left}px`),this.renderer.setStyle(i.clonedNode,"top",`${i.startingRect.top}px`),this.renderer.setStyle(i.clonedNode,"height",`${i.startingRect.height}px`),this.renderer.setStyle(i.clonedNode,"width",`${i.startingRect.width}px`),this.renderer.setStyle(i.clonedNode,"cursor",te(i.edges,W)),this.renderer.addClass(i.clonedNode,"resize-ghost-element"),i.clonedNode.scrollTop=i.startingRect.scrollTop,i.clonedNode.scrollLeft=i.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:k({edges:b,initialRectangle:Y,newRectangle:Y}),rectangle:ue(Y,{},0,0)})})}),f.pipe((0,_.R)(this.destroy$)).subscribe(()=>{i&&(this.renderer.removeClass(this.elm.nativeElement,se),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:k({edges:i.edges,initialRectangle:i.startingRect,newRectangle:i.currentRect}),rectangle:i.currentRect})}),w(),i=null)})}ngOnDestroy(){(0,z.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(l,d,f){f?this.renderer.addClass(l.nativeElement,d):this.renderer.removeClass(l.nativeElement,d)}}return o.\u0275fac=function(l){return new(l||o)(h.Y36(h.Lbi),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.R0b))},o.\u0275dir=h.lG2({type:o,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),o})();class J{constructor(c,l){this.pointerDown=new B.y(d=>{let f,i;return l.runOutsideAngular(()=>{f=c.listen("document","mousedown",w=>{d.next({clientX:w.clientX,clientY:w.clientY,event:w})}),Z&&(i=c.listen("document","touchstart",w=>{d.next({clientX:w.touches[0].clientX,clientY:w.touches[0].clientY,event:w})}))}),()=>{f(),Z&&i()}}).pipe((0,F.B)()),this.pointerMove=new B.y(d=>{let f,i;return l.runOutsideAngular(()=>{f=c.listen("document","mousemove",w=>{d.next({clientX:w.clientX,clientY:w.clientY,event:w})}),Z&&(i=c.listen("document","touchmove",w=>{d.next({clientX:w.targetTouches[0].clientX,clientY:w.targetTouches[0].clientY,event:w})}))}),()=>{f(),Z&&i()}}).pipe((0,F.B)()),this.pointerUp=new B.y(d=>{let f,i,w;return l.runOutsideAngular(()=>{f=c.listen("document","mouseup",D=>{d.next({clientX:D.clientX,clientY:D.clientY,event:D})}),Z&&(i=c.listen("document","touchend",D=>{d.next({clientX:D.changedTouches[0].clientX,clientY:D.changedTouches[0].clientY,event:D})}),w=c.listen("document","touchcancel",D=>{d.next({clientX:D.changedTouches[0].clientX,clientY:D.changedTouches[0].clientY,event:D})}))}),()=>{f(),Z&&(i(),w())}}).pipe((0,F.B)())}static getInstance(c,l){return J.instance||(J.instance=new J(c,l)),J.instance}}let le=(()=>{class o{constructor(l,d,f,i){this.renderer=l,this.element=d,this.zone=f,this.resizableDirective=i,this.resizeEdges={},this.eventListeners={},this.destroy$=new P.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(l=>{this.onMousedown(l,l.clientX,l.clientY)}),this.listenOnTheHost("mouseup").subscribe(l=>{this.onMouseup(l.clientX,l.clientY)}),Z&&(this.listenOnTheHost("touchstart").subscribe(l=>{this.onMousedown(l,l.touches[0].clientX,l.touches[0].clientY)}),(0,U.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(l=>{this.onMouseup(l.changedTouches[0].clientX,l.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(l,d,f){l.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",i=>{this.onMousemove(i,i.targetTouches[0].clientX,i.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",i=>{this.onMousemove(i,i.clientX,i.clientY)})),this.resizable.mousedown.next({clientX:d,clientY:f,edges:this.resizeEdges})}onMouseup(l,d){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:l,clientY:d,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(l,d,f){this.resizable.mousemove.next({clientX:d,clientY:f,edges:this.resizeEdges,event:l})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(l=>{this.eventListeners[l](),delete this.eventListeners[l]})}listenOnTheHost(l){return(0,N.R)(this.element.nativeElement,l).pipe((0,_.R)(this.destroy$))}}return o.\u0275fac=function(l){return new(l||o)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(de,8))},o.\u0275dir=h.lG2({type:o,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),o})(),xe=(()=>{class o{}return o.\u0275fac=function(l){return new(l||o)},o.\u0275mod=h.oAB({type:o}),o.\u0275inj=h.cJS({}),o})()}}]);