(self.webpackChunkworklenz=self.webpackChunkworklenz||[]).push([[152],{79152:(bm,ao,oe)=>{"use strict";oe.r(ao),oe.d(ao,{ProjectsModule:()=>ZC});var Ie=oe(96814),wt=oe(35420),ce=oe(15861),e=oe(65879),Ot=oe(21406),yr=oe(13490),st=oe(69649),pt=oe(86408),Ve=oe(27782),Pe=oe(60095),Pt=oe(71993),ra=oe(55012),vd=oe(97192),hn=oe(10095),mn=oe(3599),nA=oe(20824),Vt=oe(42840),Wt=oe(70855),an=oe(41958),AA=oe(55695),QA=oe(82669),lA=oe(43389),zn=oe(73460),cn=oe(62787);const Mc=["nameInput"];function $h(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",14),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw(2);return e.KtG(o.setColorCode(s))}),e.TgZ(1,"nz-tag",15),e._uU(2,"\xa0 "),e.qZA()()}if(2&r){const A=i.$implicit;e.xp6(1),e.Q6J("nzColor",A)}}function ep(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"nz-spin",2)(2,"form",3),e.NdJ("submit",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.submit())}),e.TgZ(3,"nz-form-item")(4,"nz-form-label",4),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"nz-form-control",5),e._UZ(7,"input",6,7),e.qZA()(),e.TgZ(9,"nz-form-item")(10,"nz-form-label",8),e._uU(11,"Folder Color "),e.TgZ(12,"nz-tag",9),e._uU(13,"\xa0 "),e.qZA()(),e.TgZ(14,"nz-dropdown-menu",null,10)(16,"ul",11),e.YNc(17,$h,3,1,"li",12),e.qZA()()(),e.TgZ(18,"button",13),e._uU(19),e.qZA()()(),e.BQk()}if(2&r){const A=e.MAs(15),t=e.oxw();e.xp6(1),e.Q6J("nzSpinning",t.loading),e.xp6(1),e.Q6J("formGroup",t.form)("nzLayout","vertical"),e.xp6(2),e.Q6J("nzSpan",null),e.xp6(2),e.Q6J("nzSpan",null)("nzErrorTip","Please enter a name!"),e.xp6(1),e.Q6J("formControlName","name"),e.xp6(3),e.Q6J("nzSpan",null),e.xp6(2),e.Q6J("nzColor",t.activeColor)("nzDropdownMenu",A)("nzTrigger","click"),e.xp6(5),e.Q6J("ngForOf",t.COLOR_CODES),e.xp6(1),e.Q6J("nzType","primary")("disabled",!t.valid),e.xp6(1),e.Oqu(t.buttonText)}}let Cd=(()=>{var r;class i{get activeColor(){return this.form.controls.color_code.value}get title(){return this.folderId?"Update the folder":"Create a folder"}get buttonText(){return this.folderId?"Update":"Create"}get valid(){return this.form.valid}constructor(t,n,s,o,h){this.ngZone=t,this.cdr=n,this.fb=s,this.api=o,this.service=h,this.folderId=null,this.show=!1,this.loading=!1,this.COLOR_CODES=Ot.lD,this.createCallback=null,this.form=this.fb.group({name:[null,[Pe.kI.required]],color_code:[null]}),this.service.onCreateInvoke.pipe((0,Pt.sL)()).subscribe(p=>{this.createCallback=p,this.open()})}open(){this.show=!0,this.cdr.markForCheck()}close(){this.show=!1,this.form.reset({name:null,color_code:null}),this.invokeCreate(),this.cdr.markForCheck()}invokeCreate(t){this.createCallback&&(this.createCallback(t),this.createCallback=null)}submit(){var t=this;return(0,ce.Z)(function*(){if(!t.form.invalid){try{t.loading=!0;const n={name:t.form.value.name,color_code:t.form.value.color_code},s=yield t.api.create(n);s.done&&(t.invokeCreate(s.body),t.close()),t.loading=!1}catch{t.loading=!1}t.cdr.markForCheck()}})()}setColorCode(t){this.form.controls.color_code.setValue(t)}onVisibilityChange(t){t&&this.setFocusToNameInput()}setFocusToNameInput(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const t=this.nameInput.nativeElement;t&&t.focus()},100)})}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(Pe.qu),e.Y36(ra.Y),e.Y36(vd.I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-projects-folder-form-drawer"]],viewQuery:function(t,n){if(1&t&&e.Gf(Mc,5),2&t){let s;e.iGM(s=e.CRH())&&(n.nameInput=s.first)}},inputs:{folderId:"folderId"},decls:2,vars:4,consts:[[3,"nzClosable","nzTitle","nzVisible","nzPlacement","nzOnClose","nzVisibleChange"],[4,"nzDrawerContent"],[3,"nzSpinning"],["nz-form","",3,"formGroup","nzLayout","submit"],["nzRequired","",3,"nzSpan"],[3,"nzSpan","nzErrorTip"],["nz-input","","placeholder","Enter your folder name",3,"formControlName"],["nameInput",""],["nzRequired","",1,"pb-0",3,"nzSpan"],["nz-dropdown","",1,"ms-2","rounded-circle","cursor-pointer",2,"width","20px","height","20px",3,"nzColor","nzDropdownMenu","nzTrigger"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable","",2,"max-height","200px","overflow","hidden","overflow-y","auto"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-button","","nzBlock","","type","submit",3,"nzType","disabled"],["nz-menu-item","",3,"click"],[1,"me-1","w-100","rounded-pill",2,"height","16px !important","width","16px !important",3,"nzColor"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-drawer",0),e.NdJ("nzOnClose",function(){return n.close()})("nzVisibleChange",function(o){return n.onVisibilityChange(o)}),e.YNc(1,ep,20,15,"ng-container",1),e.qZA()),2&t&&e.Q6J("nzClosable",!0)("nzTitle",n.title)("nzVisible",n.show)("nzPlacement","right")},dependencies:[Ie.sg,Pe._Y,Pe.Fj,Pe.JJ,Pe.JL,Pe.sg,Pe.u,hn.t3,hn.SK,mn.Lr,mn.Nx,mn.iK,mn.Fd,nA.Zp,Vt.ix,Wt.w,an.dQ,AA.j,QA.W,lA.Vz,lA.SQ,zn.wO,zn.r9,cn.cm,cn.RR],changeDetection:0}),i})();var Ec=oe(16406),ia=oe(90586),ji=oe(31215),yn=oe(32333),JA=oe(64532),Bd=oe(53980),Lc=oe(80697),YA=oe(55416),tp=oe(52732),Tr=oe(26254),xt=oe(13740),zt=oe(62595),Ut=oe(8083),qA=oe(62612),ms=oe(48128),Zt=oe(96109),Mn=oe(24139),DA=oe(82962),HA=oe(92574),fr=oe(33640),Ri=oe(22114),Nc=oe(98421),FA=oe(99183),VA=oe(76271);let bd=(()=>{var r;class i{transform(t){return`Click to filter by "${t}".`}}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"projectFilterByTooltip",type:r,pure:!0}),i})();const Oc=["displayModeTemplate"];function np(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.refresh())}),e._UZ(1,"span",26),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("nzShape","circle")("nzTooltipTitle","Refresh projects")("nzType","default"),e.xp6(1),e.Q6J("nzSpin",A.loading)("nzTheme","outline")("nzType","sync")}}function co(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-segmented",27),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.filterIndex=n)})("nzValueChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.onFilterChange(n))}),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("ngModel",A.filterIndex)("nzOptions",A.filters)}}function Pc(r,i){1&r&&e._UZ(0,"span",32)}function sa(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"form",28),e.NdJ("ngSubmit",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.searchProjects())}),e.TgZ(1,"nz-input-group",29),e._UZ(2,"input",30),e.qZA(),e.YNc(3,Pc,1,0,"ng-template",null,31,e.W1O),e.qZA()}if(2&r){const A=e.MAs(4),t=e.oxw();e.Q6J("formGroup",t.searchForm)("nzLayout","vertical"),e.xp6(1),e.Q6J("nzSuffix",A),e.xp6(1),e.Q6J("formControlName","search")}}function lo(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(3);return e.KtG(n.openProjectForm())}),e._UZ(1,"span",41),e._uU(2,"Create Project"),e.qZA()}2&r&&e.Q6J("nzType","primary")}function Ap(r,i){if(1&r&&(e.TgZ(0,"button",42),e._UZ(1,"span",43),e.qZA()),2&r){e.oxw(2);const A=e.MAs(3);e.Q6J("nzType","primary")("nzDropdownMenu",A)("nzTrigger","click")("nzPlacement","bottomRight")}}function xd(r,i){if(1&r&&(e.TgZ(0,"span")(1,"nz-button-group"),e.YNc(2,lo,3,1,"button",38),e.YNc(3,Ap,2,4,"button",39),e.qZA()()),2&r){const A=e.oxw(2);e.xp6(2),e.Q6J("ngIf",A.isOwnerOrAdmin()),e.xp6(1),e.Q6J("ngIf",A.isOwnerOrAdmin())}}function Dc(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.YNc(1,xd,4,2,"span",33),e.TgZ(2,"nz-dropdown-menu",null,34)(4,"ul",35)(5,"li",36),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.openTemplateSelector())}),e._UZ(6,"span",37),e._uU(7," Create from template "),e.qZA()()(),e.BQk()}}function uo(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw(3).$implicit;e.xp6(1),e.hij("Start date : ",e.xi3(2,1,A.start_date,"mediumDate"),"")}}function Hc(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw(3).$implicit;e.xp6(1),e.hij("End date : ",e.xi3(2,1,A.end_date,"mediumDate"),"")}}function _s(r,i){if(1&r&&(e.YNc(0,uo,3,4,"div",5),e.YNc(1,Hc,3,4,"div",5)),2&r){const A=e.oxw(2).$implicit;e.Q6J("ngIf",A.start_date),e.xp6(1),e.Q6J("ngIf",A.end_date)}}function ZA(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",60),e._UZ(2,"span",12),e.qZA(),e.YNc(3,_s,2,2,"ng-template",null,61,e.W1O),e.BQk()),2&r){const A=e.MAs(4);e.xp6(1),e.Q6J("nzType","secondary")("nzTooltipTitle",A),e.xp6(1),e.Q6J("nzType","calendar")("nzTheme","outline")}}function ho(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-tag",62),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw();return n.stopPropagation(),e.KtG(o.filterByCategory(s.category_id))}),e.ALo(1,"projectFilterByTooltip"),e._uU(2),e.qZA()}if(2&r){const A=e.oxw().$implicit;e.Q6J("nzTooltipTitle",e.lcZ(1,3,A.category_name))("nzColor",A.category_color),e.xp6(2),e.Oqu(A.category_name)}}function po(r,i){1&r&&(e.ynx(0),e._uU(1,"-"),e.BQk())}function ws(r,i){1&r&&(e.ynx(0),e._uU(1," N/A "),e.BQk())}const yd=function(){return[]};function Gi(r,i){if(1&r&&e._UZ(0,"worklenz-avatars",63),2&r){const A=e.oxw().$implicit;e.Q6J("names",A.names||e.DdM(1,yd))}}function rp(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2).$implicit,o=e.oxw();return n.stopPropagation(),e.KtG(o.openProjectForm(s.id))}),e._UZ(1,"span",53),e.qZA()}2&r&&(e.Q6J("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Settings")("nzType","default"),e.xp6(1),e.Q6J("nzType","setting"))}function oa(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2).$implicit,o=e.oxw();return n.stopPropagation(),e.KtG(o.toggleArchive(s))}),e._UZ(1,"span",12),e.qZA()}if(2&r){const A=e.oxw(2).$implicit;e.Q6J("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle",A.archived?"Remove from archive":"Archive")("nzLoading",A.loading)("nzType","default"),e.xp6(1),e.Q6J("nzType","inbox")("nzTheme","outline")}}function aa(r,i){1&r&&(e.TgZ(0,"div",64)(1,"nz-space"),e.YNc(2,rp,2,5,"button",65),e.YNc(3,oa,2,7,"button",66),e.qZA()())}function Zc(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"tr",44),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.selectProject(s.id,s.team_member_default_view?s.team_member_default_view:"TASK_LIST"))}),e.TgZ(1,"td",45)(2,"div",46)(3,"nz-rate",47),e.NdJ("click",function(n){const o=e.CHM(A).$implicit,h=e.oxw();return n.stopPropagation(),e.KtG(h.toggleFavorite(o.id))}),e.qZA(),e.TgZ(4,"span",48),e._UZ(5,"nz-badge",49),e._uU(6),e.YNc(7,ZA,5,4,"ng-container",5),e.qZA()()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.ynx(11,50),e.YNc(12,ho,3,5,"nz-tag",51),e.YNc(13,po,2,0,"ng-container",52),e.BQk(),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"span",53),e.ALo(16,"safeString"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"nz-progress",54),e.qZA(),e.TgZ(20,"td")(21,"span",55),e.ALo(22,"date"),e._uU(23),e.qZA()(),e.TgZ(24,"td"),e.YNc(25,ws,2,0,"ng-container",56),e.YNc(26,Gi,1,2,"ng-template",null,57,e.W1O),e.qZA(),e.TgZ(28,"td",58),e.YNc(29,aa,4,0,"div",59),e.qZA()()}if(2&r){const A=i.$implicit,t=e.MAs(27),n=e.oxw();e.xp6(3),e.Q6J("nzTooltipTitle",A.favorite?"Remove from favorites":"Add to favorites")("nzCount",1)("ngModel",A.favorite?1:0),e.xp6(2),e.Q6J("nzColor",A.color_code)("nzSize","default"),e.xp6(1),e.hij(" ",A.name," "),e.xp6(1),e.Q6J("ngIf",A.start_date||A.end_date),e.xp6(2),e.Oqu(A.client_name||"-"),e.xp6(2),e.Q6J("ngSwitch",!!A.category_name),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(2),e.Udp("color",A.status_color),e.Q6J("nzType",e.lcZ(16,25,A.status_icon)),e.xp6(2),e.hij(" ",A.status," "),e.xp6(2),e.Q6J("nzPercent",A.progress)("nzStrokeColor",A.color_code)("nzTooltipTitle",n.getTaskProgressTitle(A)),e.xp6(2),e.Q6J("nzTooltipTitle",e.xi3(22,27,A.updated_at,"medium"))("nzTooltipMouseEnterDelay",1),e.xp6(2),e.Oqu(A.updated_at_string),e.xp6(2),e.Q6J("ngIf",!(null!=A.names&&A.names.length))("ngIfElse",t),e.xp6(3),e.Q6J("nzAlign","center"),e.xp6(1),e.Q6J("ngIf",n.isOwnerOrAdmin())}}function jc(r,i){1&r&&(e.ynx(0),e._uU(1,"The team currently has no active projects."),e.BQk())}function Rc(r,i){1&r&&(e.ynx(0),e._uU(1,"You're yet to mark any projects as favorites."),e.BQk())}function fo(r,i){1&r&&(e.ynx(0),e._uU(1,"The selected team has no archived projects."),e.BQk())}function Gc(r,i){if(1&r&&(e.TgZ(0,"div",69)(1,"div",70),e._UZ(2,"img",71),e.qZA(),e.TgZ(3,"div",72),e.YNc(4,jc,2,0,"ng-container",52),e.YNc(5,Rc,2,0,"ng-container",52),e.YNc(6,fo,2,0,"ng-container",52),e.qZA()()),2&r){const A=e.oxw();e.xp6(3),e.Q6J("ngSwitch",A.filterIndex),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",2)}}function ca(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",74),e.NdJ("nzCheckedChange",function(n){const o=e.CHM(A).$implicit;return e.KtG(o.selected=n)})("nzCheckedChange",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.onCategoryFilterChange())}),e._uU(1),e.qZA()}if(2&r){const A=i.$implicit;e.Q6J("nzChecked",A.selected),e.xp6(1),e.Oqu(A.name)}}function la(r,i){if(1&r&&(e.ynx(0),e.YNc(1,ca,2,2,"li",73),e.BQk()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngForOf",A.categories)}}function Kc(r,i){1&r&&(e.TgZ(0,"li",75),e._uU(1,"No categories found"),e.qZA())}function Td(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",74),e.NdJ("nzCheckedChange",function(n){const o=e.CHM(A).$implicit;return e.KtG(o.selected=n)})("nzCheckedChange",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.onStatusFilterChange())}),e._uU(1),e.qZA()}if(2&r){const A=i.$implicit;e.Q6J("nzChecked",A.selected),e.xp6(1),e.Oqu(A.name)}}function ip(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Td,2,2,"li",73),e.BQk()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngForOf",A.statuses)}}function sp(r,i){1&r&&(e.TgZ(0,"li",75),e._uU(1,"No categories found"),e.qZA())}const kd=function(){return{rows:7}};let jt=(()=>{var r;class i{get filterIndex(){return+(localStorage.getItem(this.FILTER_INDEX_KEY)||0)}set filterIndex(t){localStorage.setItem(this.FILTER_INDEX_KEY,t.toString())}get displayAs(){return+(localStorage.getItem(this.DISPLAY_MODE_KEY)||0)}set displayAs(t){localStorage.setItem(this.DISPLAY_MODE_KEY,t.toString())}get profile(){return this.auth.getCurrentSession()}constructor(t,n,s,o,h,p,_,B,x,y,v,M){this.app=t,this.api=n,this.fb=s,this.auth=o,this.router=h,this.route=p,this.utilsService=_,this.categoriesApi=B,this.templatesApi=x,this.cdr=y,this.list=v,this.statusesApi=M,this.FILTER_INDEX_KEY="worklenz.projects.filter_index",this.DISPLAY_MODE_KEY="worklenz.projects.display_as",this.projectsModel={},this.categories=[],this.statuses=[],this.expandSet=new Set,this.total=0,this.pageSize=Ot.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.categoriesFilterString=null,this.statusesFilterString=null,this.loading=!0,this.loadingCategories=!1,this.loadingStatuses=!1,this.showCategoriesFilter=!1,this.showStatusesFilter=!1,this.filteredByCategory=!1,this.filteredByStatus=!1,this.filters=["All","Favorites","Archived"],this.displayModes=[{label:"List",value:"list",useTemplate:!0},{label:"Folder",value:"folder",useTemplate:!0}],this.app.setTitle("Projects"),this.trackVisit(),this.pageSize=+(this.route.snapshot.queryParamMap.get("size")||Ot.L8),this.pageIndex=+(this.route.snapshot.queryParamMap.get("index")||1)}ngOnInit(){var t=this;return(0,ce.Z)(function*(){t.searchForm=t.fb.group({search:[]}),t.searchForm.valueChanges.subscribe(()=>{t.searchProjects()}),t.getCategories(),t.getStatuses()})()}getFilterIndexText(){return this.filters[this.filterIndex]}refresh(){pt.s.track(Ve.vQ),this.getCategories(),this.getProjects()}import(){var t=this;return(0,ce.Z)(function*(){yield t.templatesApi.createTemplates()})()}getCategories(){var t=this;return(0,ce.Z)(function*(){try{t.loadingCategories=!0;const n=yield t.categoriesApi.get();n.done&&(t.categories=n.body),t.loadingCategories=!1}catch{t.loadingCategories=!1}t.cdr.markForCheck()})()}getStatuses(){var t=this;return(0,ce.Z)(function*(){try{t.loadingStatuses=!0;const n=yield t.statusesApi.get();n.done&&(t.statuses=n.body),t.loadingStatuses=!1}catch{t.loadingStatuses=!1}t.cdr.markForCheck()})()}getProjects(t=!1){var n=this;return(0,ce.Z)(function*(){try{t||(n.loading=!0);const s=yield n.api.getByConfig({index:n.pageIndex,size:n.pageSize,field:n.sortField,order:n.sortOrder,search:n.searchForm.value.search,filter:n.filterIndex.toString(),categories:n.categoriesFilterString,statuses:n.statusesFilterString});s.done&&n.handleProjectsResponse(s),n.loading=!1}catch(s){n.loading=!1,(0,st.tu)(s)}n.cdr.markForCheck()})()}handleProjectsResponse(t){this.projectsModel=t.body,this.total=this.projectsModel.total||0,this.utilsService.handleLastIndex(this.total,this.projectsModel.data?.length||0,this.pageIndex,n=>{this.pageIndex=n,this.getProjects()})}searchProjects(){var t=this;return(0,ce.Z)(function*(){t.searchForm.value.search&&pt.s.track(Ve.KI),yield t.getProjects()})()}isOwnerOrAdmin(){return this.auth.isOwnerOrAdmin()}openProjectForm(t){pt.s.track(t?Ve.GN:Ve._0),this.projectsForm?.open(t,!!t)}selectProject(t,n){if(!t)return;let s="tasks-list";switch(n){case"TASK_LIST":default:s="tasks-list";break;case"BOARD":s="board"}this.router.navigate([`/worklenz/projects/${t}`],{queryParams:{tab:`${s}`,pinned_tab:`${s}`}})}getTaskProgressTitle(t){return t.all_tasks_count?t.all_tasks_count==t.completed_tasks_count?"All tasks completed.":`${t.completed_tasks_count||0}/${t.all_tasks_count||0} tasks completed.`:"No tasks available."}toggleFavorite(t){var n=this;return(0,ce.Z)(function*(){if(t)try{const s=yield n.api.toggleFavorite(t);1==n.filterIndex&&s.done&&n.getProjects(!0)}catch(s){(0,st.tu)(s)}})()}toggleArchive(t){var n=this;return(0,ce.Z)(function*(){if(t&&t.id&&!t.loading)try{t.loading=!0,n.isOwnerOrAdmin()?(yield n.api.toggleArchiveAll(t.id)).done&&(pt.s.track(t.archived?Ve.vE:Ve.S9),yield n.getProjects(!0)):(yield n.api.toggleArchive(t.id)).done&&(pt.s.track(t.archived?Ve.$n:Ve.z1),yield n.getProjects(!0)),t.loading=!1}catch(s){t.loading=!1,(0,st.tu)(s)}})()}onFilterChange(t){this.loading||(this.filterIndex=t,this.trackVisit(),this.getProjects())}trackBy(t,n){return n.id}trackVisit(){pt.s.track(Ve.QJ,{filter:this.getFilterIndexText()})}onProjectCreate(t){t?.id&&(this.list.setCurrentGroup(this.list.GROUP_BY_OPTIONS[0]),this.selectProject(t.id,"TASK_LIST"))}onQueryParamsChange(t){const{pageSize:n,pageIndex:s,sort:o}=t;this.pageIndex=s,this.pageSize=n;const h=o.find(p=>null!==p.value);this.sortField=h?.key??null,this.sortOrder=h?.value??null,this.getProjects()}filterByCategory(t){if(!t)return;const n=this.categories.find(s=>s.id===t);n&&(n.selected=!0,this.onCategoryFilterChange())}filterByStatus(t){if(!t)return;const n=this.statuses.find(s=>s.id===t);n&&(n.selected=!0,this.onStatusFilterChange())}onCategoryFilterChange(){const t=this.categories.filter(s=>s.selected);this.filteredByCategory=!!t.length;const n=t.map(s=>s.id).join("+");this.categoriesFilterString=n||null,this.getProjects()}onStatusFilterChange(){const t=this.statuses.filter(s=>s.selected);this.filteredByStatus=!!t.length;const n=t.map(s=>s.id).join("+");this.statusesFilterString=n||null,this.getProjects()}onProjectUpdated(){this.getProjects(),this.getCategories()}openTemplateSelector(){this.projectTemplateDrawer.open(),this.cdr.markForCheck(),pt.s.track(Ve.Ye)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ia.z),e.Y36(ji.U),e.Y36(Pe.qu),e.Y36(yn.e),e.Y36(wt.F0),e.Y36(wt.gz),e.Y36(JA.F),e.Y36(Bd.s),e.Y36(Lc.I),e.Y36(e.sBO),e.Y36(YA.b),e.Y36(tp.k))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-projects"]],viewQuery:function(t,n){if(1&t&&(e.Gf(yr.g,5),e.Gf(Cd,5),e.Gf(Oc,7,e.Rgc),e.Gf(Ec.p,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.projectsForm=s.first),e.iGM(s=e.CRH())&&(n.folderForm=s.first),e.iGM(s=e.CRH())&&(n.displayModeSegments=s.first),e.iGM(s=e.CRH())&&(n.projectTemplateDrawer=s.first)}},decls:51,vars:52,consts:[[1,"container"],[1,"px-0",3,"nzGhost"],["nz-button","","nz-tooltip","",3,"nzShape","nzTooltipTitle","nzType","click",4,"nzSpaceItem"],[3,"ngModel","nzOptions","ngModelChange","nzValueChange",4,"nzSpaceItem"],["nz-form","",3,"formGroup","nzLayout","ngSubmit",4,"nzSpaceItem"],[4,"ngIf"],[3,"nzActive","nzLoading","nzParagraph"],[1,"custom-table",3,"nzData","nzFrontPagination","nzLoading","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzShowSizeChanger","nzSize","nzNoResult","nzQueryParams"],["table",""],["scope","col",3,"nzSortFn","nzColumnKey"],["scope","col",3,"nzSortFn","nzColumnKey","nzFilterFn","nzCustomFilter"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","",3,"nzType","nzTheme"],["scope","col",2,"width","110px",3,"nzSortFn","nzColumnKey","nzFilterFn","nzCustomFilter"],["scope","col",1,"pe-5","b-none"],["scope","col",3,"nzSortFn","nzColumnKey","nzAlign"],["colspan","2","scope","col",3,"nzAlign"],["class","actions-row cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"onCreate","onDelete","onUpdate"],[3,"showBothTabs","importProject"],["noDataTemplate",""],["categoriesDropdown","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","","nzDisabled","",4,"ngIf"],["statusesDropdown","nzDropdownMenu"],["nz-button","","nz-tooltip","",3,"nzShape","nzTooltipTitle","nzType","click"],["nz-icon","",3,"nzSpin","nzTheme","nzType"],[3,"ngModel","nzOptions","ngModelChange","nzValueChange"],["nz-form","",3,"formGroup","nzLayout","ngSubmit"],[3,"nzSuffix"],["nz-input","","placeholder","Search by name","type","text",3,"formControlName"],["suffixIconSearch",""],["nz-icon","","nzType","search"],[4,"nzSpaceItem"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","import","nzTheme","outline",1,"me-2"],["nz-button","",3,"nzType","click",4,"ngIf"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzTrigger","nzPlacement",4,"ngIf"],["nz-button","",3,"nzType","click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nz-dropdown","",3,"nzType","nzDropdownMenu","nzTrigger","nzPlacement"],["nz-icon","","nzType","down","nzTheme","outline"],[1,"actions-row","cursor-pointer",3,"click"],[1,""],[1,"align-items-center","d-flex","w-100"],["nz-tooltip","",1,"me-2",3,"nzTooltipTitle","nzCount","ngModel","click"],[1,"w-100","project-name-col"],[3,"nzColor","nzSize"],[3,"ngSwitch"],["class","rounded-pill category-tag","nz-tooltip","",3,"nzTooltipTitle","nzColor","click",4,"ngSwitchCase"],[4,"ngSwitchCase"],["nz-icon","",3,"nzType"],["nz-tooltip","",3,"nzPercent","nzStrokeColor","nzTooltipTitle"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipMouseEnterDelay"],[4,"ngIf","ngIfElse"],["avatars",""],[3,"nzAlign"],["class","actions",4,"ngIf"],["nz-typography","","nz-tooltip","",1,"ms-1",3,"nzType","nzTooltipTitle"],["titleContent",""],["nz-tooltip","",1,"rounded-pill","category-tag",3,"nzTooltipTitle","nzColor","click"],[3,"names"],[1,"actions"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzLoading","nzType","click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","click"],["nz-button","","nz-tooltip","",3,"nzSize","nzTooltipPlacement","nzTooltipTitle","nzLoading","nzType","click"],[1,"pt-5","pb-5"],[1,"no-data-img-holder","mx-auto","mb-4"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text",3,"ngSwitch"],["class","m-0 d-flex align-items-baseline","nz-checkbox","","nz-menu-item","",3,"nzChecked","nzCheckedChange",4,"ngFor","ngForOf"],["nz-checkbox","","nz-menu-item","",1,"m-0","d-flex","align-items-baseline",3,"nzChecked","nzCheckedChange"],["nz-menu-item","","nzDisabled",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"nz-page-header",1)(2,"nz-page-header-title"),e._uU(3),e.qZA(),e.TgZ(4,"nz-page-header-extra")(5,"nz-space"),e.YNc(6,np,2,6,"button",2),e.YNc(7,co,1,2,"nz-segmented",3),e.YNc(8,sa,5,4,"form",4),e.YNc(9,Dc,8,0,"ng-container",5),e.qZA()()(),e.TgZ(10,"nz-card")(11,"nz-skeleton",6)(12,"nz-table",7,8),e.NdJ("nzQueryParams",function(o){return n.onQueryParamsChange(o)}),e.TgZ(14,"thead")(15,"tr")(16,"th",9),e._uU(17,"Name"),e.qZA(),e.TgZ(18,"th",9),e._uU(19,"Client"),e.qZA(),e.TgZ(20,"th",10),e._uU(21," Category "),e.TgZ(22,"nz-filter-trigger",11),e.NdJ("nzVisibleChange",function(o){return n.showCategoriesFilter=o}),e._UZ(23,"span",12),e.qZA()(),e.TgZ(24,"th",13),e._uU(25," Status "),e.TgZ(26,"nz-filter-trigger",11),e.NdJ("nzVisibleChange",function(o){return n.showStatusesFilter=o}),e._UZ(27,"span",12),e.qZA()(),e.TgZ(28,"th",14),e._uU(29,"Tasks Progress"),e.qZA(),e.TgZ(30,"th",15),e._uU(31,"Last Updated"),e.qZA(),e.TgZ(32,"th",16),e._uU(33,"Members"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,Zc,30,30,"tr",17),e.qZA()()()()(),e.TgZ(36,"worklenz-project-form-modal",18),e.NdJ("onCreate",function(o){return n.onProjectCreate(o)})("onDelete",function(){return n.getProjects()})("onUpdate",function(){return n.onProjectUpdated()}),e.qZA(),e._UZ(37,"worklenz-projects-folder-form-drawer"),e.TgZ(38,"worklenz-project-template-import-drawer",19),e.NdJ("importProject",function(){return n.getProjects(!1)}),e.qZA(),e.YNc(39,Gc,7,4,"ng-template",null,20,e.W1O),e.TgZ(41,"nz-dropdown-menu",null,21)(43,"ul",22),e.YNc(44,la,2,1,"ng-container",5),e.YNc(45,Kc,2,0,"li",23),e.qZA()(),e.TgZ(46,"nz-dropdown-menu",null,24)(48,"ul",22),e.YNc(49,ip,2,1,"ng-container",5),e.YNc(50,sp,2,0,"li",23),e.qZA()()),2&t){const s=e.MAs(13),o=e.MAs(40),h=e.MAs(42),p=e.MAs(47);e.xp6(1),e.Q6J("nzGhost",!1),e.xp6(2),e.AsE("",n.total||0," Project",n.total>1?"s":"",""),e.xp6(6),e.Q6J("ngIf",n.isOwnerOrAdmin()),e.xp6(2),e.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",e.DdM(50,kd)),e.xp6(1),e.Q6J("nzData",n.projectsModel.data||e.DdM(51,yd))("nzFrontPagination",!1)("nzLoading",n.loading)("nzPageIndex",n.pageIndex)("nzPageSizeOptions",n.paginationSizes)("nzPageSize",n.pageSize)("nzTotal",n.total)("nzShowSizeChanger",!0)("nzSize","small")("nzNoResult",o),e.xp6(4),e.Q6J("nzSortFn",!0)("nzColumnKey","name"),e.xp6(2),e.Q6J("nzSortFn",!0)("nzColumnKey","client_name"),e.xp6(2),e.Q6J("nzSortFn",!0)("nzColumnKey","category_id")("nzFilterFn",!0)("nzCustomFilter",!0),e.xp6(2),e.Q6J("nzVisible",n.showCategoriesFilter)("nzActive",n.filteredByCategory)("nzDropdownMenu",h),e.xp6(1),e.Q6J("nzType","filter")("nzTheme","fill"),e.xp6(1),e.Q6J("nzSortFn",!0)("nzColumnKey","status_id")("nzFilterFn",!0)("nzCustomFilter",!0),e.xp6(2),e.Q6J("nzVisible",n.showStatusesFilter)("nzActive",n.filteredByStatus)("nzDropdownMenu",p),e.xp6(1),e.Q6J("nzType","filter")("nzTheme","fill"),e.xp6(3),e.Q6J("nzSortFn",!0)("nzColumnKey","updated_at")("nzAlign","left"),e.xp6(2),e.Q6J("nzAlign","left"),e.xp6(3),e.Q6J("ngForOf",s.data)("ngForTrackBy",n.trackBy),e.xp6(3),e.Q6J("showBothTabs",!0),e.xp6(6),e.Q6J("ngIf",n.categories.length),e.xp6(1),e.Q6J("ngIf",!n.categories.length),e.xp6(4),e.Q6J("ngIf",n.statuses.length),e.xp6(1),e.Q6J("ngIf",!n.statuses.length)}},dependencies:[Ie.sg,Ie.O5,Ie.RF,Ie.n9,Pe._Y,Pe.Fj,Pe.JJ,Pe.JL,Pe.sg,Pe.u,mn.Lr,nA.Zp,nA.gB,nA.ke,Tr.$O,Tr.u9,Tr.Jp,Vt.ix,Vt.fY,Wt.w,an.dQ,xt.N8,xt.qD,xt.Uo,xt._C,xt.Om,xt.p0,xt.$Z,xt.Ql,xt.UX,zt.Ls,Ut.ZU,AA.j,Pe.On,qA.Ie,ms.M,Zt.SY,Mn.ng,DA.bd,HA.NU,HA.$1,fr.x7,Ri.wY,zn.wO,zn.r9,cn.cm,cn.RR,cn.wA,Nc.sn,FA.o,yr.g,Ec.p,Cd,Ie.uU,VA.m,bd],styles:[".actions-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 8px!important}.project-name-col[_ngcontent-%COMP%]{display:flex;align-items:center}.no-data-img-holder[_ngcontent-%COMP%]{width:100px}.category-tag[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),i})();var da=oe(5227),mA=oe(40581),qn=oe(62816);function vs(r,i){(0,qn.Z)(2,arguments);var A=(0,mA.Z)(r),t=(0,mA.Z)(i),n=A.getTime()-t.getTime();return n<0?-1:n>0?1:n}var Qd=oe(80275),Fd=oe(78970),zd=oe(13061),ap=oe(46719),Ud=oe(48292),Yc=oe(45351);function Id(r,i,A){var t,n;(0,qn.Z)(2,arguments);var s=(0,da.j)(),o=null!==(t=null!==(n=A?.locale)&&void 0!==n?n:s.locale)&&void 0!==t?t:ap.Z;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var h=vs(r,i);if(isNaN(h))throw new RangeError("Invalid time value");var _,B,p=(0,Ud.Z)(function Jc(r){return(0,Ud.Z)({},r)}(A),{addSuffix:!!A?.addSuffix,comparison:h});h>0?(_=(0,mA.Z)(i),B=(0,mA.Z)(r)):(_=(0,mA.Z)(r),B=(0,mA.Z)(i));var M,x=(0,zd.Z)(B,_),y=((0,Yc.Z)(B)-(0,Yc.Z)(_))/1e3,v=Math.round((x-y)/60);if(v<2)return null!=A&&A.includeSeconds?x<5?o.formatDistance("lessThanXSeconds",5,p):x<10?o.formatDistance("lessThanXSeconds",10,p):x<20?o.formatDistance("lessThanXSeconds",20,p):x<40?o.formatDistance("halfAMinute",0,p):o.formatDistance(x<60?"lessThanXMinutes":"xMinutes",1,p):0===v?o.formatDistance("lessThanXMinutes",1,p):o.formatDistance("xMinutes",v,p);if(v<45)return o.formatDistance("xMinutes",v,p);if(v<90)return o.formatDistance("aboutXHours",1,p);if(v<1440){var E=Math.round(v/60);return o.formatDistance("aboutXHours",E,p)}if(v<2520)return o.formatDistance("xDays",1,p);if(v<43200){var Z=Math.round(v/1440);return o.formatDistance("xDays",Z,p)}if(v<86400)return M=Math.round(v/43200),o.formatDistance("aboutXMonths",M,p);if(M=function op(r,i){(0,qn.Z)(2,arguments);var o,A=(0,mA.Z)(r),t=(0,mA.Z)(i),n=vs(A,t),s=Math.abs((0,Qd.Z)(A,t));if(s<1)o=0;else{1===A.getMonth()&&A.getDate()>27&&A.setDate(30),A.setMonth(A.getMonth()-n*s);var h=vs(A,t)===-n;(0,Fd.Z)((0,mA.Z)(r))&&1===s&&1===vs(r,t)&&(h=!1),o=n*(s-Number(h))}return 0===o?0:o}(B,_),M<12){var I=Math.round(v/43200);return o.formatDistance("xMonths",I,p)}var j=M%12,X=Math.floor(M/12);return j<3?o.formatDistance("aboutXYears",X,p):j<9?o.formatDistance("overXYears",X,p):o.formatDistance("almostXYears",X+1,p)}var en=oe(71002),tn=Uint8Array,Vn=Uint16Array,WA=Uint32Array,Bs=new tn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bs=new tn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ci=new tn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xs=function(r,i){for(var A=new Vn(31),t=0;t<31;++t)A[t]=i+=1<<r[t-1];var n=new WA(A[30]);for(t=1;t<30;++t)for(var s=A[t];s<A[t+1];++s)n[s]=s-A[t]<<5|t;return[A,n]},Ed=xs(Bs,2),Vc=Ed[0],ua=Ed[1];Vc[28]=258,ua[258]=28;for(var go=xs(bs,0),mo=go[0],Ki=go[1],_o=new Vn(32768),Dt=0;Dt<32768;++Dt){var Bi=(43690&Dt)>>>1|(21845&Dt)<<1;_o[Dt]=((65280&(Bi=(61680&(Bi=(52428&Bi)>>>2|(13107&Bi)<<2))>>>4|(3855&Bi)<<4))>>>8|(255&Bi)<<8)>>>1}var XA=function(r,i,A){for(var t=r.length,n=0,s=new Vn(i);n<t;++n)++s[r[n]-1];var h,o=new Vn(i);for(n=0;n<i;++n)o[n]=o[n-1]+s[n-1]<<1;if(A){h=new Vn(1<<i);var p=15-i;for(n=0;n<t;++n)if(r[n])for(var _=n<<4|r[n],B=i-r[n],x=o[r[n]-1]++<<B,y=x|(1<<B)-1;x<=y;++x)h[_o[x]>>>p]=_}else for(h=new Vn(t),n=0;n<t;++n)h[n]=_o[o[r[n]-1]++]>>>15-r[n];return h},Yr=new tn(288);for(Dt=0;Dt<144;++Dt)Yr[Dt]=8;for(Dt=144;Dt<256;++Dt)Yr[Dt]=9;for(Dt=256;Dt<280;++Dt)Yr[Dt]=7;for(Dt=280;Dt<288;++Dt)Yr[Dt]=8;var ys=new tn(32);for(Dt=0;Dt<32;++Dt)ys[Dt]=5;var Ld=XA(Yr,9,0),Nd=XA(Yr,9,1),Od=XA(ys,5,0),Pd=XA(ys,5,1),Ji=function(r){for(var i=r[0],A=1;A<r.length;++A)r[A]>i&&(i=r[A]);return i},$A=function(r,i,A){var t=i/8>>0;return(r[t]|r[t+1]<<8)>>>(7&i)&A},wo=function(r,i){var A=i/8>>0;return(r[A]|r[A+1]<<8|r[A+2]<<16)>>>(7&i)},vo=function(r){return(r/8>>0)+(7&r&&1)},Yi=function(r,i,A){(null==i||i<0)&&(i=0),(null==A||A>r.length)&&(A=r.length);var t=new(r instanceof Vn?Vn:r instanceof WA?WA:tn)(A-i);return t.set(r.subarray(i,A)),t},er=function(r,i,A){var t=i/8>>0;r[t]|=A<<=7&i,r[t+1]|=A>>>8},tr=function(r,i,A){var t=i/8>>0;r[t]|=A<<=7&i,r[t+1]|=A>>>8,r[t+2]|=A>>>16},ha=function(r,i){for(var A=[],t=0;t<r.length;++t)r[t]&&A.push({s:t,f:r[t]});var n=A.length,s=A.slice();if(!n)return[new tn(0),0];if(1==n){var o=new tn(A[0].s+1);return o[A[0].s]=1,[o,1]}A.sort(function(_e,Se){return _e.f-Se.f}),A.push({s:-1,f:25001});var h=A[0],p=A[1],_=0,B=1,x=2;for(A[0]={s:-1,f:h.f+p.f,l:h,r:p};B!=n-1;)h=A[A[_].f<A[x].f?_++:x++],p=A[_!=B&&A[_].f<A[x].f?_++:x++],A[B++]={s:-1,f:h.f+p.f,l:h,r:p};var y=s[0].s;for(t=1;t<n;++t)s[t].s>y&&(y=s[t].s);var v=new Vn(y+1),M=pa(A[B-1],v,0);if(M>i){t=0;var E=0,Z=M-i,I=1<<Z;for(s.sort(function(Se,ue){return v[ue.s]-v[Se.s]||Se.f-ue.f});t<n;++t){var j=s[t].s;if(!(v[j]>i))break;E+=I-(1<<M-v[j]),v[j]=i}for(E>>>=Z;E>0;){var X=s[t].s;v[X]<i?E-=1<<i-v[X]++-1:++t}for(;t>=0&&E;--t){var ie=s[t].s;v[ie]==i&&(--v[ie],++E)}M=i}return[new tn(v),M]},pa=function(r,i,A){return-1==r.s?Math.max(pa(r.l,i,A+1),pa(r.r,i,A+1)):i[r.s]=A},Wc=function(r){for(var i=r.length;i&&!r[--i];);for(var A=new Vn(++i),t=0,n=r[0],s=1,o=function(p){A[t++]=p},h=1;h<=i;++h)if(r[h]==n&&h!=i)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=r[h]}return[A.subarray(0,t),i]},kr=function(r,i){for(var A=0,t=0;t<i.length;++t)A+=r[t]*i[t];return A},Bo=function(r,i,A){var t=A.length,n=vo(i+2);r[n]=255&t,r[n+1]=t>>>8,r[n+2]=255^r[n],r[n+3]=255^r[n+1];for(var s=0;s<t;++s)r[n+s+4]=A[s];return 8*(n+4+t)},Xc=function(r,i,A,t,n,s,o,h,p,_,B){er(i,B++,A),++n[256];for(var x=ha(n,15),y=x[0],v=x[1],M=ha(s,15),E=M[0],Z=M[1],I=Wc(y),j=I[0],X=I[1],ie=Wc(E),_e=ie[0],Se=ie[1],ue=new Vn(19),Y=0;Y<j.length;++Y)ue[31&j[Y]]++;for(Y=0;Y<_e.length;++Y)ue[31&_e[Y]]++;for(var Qe=ha(ue,7),Fe=Qe[0],D=Qe[1],P=19;P>4&&!Fe[Ci[P-1]];--P);var ve,ke,fe,Ue,$=_+5<<3,q=kr(n,Yr)+kr(s,ys)+o,be=kr(n,y)+kr(s,E)+o+14+3*P+kr(ue,Fe)+(2*ue[16]+3*ue[17]+7*ue[18]);if($<=q&&$<=be)return Bo(i,B,r.subarray(p,p+_));if(er(i,B,1+(be<q)),B+=2,be<q){ve=XA(y,v,0),ke=y,fe=XA(E,Z,0),Ue=E;var ze=XA(Fe,D,0);for(er(i,B,X-257),er(i,B+5,Se-1),er(i,B+10,P-4),B+=14,Y=0;Y<P;++Y)er(i,B+3*Y,Fe[Ci[Y]]);B+=3*P;for(var et=[j,_e],U=0;U<2;++U){var G=et[U];for(Y=0;Y<G.length;++Y)er(i,B,ze[K=31&G[Y]]),B+=Fe[K],K>15&&(er(i,B,G[Y]>>>5&127),B+=G[Y]>>>12)}}else ve=Ld,ke=Yr,fe=Od,Ue=ys;for(Y=0;Y<h;++Y)if(t[Y]>255){var K;tr(i,B,ve[257+(K=t[Y]>>>18&31)]),B+=ke[K+257],K>7&&(er(i,B,t[Y]>>>23&31),B+=Bs[K]);var ne=31&t[Y];tr(i,B,fe[ne]),B+=Ue[ne],ne>3&&(tr(i,B,t[Y]>>>5&8191),B+=bs[ne])}else tr(i,B,ve[t[Y]]),B+=ke[t[Y]];return tr(i,B,ve[256]),B+ke[256]},Dd=new WA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hd=new tn(0),bo=function(r,i,A,t,n){return function(r,i,A,t,n,s){var o=r.length,h=new tn(t+o+5*(1+Math.floor(o/7e3))+n),p=h.subarray(t,h.length-n),_=0;if(!i||o<8)for(var B=0;B<=o;B+=65535){var x=B+65535;x<o?_=Bo(p,_,r.subarray(B,x)):(p[B]=s,_=Bo(p,_,r.subarray(B,o)))}else{for(var y=Dd[i-1],v=y>>>13,M=8191&y,E=(1<<A)-1,Z=new Vn(32768),I=new Vn(E+1),j=Math.ceil(A/3),X=2*j,ie=function(bt){return(r[bt]^r[bt+1]<<j^r[bt+2]<<X)&E},_e=new WA(25e3),Se=new Vn(288),ue=new Vn(32),Y=0,Qe=0,Fe=(B=0,0),D=0,P=0;B<o;++B){var $=ie(B),q=32767&B,be=I[$];if(Z[q]=be,I[$]=q,D<=B){var ve=o-B;if((Y>7e3||Fe>24576)&&ve>423){_=Xc(r,p,0,_e,Se,ue,Qe,Fe,P,B-P,_),Fe=Y=Qe=0,P=B;for(var ke=0;ke<286;++ke)Se[ke]=0;for(ke=0;ke<30;++ke)ue[ke]=0}var fe=2,Ue=0,ze=M,et=q-be&32767;if(ve>2&&$==ie(B-et))for(var U=Math.min(v,ve)-1,G=Math.min(32767,B),K=Math.min(258,ve);et<=G&&--ze&&q!=be;){if(r[B+fe]==r[B+fe-et]){for(var ne=0;ne<K&&r[B+ne]==r[B+ne-et];++ne);if(ne>fe){if(fe=ne,Ue=et,ne>U)break;var ae=Math.min(et,ne-2),ge=0;for(ke=0;ke<ae;++ke){var we=B-et+ke+32768&32767,Re=we-Z[we]+32768&32767;Re>ge&&(ge=Re,be=we)}}}et+=(q=be)-(be=Z[q])+32768&32767}if(Ue){_e[Fe++]=268435456|ua[fe]<<18|Ki[Ue];var je=31&ua[fe],rt=31&Ki[Ue];Qe+=Bs[je]+bs[rt],++Se[257+je],++ue[rt],D=B+fe,++Y}else _e[Fe++]=r[B],++Se[r[B]]}}_=Xc(r,p,s,_e,Se,ue,Qe,Fe,P,B-P,_),s||(_=Bo(p,_,Hd))}return Yi(h,0,t+vo(_)+n)}(r,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+i.mem,A,t,!n)};function ks(r,i){void 0===i&&(i={});var A=function(){var r=1,i=0;return{p:function(A){for(var t=r,n=i,s=A.length,o=0;o!=s;){for(var h=Math.min(o+5552,s);o<h;++o)n+=t+=A[o];t%=65521,n%=65521}r=t,i=n},d:function(){return(r>>>8<<16|(255&i)<<8|i>>>8)+2*((255&r)<<23)}}}();A.p(r);var t=bo(r,i,2,4);return function(r,i){var A=i.level,t=0==A?0:A<6?1:9==A?3:2;r[0]=120,r[1]=t<<6|(t?32-2*t:1)}(t,i),function(r,i,A){for(;A;++i)r[i]=A,A>>>=8}(t,t.length-4,A.d()),t}function nn(r,i){return function(r,i,A){var t=r.length,n=!i||A,s=!A||A.i;A||(A={}),i||(i=new tn(3*t));var o=function(ae){var ge=i.length;if(ae>ge){var we=new tn(Math.max(2*ge,ae));we.set(i),i=we}},h=A.f||0,p=A.p||0,_=A.b||0,B=A.l,x=A.d,y=A.m,v=A.n,M=8*t;do{if(!B){A.f=h=$A(r,p,1);var E=$A(r,p+1,3);if(p+=3,!E){var I=r[(Z=vo(p)+4)-4]|r[Z-3]<<8,j=Z+I;if(j>t){if(s)throw"unexpected EOF";break}n&&o(_+I),i.set(r.subarray(Z,j),_),A.b=_+=I,A.p=p=8*j;continue}if(1==E)B=Nd,x=Pd,y=9,v=5;else{if(2!=E)throw"invalid block type";var X=$A(r,p,31)+257,ie=$A(r,p+10,15)+4,_e=X+$A(r,p+5,31)+1;p+=14;for(var Se=new tn(_e),ue=new tn(19),Y=0;Y<ie;++Y)ue[Ci[Y]]=$A(r,p+3*Y,7);p+=3*ie;var Qe=Ji(ue),Fe=(1<<Qe)-1;if(!s&&p+_e*(Qe+7)>M)break;var D=XA(ue,Qe,1);for(Y=0;Y<_e;){var Z,P=D[$A(r,p,Fe)];if(p+=15&P,(Z=P>>>4)<16)Se[Y++]=Z;else{var $=0,q=0;for(16==Z?(q=3+$A(r,p,3),p+=2,$=Se[Y-1]):17==Z?(q=3+$A(r,p,7),p+=3):18==Z&&(q=11+$A(r,p,127),p+=7);q--;)Se[Y++]=$}}var be=Se.subarray(0,X),ve=Se.subarray(X);y=Ji(be),v=Ji(ve),B=XA(be,y,1),x=XA(ve,v,1)}if(p>M)throw"unexpected EOF"}n&&o(_+131072);for(var ke=(1<<y)-1,fe=(1<<v)-1,Ue=y+v+18;s||p+Ue<M;){var ze=($=B[wo(r,p)&ke])>>>4;if((p+=15&$)>M)throw"unexpected EOF";if(!$)throw"invalid length/literal";if(ze<256)i[_++]=ze;else{if(256==ze){B=null;break}var et=ze-254;ze>264&&(et=$A(r,p,(1<<(U=Bs[Y=ze-257]))-1)+Vc[Y],p+=U);var G=x[wo(r,p)&fe],K=G>>>4;if(!G)throw"invalid distance";if(p+=15&G,ve=mo[K],K>3){var U=bs[K];ve+=wo(r,p)&(1<<U)-1,p+=U}if(p>M)throw"unexpected EOF";n&&o(_+131072);for(var ne=_+et;_<ne;_+=4)i[_]=i[_-ve],i[_+1]=i[_+1-ve],i[_+2]=i[_+2-ve],i[_+3]=i[_+3-ve];_=ne}}A.l=B,A.p=p,A.b=_,B&&(h=1,A.m=y,A.d=x,A.n=v)}while(!h);return _==i.length?i:Yi(i,0,_)}((function(r){if(8!=(15&r[0])||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(32&r[1])throw"invalid zlib data: preset dictionaries not supported"}(r),r.subarray(2,-4)),i)}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ba(){mt.console&&"function"==typeof mt.console.log&&mt.console.log.apply(mt.console,arguments)}var sn={log:Ba,warn:function(r){mt.console&&("function"==typeof mt.console.warn?mt.console.warn.apply(mt.console,arguments):Ba.call(null,arguments))},error:function(r){mt.console&&("function"==typeof mt.console.error?mt.console.error.apply(mt.console,arguments):Ba(r))}};function ba(r,i,A){var t=new XMLHttpRequest;t.open("GET",r),t.responseType="blob",t.onload=function(){Tn(t.response,i,A)},t.onerror=function(){sn.error("could not download file")},t.send()}function sl(r){var i=new XMLHttpRequest;i.open("HEAD",r,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function xA(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(i)}}var Ar,Qr,Tn=mt.saveAs||("object"!==(typeof window>"u"?"undefined":(0,en.Z)(window))||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,i,A){var t=mt.URL||mt.webkitURL,n=document.createElement("a");n.download=i=i||r.name||"download",n.rel="noopener","string"==typeof r?(n.href=r,n.origin!==location.origin?sl(n.href)?ba(r,i,A):xA(n,n.target="_blank"):xA(n)):(n.href=t.createObjectURL(r),setTimeout(function(){t.revokeObjectURL(n.href)},4e4),setTimeout(function(){xA(n)},0))}:"msSaveOrOpenBlob"in navigator?function(r,i,A){if(i=i||r.name||"download","string"==typeof r)if(sl(r))ba(r,i,A);else{var t=document.createElement("a");t.href=r,t.target="_blank",setTimeout(function(){xA(t)})}else navigator.msSaveOrOpenBlob((n=r,void 0===(s=A)?s={autoBom:!1}:"object"!==(0,en.Z)(s)&&(sn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n),i);var n,s}:function(r,i,A,t){if((t=t||open("","_blank"))&&(t.document.title=t.document.body.innerText="downloading..."),"string"==typeof r)return ba(r,i,A);var n="application/octet-stream"===r.type,s=/constructor/i.test(mt.HTMLElement)||mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,en.Z)(FileReader))){var h=new FileReader;h.onloadend=function(){var B=h.result;B=o?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=B:location=B,t=null},h.readAsDataURL(r)}else{var p=mt.URL||mt.webkitURL,_=p.createObjectURL(r);t?t.location=_:location.href=_,t=null,setTimeout(function(){p.revokeObjectURL(_)},4e4)}});function Wr(r){var i;r=r||"",this.ok=!1,"#"==r.charAt(0)&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var A=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],t=0;t<A.length;t++){var s=A[t].process,o=A[t].re.exec(r);o&&(i=s(o),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),p=this.g.toString(16),_=this.b.toString(16);return 1==h.length&&(h="0"+h),1==p.length&&(p="0"+p),1==_.length&&(_="0"+_),"#"+h+p+_}}function xa(r,i){var A=r[0],t=r[1],n=r[2],s=r[3];A=rA(A,t,n,s,i[0],7,-680876936),s=rA(s,A,t,n,i[1],12,-389564586),n=rA(n,s,A,t,i[2],17,606105819),t=rA(t,n,s,A,i[3],22,-1044525330),A=rA(A,t,n,s,i[4],7,-176418897),s=rA(s,A,t,n,i[5],12,1200080426),n=rA(n,s,A,t,i[6],17,-1473231341),t=rA(t,n,s,A,i[7],22,-45705983),A=rA(A,t,n,s,i[8],7,1770035416),s=rA(s,A,t,n,i[9],12,-1958414417),n=rA(n,s,A,t,i[10],17,-42063),t=rA(t,n,s,A,i[11],22,-1990404162),A=rA(A,t,n,s,i[12],7,1804603682),s=rA(s,A,t,n,i[13],12,-40341101),n=rA(n,s,A,t,i[14],17,-1502002290),A=uA(A,t=rA(t,n,s,A,i[15],22,1236535329),n,s,i[1],5,-165796510),s=uA(s,A,t,n,i[6],9,-1069501632),n=uA(n,s,A,t,i[11],14,643717713),t=uA(t,n,s,A,i[0],20,-373897302),A=uA(A,t,n,s,i[5],5,-701558691),s=uA(s,A,t,n,i[10],9,38016083),n=uA(n,s,A,t,i[15],14,-660478335),t=uA(t,n,s,A,i[4],20,-405537848),A=uA(A,t,n,s,i[9],5,568446438),s=uA(s,A,t,n,i[14],9,-1019803690),n=uA(n,s,A,t,i[3],14,-187363961),t=uA(t,n,s,A,i[8],20,1163531501),A=uA(A,t,n,s,i[13],5,-1444681467),s=uA(s,A,t,n,i[2],9,-51403784),n=uA(n,s,A,t,i[7],14,1735328473),A=wA(A,t=uA(t,n,s,A,i[12],20,-1926607734),n,s,i[5],4,-378558),s=wA(s,A,t,n,i[8],11,-2022574463),n=wA(n,s,A,t,i[11],16,1839030562),t=wA(t,n,s,A,i[14],23,-35309556),A=wA(A,t,n,s,i[1],4,-1530992060),s=wA(s,A,t,n,i[4],11,1272893353),n=wA(n,s,A,t,i[7],16,-155497632),t=wA(t,n,s,A,i[10],23,-1094730640),A=wA(A,t,n,s,i[13],4,681279174),s=wA(s,A,t,n,i[0],11,-358537222),n=wA(n,s,A,t,i[3],16,-722521979),t=wA(t,n,s,A,i[6],23,76029189),A=wA(A,t,n,s,i[9],4,-640364487),s=wA(s,A,t,n,i[12],11,-421815835),n=wA(n,s,A,t,i[15],16,530742520),A=Zn(A,t=wA(t,n,s,A,i[2],23,-995338651),n,s,i[0],6,-198630844),s=Zn(s,A,t,n,i[7],10,1126891415),n=Zn(n,s,A,t,i[14],15,-1416354905),t=Zn(t,n,s,A,i[5],21,-57434055),A=Zn(A,t,n,s,i[12],6,1700485571),s=Zn(s,A,t,n,i[3],10,-1894986606),n=Zn(n,s,A,t,i[10],15,-1051523),t=Zn(t,n,s,A,i[1],21,-2054922799),A=Zn(A,t,n,s,i[8],6,1873313359),s=Zn(s,A,t,n,i[15],10,-30611744),n=Zn(n,s,A,t,i[6],15,-1560198380),t=Zn(t,n,s,A,i[13],21,1309151649),A=Zn(A,t,n,s,i[4],6,-145523070),s=Zn(s,A,t,n,i[11],10,-1120210379),n=Zn(n,s,A,t,i[2],15,718787259),t=Zn(t,n,s,A,i[9],21,-343485551),r[0]=iA(A,r[0]),r[1]=iA(t,r[1]),r[2]=iA(n,r[2]),r[3]=iA(s,r[3])}function ko(r,i,A,t,n,s){return i=iA(iA(i,r),iA(t,s)),iA(i<<n|i>>>32-n,A)}function rA(r,i,A,t,n,s,o){return ko(i&A|~i&t,r,i,n,s,o)}function uA(r,i,A,t,n,s,o){return ko(i&t|A&~t,r,i,n,s,o)}function wA(r,i,A,t,n,s,o){return ko(i^A^t,r,i,n,s,o)}function Zn(r,i,A,t,n,s,o){return ko(A^(i|~t),r,i,n,s,o)}function Fr(r){var i,A=r.length,t=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=r.length;i+=64)xa(t,Cp(r.substring(i-64,i)));r=r.substring(i-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<r.length;i++)n[i>>2]|=r.charCodeAt(i)<<(i%4<<3);if(n[i>>2]|=128<<(i%4<<3),i>55)for(xa(t,n),i=0;i<16;i++)n[i]=0;return n[14]=8*A,xa(t,n),t}function Cp(r){var i,A=[];for(i=0;i<64;i+=4)A[i>>2]=r.charCodeAt(i)+(r.charCodeAt(i+1)<<8)+(r.charCodeAt(i+2)<<16)+(r.charCodeAt(i+3)<<24);return A}Ar=mt.atob.bind(mt),Qr=mt.btoa.bind(mt);var $d="0123456789abcdef".split("");function ya(r){for(var i="",A=0;A<4;A++)i+=$d[r>>8*A+4&15]+$d[r>>8*A&15];return i}function eu(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function ol(r){return Fr(r).map(eu).join("")}var Bp="5d41402abc4b2a76b9719d911017c592"!=function(r){for(var i=0;i<r.length;i++)r[i]=ya(r[i]);return r.join("")}(Fr("hello"));function iA(r,i){if(Bp){var A=(65535&r)+(65535&i);return(r>>16)+(i>>16)+(A>>16)<<16|65535&A}return r+i&4294967295}function Ta(r,i){var A,t,n;if(r!==A){for(var o=(n=r,new Array(1+(256/r.length>>0)+1).join(n)),h=[],p=0;p<256;p++)h[p]=p;var _=0;for(p=0;p<256;p++){var B=h[p];_=(_+B+o.charCodeAt(p))%256,h[p]=h[_],h[_]=B}A=r,t=h}else h=t;var x=i.length,y=0,v=0,M="";for(p=0;p<x;p++)v=(v+(B=h[y=(y+1)%256]))%256,h[y]=h[v],h[v]=B,o=h[(h[y]+h[v])%256],M+=String.fromCharCode(i.charCodeAt(p)^o);return M}var tu={print:4,modify:8,copy:16,"annot-forms":32};function zs(r,i,A,t){this.v=1,this.r=2;var n=192;r.forEach(function(h){if(void 0!==tu.perm)throw new Error("Invalid permission: "+h);n+=tu[h]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(i+this.padding).substr(0,32),o=(A+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^n)),this.encryptionKey=ol(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(t)).substr(0,5),this.U=Ta(this.encryptionKey,this.padding)}function Xr(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var i="",A=r.length,t=0;t<A;t++){var n=r.charCodeAt(t);i+=n<33||35===n||37===n||40===n||41===n||47===n||60===n||62===n||91===n||93===n||123===n||125===n||n>126?"#"+("0"+n.toString(16)).slice(-2):r[t]}return i}function nu(r){if("object"!==(0,en.Z)(r))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(A,t,n){if(n=n||!1,"string"!=typeof A||"function"!=typeof t||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(A)||(i[A]={});var s=Math.random().toString(35);return i[A][s]=[t,!!n],s},this.unsubscribe=function(A){for(var t in i)if(i[t][A])return delete i[t][A],0===Object.keys(i[t]).length&&delete i[t],!0;return!1},this.publish=function(A){if(i.hasOwnProperty(A)){var t=Array.prototype.slice.call(arguments,1),n=[];for(var s in i[A]){var o=i[A][s];try{o[0].apply(r,t)}catch(h){mt.console&&sn.error("jsPDF PubSub Error",h.message,h)}o[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Qo(r){if(!(this instanceof Qo))return new Qo(r);var i="opacity,stroke-opacity".split(",");for(var A in r)r.hasOwnProperty(A)&&i.indexOf(A)>=0&&(this[A]=r[A]);this.id="",this.objectNumber=-1}function al(r,i){this.gState=r,this.matrix=i,this.id="",this.objectNumber=-1}function xi(r,i,A,t,n){if(!(this instanceof xi))return new xi(r,i,A,t,n);this.type="axial"===r?2:3,this.coords=i,this.colors=A,al.call(this,t,n)}function qi(r,i,A,t,n){if(!(this instanceof qi))return new qi(r,i,A,t,n);this.boundingBox=r,this.xStep=i,this.yStep=A,this.stream="",this.cloneIndex=0,al.call(this,t,n)}function gt(r){var i,A="string"==typeof arguments[0]?arguments[0]:"p",t=arguments[1],n=arguments[2],s=arguments[3],o=[],h=1,p=16,_="S",B=null;"object"===(0,en.Z)(r=r||{})&&(A=r.orientation,t=r.unit||t,n=r.format||n,s=r.compress||r.compressPdf||s,null!==(B=r.encryption||null)&&(B.userPassword=B.userPassword||"",B.ownerPassword=B.ownerPassword||"",B.userPermissions=B.userPermissions||[]),h="number"==typeof r.userUnit?Math.abs(r.userUnit):1,void 0!==r.precision&&(i=r.precision),void 0!==r.floatPrecision&&(p=r.floatPrecision),_=r.defaultPathOperation||"S"),o=r.filters||(!0===s?["FlateEncode"]:o),t=t||"mm",A=(""+(A||"P")).toLowerCase();var x=r.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=nu;var M="1.3",E=v.__private__.getPdfVersion=function(){return M};v.__private__.setPdfVersion=function(g){M=g};var Z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return Z};var I=v.__private__.getPageFormat=function(g){return Z[g]};n=n||"a4";var X="compat";function ie(){this.saveGraphicsState(),J(new vt(At,0,0,-At,0,qs()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),_="n",X="advanced"}function _e(){this.restoreGraphicsState(),_="S",X="compat"}var Se=v.__private__.combineFontStyleAndFontWeight=function(g,k){if("bold"==g&&"normal"==k||"bold"==g&&400==k||"normal"==g&&"italic"==k||"bold"==g&&"italic"==k)throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(g=400==k||"normal"===k?"italic"===g?"italic":"normal":700!=k&&"bold"!==k||"normal"!==g?(700==k?"bold":k)+""+g:"bold"),g};v.advancedAPI=function(g){var k="compat"===X;return k&&ie.call(this),"function"!=typeof g||(g(this),k&&_e.call(this)),this},v.compatAPI=function(g){var k="advanced"===X;return k&&_e.call(this),"function"!=typeof g||(g(this),k&&ie.call(this)),this},v.isAdvancedAPI=function(){return"advanced"===X};var ue,Y=function(g){if("advanced"!==X)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Qe=v.roundToPrecision=v.__private__.roundToPrecision=function(g,k){var R=i||k;if(isNaN(g)||isNaN(R))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(R).replace(/0+$/,"")};ue=v.hpf=v.__private__.hpf="number"==typeof p?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Qe(g,p)}:"smart"===p?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Qe(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Qe(g,16)};var Fe=v.f2=v.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Qe(g,2)},D=v.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Qe(g,3)},P=v.scale=v.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===X?g*At:"advanced"===X?g:void 0},q=function(g){return P(function(g){return"compat"===X?qs()-g:"advanced"===X?g:void 0}(g))};v.__private__.setPrecision=v.setPrecision=function(g){"number"==typeof parseInt(g,10)&&(i=parseInt(g,10))};var be,ve="00000000000000000000000000000000",ke=v.__private__.getFileId=function(){return ve},fe=v.__private__.setFileId=function(g){return ve=void 0!==g&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==B&&(OA=new zs(B.userPermissions,B.userPassword,B.ownerPassword,ve)),ve};v.setFileId=function(g){return fe(g),this},v.getFileId=function(){return ke()};var Ue=v.__private__.convertDateToPDFDate=function(g){var k=g.getTimezoneOffset(),R=k<0?"+":"-",V=Math.floor(Math.abs(k/60)),le=Math.abs(k%60),ye=[R,K(V),"'",K(le),"'"].join("");return["D:",g.getFullYear(),K(g.getMonth()+1),K(g.getDate()),K(g.getHours()),K(g.getMinutes()),K(g.getSeconds()),ye].join("")},ze=v.__private__.convertPDFDateToDate=function(g){var k=parseInt(g.substr(2,4),10),R=parseInt(g.substr(6,2),10)-1,V=parseInt(g.substr(8,2),10),le=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),De=parseInt(g.substr(14,2),10);return new Date(k,R,V,le,ye,De,0)},et=v.__private__.setCreationDate=function(g){var k;if(void 0===g&&(g=new Date),g instanceof Date)k=Ue(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=g}return be=k},U=v.__private__.getCreationDate=function(g){var k=be;return"jsDate"===g&&(k=ze(be)),k};v.setCreationDate=function(g){return et(g),this},v.getCreationDate=function(g){return U(g)};var G,K=v.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},ne=v.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ae=0,ge=[],we=[],Ce=0,Re=[],je=[],rt=!1,at=we;v.__private__.setCustomOutputDestination=function(g){rt=!0,at=g};var Te=function(g){rt||(at=g)};v.__private__.resetCustomOutputDestination=function(){rt=!1,at=we};var J=v.__private__.out=function(g){return g=g.toString(),Ce+=g.length+1,at.push(g),at},It=v.__private__.write=function(g){return J(1===arguments.length?g.toString():Array.prototype.join.call(arguments," "))},ut=v.__private__.getArrayBuffer=function(g){for(var k=g.length,R=new ArrayBuffer(k),V=new Uint8Array(R);k--;)V[k]=g.charCodeAt(k);return R},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return He};var Ge=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(g){return Ge="advanced"===X?g/At:g,this};var nt,qe=v.__private__.getFontSize=v.getFontSize=function(){return"compat"===X?Ge:Ge*At},ht=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(g){return ht=g,this},v.__private__.getR2L=v.getR2L=function(){return ht};var Qt,Nt=v.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))nt=g;else if(isNaN(g)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');nt=g}else nt=parseInt(g,10)};v.__private__.getZoomMode=function(){return nt};var Rt,An=v.__private__.setPageMode=function(g){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Qt=g};v.__private__.getPageMode=function(){return Qt};var vn=v.__private__.setLayoutMode=function(g){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Rt=g};v.__private__.getLayoutMode=function(){return Rt},v.__private__.setDisplayMode=v.setDisplayMode=function(g,k,R){return Nt(g),vn(k),An(R),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(g){if(-1===Object.keys(Tt).indexOf(g))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[g]},v.__private__.getDocumentProperties=function(){return Tt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(g){for(var k in Tt)Tt.hasOwnProperty(k)&&g[k]&&(Tt[k]=g[k]);return this},v.__private__.setDocumentProperty=function(g,k){if(-1===Object.keys(Tt).indexOf(g))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[g]=k};var Gt,At,NA,on,si,bn={},In={},Mi=[],fn={},Yo={},Gn={},oi={},is=null,Kn=0,Ft=[],gn=new nu(v),qo=r.hotfixes||[],TA={},Ei={},Li=[],vt=function g(k,R,V,le,ye,De){if(!(this instanceof g))return new g(k,R,V,le,ye,De);isNaN(k)&&(k=1),isNaN(R)&&(R=0),isNaN(V)&&(V=0),isNaN(le)&&(le=1),isNaN(ye)&&(ye=0),isNaN(De)&&(De=0),this._matrix=[k,R,V,le,ye,De]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),vt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ue).join(g)},vt.prototype.multiply=function(g){return new vt(g.sx*this.sx+g.shy*this.shx,g.sx*this.shy+g.shy*this.sy,g.shx*this.sx+g.sy*this.shx,g.shx*this.shy+g.sy*this.sy,g.tx*this.sx+g.ty*this.shx+this.tx,g.tx*this.shy+g.ty*this.sy+this.ty)},vt.prototype.decompose=function(){var g=this.sx,k=this.shy,R=this.shx,V=this.sy,le=this.tx,ye=this.ty,De=Math.sqrt(g*g+k*k),it=(g/=De)*R+(k/=De)*V;R-=g*it,V-=k*it;var ft=Math.sqrt(R*R+V*V);return it/=ft,g*(V/=ft)<k*(R/=ft)&&(g=-g,k=-k,it=-it,De=-De),{scale:new vt(De,0,0,ft,0,0),translate:new vt(1,0,0,1,le,ye),rotate:new vt(g,k,-k,g,0,0),skew:new vt(1,0,it,1,0,0)}},vt.prototype.toString=function(g){return this.join(" ")},vt.prototype.inversed=function(){var g=this.sx,k=this.shy,R=this.shx,V=this.sy,le=this.tx,ye=this.ty,De=1/(g*V-k*R),it=V*De,ft=-k*De,Mt=-R*De,Ht=g*De;return new vt(it,ft,Mt,Ht,-it*le-Mt*ye,-ft*le-Ht*ye)},vt.prototype.applyToPoint=function(g){return new wc(g.x*this.sx+g.y*this.shx+this.tx,g.x*this.shy+g.y*this.sy+this.ty)},vt.prototype.applyToRectangle=function(g){var k=this.applyToPoint(g),R=this.applyToPoint(new wc(g.x+g.w,g.y+g.h));return new td(k.x,k.y,R.x-k.x,R.y-k.y)},vt.prototype.clone=function(){return new vt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},v.Matrix=vt;var ai=v.matrixMult=function(g,k){return k.multiply(g)},Ni=new vt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Ni;var cr=function(g,k){if(!Yo[g]){var R=(k instanceof xi?"Sh":"P")+(Object.keys(fn).length+1).toString(10);k.id=R,Yo[g]=R,fn[R]=k,gn.publish("addPattern",k)}};v.ShadingPattern=xi,v.TilingPattern=qi,v.addShadingPattern=function(g,k){return Y("addShadingPattern()"),cr(g,k),this},v.beginTilingPattern=function(g){Y("beginTilingPattern()"),zh(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},v.endTilingPattern=function(g,k){Y("endTilingPattern()"),k.stream=je[G].join("\n"),cr(g,k),gn.publish("endTilingPattern",k),Li.pop().restore()};var g,fA=v.__private__.newObject=function(){var g=sA();return vr(g,!0),g},sA=v.__private__.newObjectDeferred=function(){return ae++,ge[ae]=function(){return Ce},ae},vr=function(g,k){return k="boolean"==typeof k&&k,ge[g]=Ce,k&&J(g+" 0 obj"),g},sc=v.__private__.newAdditionalObject=function(){var g={objId:sA(),content:""};return Re.push(g),g},ss=sA(),ci=sA(),li=v.__private__.decodeColorString=function(g){var k=g.split(" ");if(2!==k.length||"g"!==k[1]&&"G"!==k[1])5===k.length&&("k"===k[4]||"K"===k[4])&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var R=parseFloat(k[0]);k=[R,R,R,"r"]}for(var V="#",le=0;le<3;le++)V+=("0"+Math.floor(255*parseFloat(k[le])).toString(16)).slice(-2);return V},di=v.__private__.encodeColorString=function(g){var k;"string"==typeof g&&(g={ch1:g});var R=g.ch1,V=g.ch2,le=g.ch3,ye=g.ch4,De="draw"===g.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof R&&"#"!==R.charAt(0)){var it=new Wr(R);if(it.ok)R=it.toHex();else if(!/^\d*\.?\d*$/.test(R))throw new Error('Invalid color "'+R+'" passed to jsPDF.encodeColorString.')}if("string"==typeof R&&/^#[0-9A-Fa-f]{3}$/.test(R)&&(R="#"+R[1]+R[1]+R[2]+R[2]+R[3]+R[3]),"string"==typeof R&&/^#[0-9A-Fa-f]{6}$/.test(R)){var ft=parseInt(R.substr(1),16);R=ft>>16&255,V=ft>>8&255,le=255&ft}if(void 0===V||void 0===ye&&R===V&&V===le)k="string"==typeof R?R+" "+De[0]:2===g.precision?Fe(R/255)+" "+De[0]:D(R/255)+" "+De[0];else if(void 0===ye||"object"===(0,en.Z)(ye)){if(ye&&!isNaN(ye.a)&&0===ye.a)return["1.","1.","1.",De[1]].join(" ");k="string"==typeof R?[R,V,le,De[1]].join(" "):2===g.precision?[Fe(R/255),Fe(V/255),Fe(le/255),De[1]].join(" "):[D(R/255),D(V/255),D(le/255),De[1]].join(" ")}else k="string"==typeof R?[R,V,le,ye,De[2]].join(" "):2===g.precision?[Fe(R),Fe(V),Fe(le),Fe(ye),De[2]].join(" "):[D(R),D(V),D(le),D(ye),De[2]].join(" ");return k},Oi=v.__private__.getFilters=function(){return o},Zr=v.__private__.putStream=function(g){var k=(g=g||{}).data||"",R=g.filters||Oi(),V=g.alreadyAppliedFilters||[],le=g.addLength1||!1,ye=k.length,De=g.objectId,it=function(PA){return PA};if(null!==B&&void 0===De)throw new Error("ObjectId must be passed to putStream for file encryption");null!==B&&(it=OA.encryptor(De,0));var ft={};!0===R&&(R=["FlateEncode"]);var Mt=g.additionalKeyValues||[],Ht=(ft=void 0!==gt.API.processDataByFilters?gt.API.processDataByFilters(k,R):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(V)?V.join(" "):V.toString());if(0!==ft.data.length&&(Mt.push({key:"Length",value:ft.data.length}),!0===le&&Mt.push({key:"Length1",value:ye})),0!=Ht.length)if(Ht.split("/").length-1==1)Mt.push({key:"Filter",value:Ht});else{Mt.push({key:"Filter",value:"["+Ht+"]"});for(var $t=0;$t<Mt.length;$t+=1)if("DecodeParms"===Mt[$t].key){for(var Hn=[],Jn=0;Jn<ft.reverseChain.split("/").length-1;Jn+=1)Hn.push("null");Hn.push(Mt[$t].value),Mt[$t].value="["+Hn.join(" ")+"]"}}J("<<");for(var oA=0;oA<Mt.length;oA++)J("/"+Mt[oA].key+" "+Mt[oA].value);J(">>"),0!==ft.data.length&&(J("stream"),J(it(ft.data)),J("endstream"))},Pi=v.__private__.putPage=function(g){var k=g.number,R=g.data,V=g.objId,le=g.contentsObjId;vr(V,!0),J("<</Type /Page"),J("/Parent "+g.rootDictionaryObjId+" 0 R"),J("/Resources "+g.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(ue(g.mediaBox.bottomLeftX))+" "+parseFloat(ue(g.mediaBox.bottomLeftY))+" "+ue(g.mediaBox.topRightX)+" "+ue(g.mediaBox.topRightY)+"]"),null!==g.cropBox&&J("/CropBox ["+ue(g.cropBox.bottomLeftX)+" "+ue(g.cropBox.bottomLeftY)+" "+ue(g.cropBox.topRightX)+" "+ue(g.cropBox.topRightY)+"]"),null!==g.bleedBox&&J("/BleedBox ["+ue(g.bleedBox.bottomLeftX)+" "+ue(g.bleedBox.bottomLeftY)+" "+ue(g.bleedBox.topRightX)+" "+ue(g.bleedBox.topRightY)+"]"),null!==g.trimBox&&J("/TrimBox ["+ue(g.trimBox.bottomLeftX)+" "+ue(g.trimBox.bottomLeftY)+" "+ue(g.trimBox.topRightX)+" "+ue(g.trimBox.topRightY)+"]"),null!==g.artBox&&J("/ArtBox ["+ue(g.artBox.bottomLeftX)+" "+ue(g.artBox.bottomLeftY)+" "+ue(g.artBox.topRightX)+" "+ue(g.artBox.topRightY)+"]"),"number"==typeof g.userUnit&&1!==g.userUnit&&J("/UserUnit "+g.userUnit),gn.publish("putPage",{objId:V,pageContext:Ft[k],pageNumber:k,page:R}),J("/Contents "+le+" 0 R"),J(">>"),J("endobj");var ye=R.join("\n");return"advanced"===X&&(ye+="\nQ"),vr(le,!0),Zr({data:ye,filters:Oi(),objectId:le}),J("endobj"),V},Vo=v.__private__.putPages=function(){var g,k,R=[];for(g=1;g<=Kn;g++)Ft[g].objId=sA(),Ft[g].contentsObjId=sA();for(g=1;g<=Kn;g++)R.push(Pi({number:g,data:je[g],objId:Ft[g].objId,contentsObjId:Ft[g].contentsObjId,mediaBox:Ft[g].mediaBox,cropBox:Ft[g].cropBox,bleedBox:Ft[g].bleedBox,trimBox:Ft[g].trimBox,artBox:Ft[g].artBox,userUnit:Ft[g].userUnit,rootDictionaryObjId:ss,resourceDictionaryObjId:ci}));vr(ss,!0),J("<</Type /Pages");var V="/Kids [";for(k=0;k<Kn;k++)V+=R[k]+" 0 R ";J(V+"]"),J("/Count "+Kn),J(">>"),J("endobj"),gn.publish("postPutPages")},oc=function(g){gn.publish("putFont",{font:g,out:J,newObject:fA,putStream:Zr}),!0!==g.isAlreadyPutted&&(g.objectNumber=fA(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Xr(g.postScriptName)),J("/Subtype /Type1"),"string"==typeof g.encoding&&J("/Encoding /"+g.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},cc=function(g){g.objectNumber=fA();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[ue(g.x),ue(g.y),ue(g.x+g.width),ue(g.y+g.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var R=g.pages[1].join("\n");Zr({data:R,additionalKeyValues:k,objectId:g.objectNumber}),J("endobj")},Ig=function(g,k){k||(k=21);var R=fA(),V=function(g,k){var R,V=[],le=1/(k-1);for(R=0;R<1;R+=le)V.push(R);V.push(1),0!=g[0].offset&&g.unshift({offset:0,color:g[0].color}),1!=g[g.length-1].offset&&g.push({offset:1,color:g[g.length-1].color});for(var it="",ft=0,Mt=0;Mt<V.length;Mt++){for(R=V[Mt];R>g[ft+1].offset;)ft++;var Ht=g[ft].offset,$t=(R-Ht)/(g[ft+1].offset-Ht),Hn=g[ft].color,Jn=g[ft+1].color;it+=ne(Math.round((1-$t)*Hn[0]+$t*Jn[0]).toString(16))+ne(Math.round((1-$t)*Hn[1]+$t*Jn[1]).toString(16))+ne(Math.round((1-$t)*Hn[2]+$t*Jn[2]).toString(16))}return it.trim()}(g.colors,k),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+k+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Zr({data:V,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:R}),J("endobj"),g.objectNumber=fA(),J("<< /ShadingType "+g.type),J("/ColorSpace /DeviceRGB");var ye="/Coords ["+ue(parseFloat(g.coords[0]))+" "+ue(parseFloat(g.coords[1]))+" ";ye+=2===g.type?ue(parseFloat(g.coords[2]))+" "+ue(parseFloat(g.coords[3])):ue(parseFloat(g.coords[2]))+" "+ue(parseFloat(g.coords[3]))+" "+ue(parseFloat(g.coords[4]))+" "+ue(parseFloat(g.coords[5])),J(ye+="]"),g.matrix&&J("/Matrix ["+g.matrix.toString()+"]"),J("/Function "+R+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Mg=function(g,k){var R=sA(),V=fA();k.push({resourcesOid:R,objectOid:V}),g.objectNumber=V;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+g.boundingBox.map(ue).join(" ")+"]"}),le.push({key:"XStep",value:ue(g.xStep)}),le.push({key:"YStep",value:ue(g.yStep)}),le.push({key:"Resources",value:R+" 0 R"}),g.matrix&&le.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Zr({data:g.stream,additionalKeyValues:le,objectId:g.objectNumber}),J("endobj")},hh=function(g){for(var k in g.objectNumber=fA(),J("<<"),g)switch(k){case"opacity":J("/ca "+Fe(g[k]));break;case"stroke-opacity":J("/CA "+Fe(g[k]))}J(">>"),J("endobj")},eA=function(g){vr(g.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var g in J("/Font <<"),bn)bn.hasOwnProperty(g)&&(!1===x||!0===x&&y.hasOwnProperty(g))&&J("/"+g+" "+bn[g].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(fn).length>0){for(var g in J("/Shading <<"),fn)fn.hasOwnProperty(g)&&fn[g]instanceof xi&&fn[g].objectNumber>=0&&J("/"+g+" "+fn[g].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),J(">>")}}(),function(g){if(Object.keys(fn).length>0){for(var k in J("/Pattern <<"),fn)fn.hasOwnProperty(k)&&fn[k]instanceof v.TilingPattern&&fn[k].objectNumber>=0&&fn[k].objectNumber<g&&J("/"+k+" "+fn[k].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),J(">>")}}(g.objectOid),function(){if(Object.keys(Gn).length>0){var g;for(g in J("/ExtGState <<"),Gn)Gn.hasOwnProperty(g)&&Gn[g].objectNumber>=0&&J("/"+g+" "+Gn[g].objectNumber+" 0 R");gn.publish("putGStateDict"),J(">>")}}(),function(){for(var g in J("/XObject <<"),TA)TA.hasOwnProperty(g)&&TA[g].objectNumber>=0&&J("/"+g+" "+TA[g].objectNumber+" 0 R");gn.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},mh=function(g){In[g.fontName]=In[g.fontName]||{},In[g.fontName][g.fontStyle]=g.id},Kl=function(g,k,R,V,le){var ye={id:"F"+(Object.keys(bn).length+1).toString(10),postScriptName:g,fontName:k,fontStyle:R,encoding:V,isStandardFont:le||!1,metadata:{}};return gn.publish("addFont",{font:ye,instance:this}),bn[ye.id]=ye,mh(ye),ye.id},lr=v.__private__.pdfEscape=v.pdfEscape=function(g,k){return function(g,k){var R,V,le,ye,De,it,ft,Mt,Ht;if(le=(k=k||{}).sourceEncoding||"Unicode",De=k.outputEncoding,(k.autoencode||De)&&bn[Gt].metadata&&bn[Gt].metadata[le]&&bn[Gt].metadata[le].encoding&&(ye=bn[Gt].metadata[le].encoding,!De&&bn[Gt].encoding&&(De=bn[Gt].encoding),!De&&ye.codePages&&(De=ye.codePages[0]),"string"==typeof De&&(De=ye[De]),De)){for(ft=!1,it=[],R=0,V=g.length;R<V;R++)(Mt=De[g.charCodeAt(R)])?it.push(String.fromCharCode(Mt)):it.push(g[R]),it[R].charCodeAt(0)>>8&&(ft=!0);g=it.join("")}for(R=g.length;void 0===ft&&0!==R;)g.charCodeAt(R-1)>>8&&(ft=!0),R--;if(!ft)return g;for(it=k.noBOM?[]:[254,255],R=0,V=g.length;R<V;R++){if((Ht=(Mt=g.charCodeAt(R))>>8)>>8)throw new Error("Character at position "+R+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(Ht),it.push(Mt-(Ht<<8))}return String.fromCharCode.apply(void 0,it)}(g,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jl=v.__private__.beginPage=function(g){je[++Kn]=[],Ft[Kn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},wh(Kn),Te(je[G])},_h=function(g,k){var R,V,le;switch(A=k||A,"string"==typeof g&&(R=I(g.toLowerCase()),Array.isArray(R)&&(V=R[0],le=R[1])),Array.isArray(g)&&(V=g[0]*At,le=g[1]*At),isNaN(V)&&(V=n[0],le=n[1]),(V>14400||le>14400)&&(sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),V=Math.min(14400,V),le=Math.min(14400,le)),n=[V,le],A.substr(0,1)){case"l":le>V&&(n=[le,V]);break;case"p":V>le&&(n=[le,V])}Jl(n),yh(Wl),J(hi),0!==$l&&J($l+" J"),0!==ed&&J(ed+" j"),gn.publish("addPage",{pageNumber:Kn})},Dg=function(g){g>0&&g<=Kn&&(je.splice(g,1),Ft.splice(g,1),Kn--,G>Kn&&(G=Kn),this.setPage(G))},wh=function(g){g>0&&g<=Kn&&(G=g)},Hg=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return je.length-1},vh=function(g,k,R){var V,le=void 0;return R=R||{},k=void 0!==k?k:bn[Gt].fontStyle,V=(g=void 0!==g?g:bn[Gt].fontName).toLowerCase(),void 0!==In[V]&&void 0!==In[V][k]?le=In[V][k]:void 0!==In[g]&&void 0!==In[g][k]?le=In[g][k]:!1===R.disableWarning&&sn.warn("Unable to look up font label for font '"+g+"', '"+k+"'. Refer to getFontList() for available fonts."),le||R.noFallback||null==(le=In.times[k])&&(le=In.times.normal),le},Zg=v.__private__.putInfo=function(){var g=fA(),k=function(V){return V};for(var R in null!==B&&(k=OA.encryptor(g,0)),J("<<"),J("/Producer ("+lr(k("jsPDF "+gt.version))+")"),Tt)Tt.hasOwnProperty(R)&&Tt[R]&&J("/"+R.substr(0,1).toUpperCase()+R.substr(1)+" ("+lr(k(Tt[R]))+")");J("/CreationDate ("+lr(k(be))+")"),J(">>"),J("endobj")},Yl=v.__private__.putCatalog=function(g){var k=(g=g||{}).rootDictionaryObjId||ss;switch(fA(),J("<<"),J("/Type /Catalog"),J("/Pages "+k+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var R=""+nt;"%"===R.substr(R.length-1)&&(nt=parseInt(nt)/100),"number"==typeof nt&&J("/OpenAction [3 0 R /XYZ null null "+Fe(nt)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Qt&&J("/PageMode /"+Qt),gn.publish("putCatalog"),J(">>"),J("endobj")},jg=v.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ae+1)),J("/Root "+ae+" 0 R"),J("/Info "+(ae-1)+" 0 R"),null!==B&&J("/Encrypt "+OA.oid+" 0 R"),J("/ID [ <"+ve+"> <"+ve+"> ]"),J(">>")},Rg=v.__private__.putHeader=function(){J("%PDF-"+M),J("%\xba\xdf\xac\xe0")},Gg=v.__private__.putXRef=function(){var g="0000000000";J("xref"),J("0 "+(ae+1)),J("0000000000 65535 f ");for(var k=1;k<=ae;k++)J("function"==typeof ge[k]?(g+ge[k]()).slice(-10)+" 00000 n ":void 0!==ge[k]?(g+ge[k]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},os=v.__private__.buildDocument=function(){ae=0,Ce=0,we=[],ge=[],Re=[],ss=sA(),ci=sA(),Te(we),gn.publish("buildDocument"),Rg(),Vo(),function(){gn.publish("putAdditionalObjects");for(var g=0;g<Re.length;g++){var k=Re[g];vr(k.objId,!0),J(k.content),J("endobj")}gn.publish("postPutAdditionalObjects")}(),function(){var g=[];(function(){for(var g in bn)bn.hasOwnProperty(g)&&(!1===x||!0===x&&y.hasOwnProperty(g))&&oc(bn[g])})(),function(){var g;for(g in Gn)Gn.hasOwnProperty(g)&&hh(Gn[g])}(),function(){for(var g in TA)TA.hasOwnProperty(g)&&cc(TA[g])}(),function(g){var k;for(k in fn)fn.hasOwnProperty(k)&&(fn[k]instanceof xi?Ig(fn[k]):fn[k]instanceof qi&&Mg(fn[k],g))}(g),gn.publish("putResources"),g.forEach(eA),eA({resourcesOid:ci,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources")}(),null!==B&&(OA.oid=fA(),J("<<"),J("/Filter /Standard"),J("/V "+OA.v),J("/R "+OA.r),J("/U <"+OA.toHexString(OA.U)+">"),J("/O <"+OA.toHexString(OA.O)+">"),J("/P "+OA.P),J(">>"),J("endobj")),Zg(),Yl();var g=Ce;return Gg(),jg(),J("startxref"),J(""+g),J("%%EOF"),Te(je[G]),we.join("\n")},pc=v.__private__.getBlob=function(g){return new Blob([ut(g)],{type:"application/pdf"})},fc=v.output=v.__private__.output=((g=function(g,k){switch("string"==typeof(k=k||{})?k={filename:k}:k.filename=k.filename||"generated.pdf",g){case void 0:return os();case"save":v.save(k.filename);break;case"arraybuffer":return ut(os());case"blob":return pc(os());case"bloburi":case"bloburl":if(void 0!==mt.URL&&"function"==typeof mt.URL.createObjectURL)return mt.URL&&mt.URL.createObjectURL(pc(os()))||void 0;sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var R="",V=os();try{R=Qr(V)}catch{R=Qr(unescape(encodeURIComponent(V)))}return"data:application/pdf;filename="+k.filename+";base64,"+R;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(mt)){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(le=k.pdfObjectUrl,ye="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",it=mt.open();return null!==it&&it.document.write(De),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(mt)){var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',Mt=mt.open();if(null!==Mt){Mt.document.write(ft);var Ht=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=k.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(mt))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',Hn=mt.open();if(null!==Hn&&(Hn.document.write($t),Hn.document.title=k.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",k);default:return null}}).foo=function(){try{return g.apply(this,arguments)}catch(V){var k=V.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var R="Error in function "+k.split("\n")[0].split("<")[0]+": "+V.message;if(!mt.console)throw new Error(R);mt.console.error(R,V),mt.alert&&alert(R)}},g.foo.bar=g,g.foo),Ch=function(g){return!0===Array.isArray(qo)&&qo.indexOf(g)>-1};switch(t){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=1==Ch("px_scaling")?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if("number"!=typeof t)throw new Error("Invalid unit: "+t);At=t}var OA=null;et(),fe();var Bh=v.__private__.getPageInfo=v.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[g].objId,pageNumber:g,pageContext:Ft[g]}},kt=v.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in Ft)if(Ft[k].objId===g)break;return Bh(k)},Jg=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Ft[G].objId,pageNumber:G,pageContext:Ft[G]}};v.addPage=function(){return _h.apply(this,arguments),this},v.setPage=function(){return wh.apply(this,arguments),Te.call(this,je[G]),this},v.insertPage=function(g){return this.addPage(),this.movePage(G,g),this},v.movePage=function(g,k){var R,V;if(g>k){R=je[g],V=Ft[g];for(var le=g;le>k;le--)je[le]=je[le-1],Ft[le]=Ft[le-1];je[k]=R,Ft[k]=V,this.setPage(k)}else if(g<k){R=je[g],V=Ft[g];for(var ye=g;ye<k;ye++)je[ye]=je[ye+1],Ft[ye]=Ft[ye+1];je[k]=R,Ft[k]=V,this.setPage(k)}return this},v.deletePage=function(){return Dg.apply(this,arguments),this},v.__private__.text=v.text=function(g,k,R,V,le){var ye,De,it,ft,Mt,Ht,$t,Hn,Jn,oA=(V=V||{}).scope||this;if("number"==typeof g&&"number"==typeof k&&("string"==typeof R||Array.isArray(R))){var PA=R;R=k,k=g,g=PA}if(arguments[3]instanceof vt?(Y("The transform parameter of text() with a Matrix value"),Jn=le):(it=arguments[4],ft=arguments[5],"object"===(0,en.Z)($t=arguments[3])&&null!==$t||("string"==typeof it&&(ft=it,it=null),"string"==typeof $t&&(ft=$t,$t=null),"number"==typeof $t&&(it=$t,$t=null),V={flags:$t,angle:it,align:ft})),isNaN(k)||isNaN(R)||null==g)throw new Error("Invalid arguments passed to jsPDF.text");if(0===g.length)return oA;var pi,CA="",Cr="number"==typeof V.lineHeightFactor?V.lineHeightFactor:Xo,cs=oA.internal.scaleFactor;function Uh(Qn){return Qn=Qn.split("\t").join(Array(V.TabLen||9).join(" ")),lr(Qn,$t)}function id(Qn){for(var Fn,tA=Qn.concat(),gA=[],hs=tA.length;hs--;)"string"==typeof(Fn=tA.shift())?gA.push(Fn):Array.isArray(Qn)&&(1===Fn.length||void 0===Fn[1]&&void 0===Fn[2])?gA.push(Fn[0]):gA.push([Fn[0],Fn[1],Fn[2]]);return gA}function sd(Qn,Fn){var tA;if("string"==typeof Qn)tA=Fn(Qn)[0];else if(Array.isArray(Qn)){for(var gA,hs,eo=Qn.concat(),Fc=[],Ih=eo.length;Ih--;)"string"==typeof(gA=eo.shift())?Fc.push(Fn(gA)[0]):Array.isArray(gA)&&"string"==typeof gA[0]&&(hs=Fn(gA[0],gA[1],gA[2]),Fc.push([hs[0],hs[1],hs[2]]));tA=Fc}return tA}var Cc=!1,od=!0;if("string"==typeof g)Cc=!0;else if(Array.isArray(g)){var ad=g.concat();De=[];for(var Bc,dr=ad.length;dr--;)("string"!=typeof(Bc=ad.shift())||Array.isArray(Bc)&&"string"!=typeof Bc[0])&&(od=!1);Cc=od}if(!1===Cc)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');"string"==typeof g&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var bc=Ge/oA.internal.scaleFactor,xc=bc*(Cr-1);switch(V.baseline){case"bottom":R-=xc;break;case"top":R+=bc-xc;break;case"hanging":R+=bc-2*xc;break;case"middle":R+=bc/2-xc}if((Ht=V.maxWidth||0)>0&&("string"==typeof g?g=oA.splitTextToSize(g,Ht):"[object Array]"===Object.prototype.toString.call(g)&&(g=g.reduce(function(Qn,Fn){return Qn.concat(oA.splitTextToSize(Fn,Ht))},[]))),gn.publish("preProcessText",ye={text:g,x:k,y:R,options:V,mutex:{pdfEscape:lr,activeFontKey:Gt,fonts:bn,activeFontSize:Ge}}),g=ye.text,it=(V=ye.options).angle,Jn instanceof vt||!it||"number"!=typeof it)it&&it instanceof vt&&(Jn=it);else{it*=Math.PI/180,0===V.rotationDirection&&(it=-it),"advanced"===X&&(it=-it);var yc=Math.cos(it),cd=Math.sin(it);Jn=new vt(yc,cd,-cd,yc,0,0)}"advanced"!==X||Jn||(Jn=Ni),void 0!==(Mt=V.charSpace||_c)&&(CA+=ue(P(Mt))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(Hn=V.horizontalScale)&&(CA+=ue(100*Hn)+" Tz\n");var ur=-1,Am=void 0!==V.renderingMode?V.renderingMode:V.stroke,ld=oA.internal.getCurrentPageInfo().pageContext;switch(Am){case 0:case!1:case"fill":ur=0;break;case 1:case!0:case"stroke":ur=1;break;case 2:case"fillThenStroke":ur=2;break;case 3:case"invisible":ur=3;break;case 4:case"fillAndAddForClipping":ur=4;break;case 5:case"strokeAndAddPathForClipping":ur=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ur=6;break;case 7:case"addToPathForClipping":ur=7}-1!==ur?CA+=ur+" Tr\n":-1!==(void 0!==ld.usedRenderingMode?ld.usedRenderingMode:-1)&&(CA+="0 Tr\n"),-1!==ur&&(ld.usedRenderingMode=ur),ft=V.align||"left";var fi,dd=Ge*Cr,rm=oA.internal.pageSize.getWidth(),im=bn[Gt];Mt=V.charSpace||_c,Ht=V.maxWidth||0,$t=Object.assign({autoencode:!0,noBOM:!0},V.flags);var Vs=[];if("[object Array]"===Object.prototype.toString.call(g)){var jr;De=id(g),"left"!==ft&&(fi=De.map(function(Qn){return oA.getStringUnitWidth(Qn,{font:im,charSpace:Mt,fontSize:Ge,doKerning:!1})*Ge/cs}));var gi,Ws=0;if("right"===ft){k-=fi[0],g=[],dr=De.length;for(var Hi=0;Hi<dr;Hi++)0===Hi?(gi=as(k),jr=Js(R)):(gi=P(Ws-fi[Hi]),jr=-dd),g.push([De[Hi],gi,jr]),Ws=fi[Hi]}else if("center"===ft){k-=fi[0]/2,g=[],dr=De.length;for(var ls=0;ls<dr;ls++)0===ls?(gi=as(k),jr=Js(R)):(gi=P((Ws-fi[ls])/2),jr=-dd),g.push([De[ls],gi,jr]),Ws=fi[ls]}else if("left"===ft){g=[],dr=De.length;for(var Tc=0;Tc<dr;Tc++)g.push(De[Tc])}else{if("justify"!==ft)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');g=[],dr=De.length,Ht=0!==Ht?Ht:rm;for(var mi=0;mi<dr;mi++)jr=0===mi?Js(R):-dd,gi=0===mi?as(k):0,Vs.push(mi<dr-1?ue(P((Ht-fi[mi])/(De[mi].split(" ").length-1))):0),g.push([De[mi],gi,jr])}}!0===("boolean"==typeof V.R2L?V.R2L:ht)&&(g=sd(g,function(Qn,Fn,tA){return[Qn.split("").reverse().join(""),Fn,tA]})),gn.publish("postProcessText",ye={text:g,x:k,y:R,options:V,mutex:{pdfEscape:lr,activeFontKey:Gt,fonts:bn,activeFontSize:Ge}}),g=ye.text,pi=ye.mutex.isHex||!1;var ud=bn[Gt].encoding;"WinAnsiEncoding"!==ud&&"StandardEncoding"!==ud||(g=sd(g,function(Qn,Fn,tA){return[Uh(Qn),Fn,tA]})),De=id(g),g=[];for(var Xs,_i,ds,na=Array.isArray(De[0])?1:0,$s="",hd=function(Qn,Fn,tA){var gA="";return tA instanceof vt?(tA="number"==typeof V.angle?ai(tA,new vt(1,0,0,1,Qn,Fn)):ai(new vt(1,0,0,1,Qn,Fn),tA),"advanced"===X&&(tA=ai(new vt(1,0,0,-1,0,0),tA)),gA=tA.join(" ")+" Tm\n"):gA=ue(Qn)+" "+ue(Fn)+" Td\n",gA},Rr=0;Rr<De.length;Rr++){switch($s="",na){case 1:ds=(pi?"<":"(")+De[Rr][0]+(pi?">":")"),Xs=parseFloat(De[Rr][1]),_i=parseFloat(De[Rr][2]);break;case 0:ds=(pi?"<":"(")+De[Rr]+(pi?">":")"),Xs=as(k),_i=Js(R)}void 0!==Vs&&void 0!==Vs[Rr]&&($s=Vs[Rr]+" Tw\n"),0===Rr?g.push($s+hd(Xs,_i,Jn)+ds):0===na?g.push($s+ds):1===na&&g.push($s+hd(Xs,_i,Jn)+ds)}g=g.join(0===na?" Tj\nT* ":" Tj\n"),g+=" Tj\n";var us="BT\n/";return us+=Gt+" "+Ge+" Tf\n",us+=ue(Ge*Cr)+" TL\n",us+=$o+"\n",us+=CA,us+=g,J(us+="ET"),y[Gt]=!0,oA};var Yg=v.__private__.clip=v.clip=function(g){return J("evenodd"===g?"W*":"W"),this};v.clipEvenOdd=function(){return Yg("evenodd")},v.__private__.discardPath=v.discardPath=function(){return J("n"),this};var Di=v.__private__.isValidStyle=function(g){var k=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)&&(k=!0),k};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(g){return Di(g)&&(_=g),this};var bh=v.__private__.getStyle=v.getStyle=function(g){var k=_;switch(g){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=g}return k},xh=v.close=function(){return J("h"),this};v.stroke=function(){return J("S"),this},v.fill=function(g){return gc("f",g),this},v.fillEvenOdd=function(g){return gc("f*",g),this},v.fillStroke=function(g){return gc("B",g),this},v.fillStrokeEvenOdd=function(g){return gc("B*",g),this};var gc=function(g,k){"object"===(0,en.Z)(k)?Vg(k,g):J(g)},ql=function(g){null===g||"advanced"===X&&void 0===g||(g=bh(g),J(g))};function qg(g,k,R,V,le){var ye=new qi(k||this.boundingBox,R||this.xStep,V||this.yStep,this.gState,le||this.matrix);ye.stream=this.stream;var De=g+"$$"+this.cloneIndex+++"$$";return cr(De,ye),ye}var Vg=function(g,k){var R=Yo[g.key],V=fn[R];if(V instanceof xi)J("q"),J(Wg(k)),V.gState&&v.setGState(V.gState),J(g.matrix.toString()+" cm"),J("/"+R+" sh"),J("Q");else if(V instanceof qi){var le=new vt(1,0,0,-1,0,qs());g.matrix&&(le=le.multiply(g.matrix||Ni),R=qg.call(V,g.key,g.boundingBox,g.xStep,g.yStep,le).id),J("q"),J("/Pattern cs"),J("/"+R+" scn"),V.gState&&v.setGState(V.gState),J(k),J("Q")}},Wg=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vl=v.moveTo=function(g,k){return J(ue(P(g))+" "+ue(q(k))+" m"),this},Wo=v.lineTo=function(g,k){return J(ue(P(g))+" "+ue(q(k))+" l"),this},Ks=v.curveTo=function(g,k,R,V,le,ye){return J([ue(P(g)),ue(q(k)),ue(P(R)),ue(q(V)),ue(P(le)),ue(q(ye)),"c"].join(" ")),this};v.__private__.line=v.line=function(g,k,R,V,le){if(isNaN(g)||isNaN(k)||isNaN(R)||isNaN(V)||!Di(le))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===X?this.lines([[R-g,V-k]],g,k,[1,1],le||"S"):this.lines([[R-g,V-k]],g,k,[1,1]).stroke()},v.__private__.lines=v.lines=function(g,k,R,V,le,ye){var De,it,ft,Mt,Ht,PA,CA,pi;if("number"==typeof g&&(pi=R,R=k,k=g,g=pi),V=V||[1,1],ye=ye||!1,isNaN(k)||isNaN(R)||!Array.isArray(g)||!Array.isArray(V)||!Di(le)||"boolean"!=typeof ye)throw new Error("Invalid arguments passed to jsPDF.lines");for(Vl(k,R),De=V[0],it=V[1],Mt=g.length,PA=k,CA=R,ft=0;ft<Mt;ft++)2===(Ht=g[ft]).length?Wo(PA=Ht[0]*De+PA,CA=Ht[1]*it+CA):Ks(Ht[0]*De+PA,Ht[1]*it+CA,Ht[2]*De+PA,Ht[3]*it+CA,PA=Ht[4]*De+PA,CA=Ht[5]*it+CA);return ye&&xh(),ql(le),this},v.path=function(g){for(var k=0;k<g.length;k++){var R=g[k],V=R.c;switch(R.op){case"m":Vl(V[0],V[1]);break;case"l":Wo(V[0],V[1]);break;case"c":Ks.apply(this,V);break;case"h":xh()}}return this},v.__private__.rect=v.rect=function(g,k,R,V,le){if(isNaN(g)||isNaN(k)||isNaN(R)||isNaN(V)||!Di(le))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===X&&(V=-V),J([ue(P(g)),ue(q(k)),ue(P(R)),ue(P(V)),"re"].join(" ")),ql(le),this},v.__private__.triangle=v.triangle=function(g,k,R,V,le,ye,De){if(isNaN(g)||isNaN(k)||isNaN(R)||isNaN(V)||isNaN(le)||isNaN(ye)||!Di(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[R-g,V-k],[le-R,ye-V],[g-le,k-ye]],g,k,[1,1],De,!0),this},v.__private__.roundedRect=v.roundedRect=function(g,k,R,V,le,ye,De){if(isNaN(g)||isNaN(k)||isNaN(R)||isNaN(V)||isNaN(le)||isNaN(ye)||!Di(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*R),ye=Math.min(ye,.5*V),this.lines([[R-2*le,0],[le*it,0,le,ye-ye*it,le,ye],[0,V-2*ye],[0,ye*it,-le*it,ye,-le,ye],[2*le-R,0],[-le*it,0,-le,-ye*it,-le,-ye],[0,2*ye-V],[0,-ye*it,le*it,-ye,le,-ye]],g+le,k,[1,1],De,!0),this},v.__private__.ellipse=v.ellipse=function(g,k,R,V,le){if(isNaN(g)||isNaN(k)||isNaN(R)||isNaN(V)||!Di(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*R,De=4/3*(Math.SQRT2-1)*V;return Vl(g+R,k),Ks(g+R,k-De,g+ye,k-V,g,k-V),Ks(g-ye,k-V,g-R,k-De,g-R,k),Ks(g-R,k+De,g-ye,k+V,g,k+V),Ks(g+ye,k+V,g+R,k+De,g+R,k),ql(le),this},v.__private__.circle=v.circle=function(g,k,R,V){if(isNaN(g)||isNaN(k)||isNaN(R)||!Di(V))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,k,R,R,V)},v.setFont=function(g,k,R){return R&&(k=Se(k,R)),Gt=vh(g,k,{disableWarning:!1}),this};var Xg=v.__private__.getFont=v.getFont=function(){return bn[vh.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var g,k,R={};for(g in In)if(In.hasOwnProperty(g))for(k in R[g]=[],In[g])In[g].hasOwnProperty(k)&&R[g].push(k);return R},v.addFont=function(g,k,R,V,le){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==ye.indexOf(arguments[3])?le=arguments[3]:arguments[3]&&-1==ye.indexOf(arguments[3])&&(R=Se(R,V)),Kl.call(this,g,k,R,le=le||"Identity-H")};var Xo,Wl=r.lineWidth||.200025,mc=v.__private__.getLineWidth=v.getLineWidth=function(){return Wl},yh=v.__private__.setLineWidth=v.setLineWidth=function(g){return Wl=g,J(ue(P(g))+" w"),this};v.__private__.setLineDash=gt.API.setLineDash=gt.API.setLineDashPattern=function(g,k){if(g=g||[],k=k||0,isNaN(k)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(R){return ue(P(R))}).join(" "),k=ue(P(k)),J("["+g+"] "+k+" d"),this};var Th=v.__private__.getLineHeight=v.getLineHeight=function(){return Ge*Xo};v.__private__.getLineHeight=v.getLineHeight=function(){return Ge*Xo};var kh=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(g){return"number"==typeof(g=g||1.15)&&(Xo=g),this},Qh=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Xo};kh(r.lineHeight);var as=v.__private__.getHorizontalCoordinate=function(g){return P(g)},Js=v.__private__.getVerticalCoordinate=function(g){return"advanced"===X?g:Ft[G].mediaBox.topRightY-Ft[G].mediaBox.bottomLeftY-P(g)},$g=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(g){return ue(as(g))},Ys=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(g){return ue(Js(g))},hi=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return li(hi)},v.__private__.setStrokeColor=v.setDrawColor=function(g,k,R,V){return hi=di({ch1:g,ch2:k,ch3:R,ch4:V,pdfColorType:"draw",precision:2}),J(hi),this};var Xl=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return li(Xl)},v.__private__.setFillColor=v.setFillColor=function(g,k,R,V){return Xl=di({ch1:g,ch2:k,ch3:R,ch4:V,pdfColorType:"fill",precision:2}),J(Xl),this};var $o=r.textColor||"0 g",em=v.__private__.getTextColor=v.getTextColor=function(){return li($o)};v.__private__.setTextColor=v.setTextColor=function(g,k,R,V){return $o=di({ch1:g,ch2:k,ch3:R,ch4:V,pdfColorType:"text",precision:3}),this};var _c=r.charSpace,tm=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(_c||0)};v.__private__.setCharSpace=v.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _c=g,this};var $l=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(g){var k=v.CapJoinStyles[g];if(void 0===k)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $l=k,J(k+" J"),this};var ed=0;v.__private__.setLineJoin=v.setLineJoin=function(g){var k=v.CapJoinStyles[g];if(void 0===k)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ed=k,J(k+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(ue(P(g))+" M"),this},v.GState=Qo,v.setGState=function(g){(g="string"==typeof g?Gn[oi[g]]:Fh(null,g)).equals(is)||(J("/"+g.id+" gs"),is=g)};var Fh=function(g,k){if(!g||!oi[g]){var R=!1;for(var V in Gn)if(Gn.hasOwnProperty(V)&&Gn[V].equals(k)){R=!0;break}if(R)k=Gn[V];else{var le="GS"+(Object.keys(Gn).length+1).toString(10);Gn[le]=k,k.id=le}return g&&(oi[g]=k.id),gn.publish("addGState",k),k}};v.addGState=function(g,k){return Fh(g,k),this},v.saveGraphicsState=function(){return J("q"),Mi.push({key:Gt,size:Ge,color:$o}),this},v.restoreGraphicsState=function(){J("Q");var g=Mi.pop();return Gt=g.key,Ge=g.size,$o=g.color,is=null,this},v.setCurrentTransformationMatrix=function(g){return J(g.toString()+" cm"),this},v.comment=function(g){return J("#"+g),this};var wc=function(g,k){var R=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return R},set:function(ye){isNaN(ye)||(R=parseFloat(ye))}});var V=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return V},set:function(ye){isNaN(ye)||(V=parseFloat(ye))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(ye){le=ye.toString()}}),this},td=function(g,k,R,V){wc.call(this,g,k),this.type="rect";var le=R||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(De){isNaN(De)||(le=parseFloat(De))}});var ye=V||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(De){isNaN(De)||(ye=parseFloat(De))}}),this},nd=function(){this.page=Kn,this.currentPage=G,this.pages=je.slice(0),this.pagesContext=Ft.slice(0),this.x=NA,this.y=on,this.matrix=si,this.width=ea(G),this.height=qs(G),this.outputDestination=at,this.id="",this.objectNumber=-1};nd.prototype.restore=function(){Kn=this.page,Ft=this.pagesContext,je=this.pages,NA=this.x,on=this.y,si=this.matrix,Ad(G=this.currentPage,this.width),rd(G,this.height),at=this.outputDestination};var zh=function(g,k,R,V,le){Li.push(new nd),Kn=G=0,je=[],NA=g,on=k,si=le,Jl([R,V])};for(var vc in v.beginFormObject=function(g,k,R,V,le){return zh(g,k,R,V,le),this},v.endFormObject=function(g){return function(g){if(Ei[g])Li.pop().restore();else{var k=new nd,R="Xo"+(Object.keys(TA).length+1).toString(10);k.id=R,Ei[g]=R,TA[R]=k,gn.publish("addFormObject",k),Li.pop().restore()}}(g),this},v.doFormObject=function(g,k){var R=TA[Ei[g]];return J("q"),J(k.toString()+" cm"),J("/"+R.id+" Do"),J("Q"),this},v.getFormObject=function(g){var k=TA[Ei[g]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},v.save=function(g,k){return g=g||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,!1===k.returnPromise?(Tn(pc(os()),g),"function"==typeof Tn.unload&&mt.setTimeout&&setTimeout(Tn.unload,911),this):new Promise(function(R,V){try{var le=Tn(pc(os()),g);"function"==typeof Tn.unload&&mt.setTimeout&&setTimeout(Tn.unload,911),R(le)}catch(ye){V(ye.message)}})},gt.API)gt.API.hasOwnProperty(vc)&&("events"===vc&&gt.API.events.length?function(g,k){var V,le;for(le=k.length-1;-1!==le;le--)g.subscribe.apply(g,[k[le][0]].concat("function"==typeof(V=k[le][1])?[V]:V))}(gn,gt.API.events):v[vc]=gt.API[vc]);var ea=v.getPageWidth=function(g){return(Ft[g=g||G].mediaBox.topRightX-Ft[g].mediaBox.bottomLeftX)/At},Ad=v.setPageWidth=function(g,k){Ft[g].mediaBox.topRightX=k*At+Ft[g].mediaBox.bottomLeftX},qs=v.getPageHeight=function(g){return(Ft[g=g||G].mediaBox.topRightY-Ft[g].mediaBox.bottomLeftY)/At},rd=v.setPageHeight=function(g,k){Ft[g].mediaBox.topRightY=k*At+Ft[g].mediaBox.bottomLeftY};return v.internal={pdfEscape:lr,getStyle:bh,getFont:Xg,getFontSize:qe,getCharSpace:tm,getTextColor:em,getLineHeight:Th,getLineHeightFactor:Qh,getLineWidth:mc,write:It,getHorizontalCoordinate:as,getVerticalCoordinate:Js,getCoordinateString:$g,getVerticalCoordinateString:Ys,collections:{},newObject:fA,newAdditionalObject:sc,newObjectDeferred:sA,newObjectDeferredBegin:vr,getFilters:Oi,putStream:Zr,events:gn,scaleFactor:At,pageSize:{getWidth:function(){return ea(G)},setWidth:function(g){Ad(G,g)},getHeight:function(){return qs(G)},setHeight:function(g){rd(G,g)}},encryptionOptions:B,encryption:OA,getEncryptor:function(g){return null!==B?OA.encryptor(g,0):function(k){return k}},output:fc,getNumberOfPages:Hg,pages:je,out:J,f2:Fe,f3:D,getPageInfo:Bh,getPageInfoByObjId:kt,getCurrentPageInfo:Jg,getPDFVersion:E,Point:wc,Rectangle:td,Matrix:vt,hasHotfix:Ch},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return ea(G)},set:function(g){Ad(G,g)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return qs(G)},set:function(g){rd(G,g)},enumerable:!0,configurable:!0}),function(g){for(var k=0,R=He.length;k<R;k++){var V=Kl.call(this,g[k][0],g[k][1],g[k][2],He[k][3],!0);!1===x&&(y[V]=!0);var le=g[k][0].split("-");mh({id:V,fontName:le[0],fontStyle:le[1]||""})}gn.publish("addFonts",{fonts:bn,dictionary:In})}.call(v,He),Gt="F1",_h(n,A),gn.publish("initialized"),v}zs.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},zs.prototype.toHexString=function(r){return r.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zs.prototype.hexToBytes=function(r){for(var i=[],A=0;A<r.length;A+=2)i.push(String.fromCharCode(parseInt(r.substr(A,2),16)));return i.join("")},zs.prototype.processOwnerPassword=function(r,i){return Ta(ol(i).substr(0,5),r)},zs.prototype.encryptor=function(r,i){var A=ol(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&i,i>>8&255)).substr(0,10);return function(t){return Ta(A,t)}},Qo.prototype.equals=function(r){var i,A="id,objectNumber,equals";if(!r||(0,en.Z)(r)!==(0,en.Z)(this))return!1;var t=0;for(i in this)if(!(A.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!r.hasOwnProperty(i)||this[i]!==r[i])return!1;t++}for(i in r)r.hasOwnProperty(i)&&A.indexOf(i)<0&&t--;return 0===t},gt.API={events:[]},gt.version="2.5.1";var Un=gt.API,ka=1,yi=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Us=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ct=function(r){return r.toFixed(2)},Ti=function(r){return r.toFixed(5)};Un.__acroform__={};var UA=function(r,i){r.prototype=Object.create(i.prototype),r.prototype.constructor=r},Qa=function(r){return r*ka},zr=function(r){var i=new ru,A=ct.internal.getHeight(r)||0,t=ct.internal.getWidth(r)||0;return i.BBox=[0,0,Number(Ct(t)),Number(Ct(A))],i},Au=Un.__acroform__.setBit=function(r,i){if(r=r||0,i=i||0,isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<i},bp=Un.__acroform__.clearBit=function(r,i){if(r=r||0,i=i||0,isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<i)},xp=Un.__acroform__.getBit=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<i?1:0},Nn=Un.__acroform__.getBitForPdf=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xp(r,i-1)},On=Un.__acroform__.setBitForPdf=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Au(r,i-1)},Pn=Un.__acroform__.clearBitForPdf=function(r,i){if(isNaN(r)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bp(r,i-1)},Fo=Un.__acroform__.calculateCoordinates=function(r,i){var A=i.internal.getHorizontalCoordinate,t=i.internal.getVerticalCoordinate,n=r[0],s=r[1],o=r[2],h=r[3],p={};return p.lowerLeft_X=A(n)||0,p.lowerLeft_Y=t(s+h)||0,p.upperRight_X=A(n+o)||0,p.upperRight_Y=t(s)||0,[Number(Ct(p.lowerLeft_X)),Number(Ct(p.lowerLeft_Y)),Number(Ct(p.upperRight_X)),Number(Ct(p.upperRight_Y))]},yp=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var i=[],t=cl(r,r._V||r.DV),n=r.scope.internal.getFont(r.fontName,r.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(r.scope.__private__.encodeColorString(r.color)),i.push("/"+n+" "+Ct(t.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(t.text),i.push("ET"),i.push("Q"),i.push("EMC");var s=zr(r);return s.scope=r.scope,s.stream=i.join("\n"),s}},cl=function(r,i){var A=0===r.fontSize?r.maxFontSize:r.fontSize,t={text:"",fontSize:""},n=(i=")"==(i="("==i.substr(0,1)?i.substr(1):i).substr(i.length-1)?i.substr(0,i.length-1):i).split(" ");n=n.map(r.multiline?function(D){return D.split("\n")}:function(D){return[D]});var s=A,o=ct.internal.getHeight(r)||0;o=o<0?-o:o;var D,h=ct.internal.getWidth(r)||0;h=h<0?-h:h,s++;e:for(;s>0;){i="",s--;var _,B,x=Vi("3",r,s).height,y=r.multiline?o-s:(o-x)/2,v=y+=2,M=0,E=0,Z=0;if(s<=0){i="(...) Tj\n",i+="% Width of Text: "+Vi(i,r,s=12).width+", FieldWidth:"+h+"\n";break}for(var I="",j=0,X=0;X<n.length;X++)if(n.hasOwnProperty(X)){var ie=!1;if(1!==n[X].length&&Z!==n[X].length-1){if((x+2)*(j+2)+2>o)continue e;I+=n[X][Z],ie=!0,E=X,X--}else{I=" "==(I+=n[X][Z]+" ").substr(I.length-1)?I.substr(0,I.length-1):I;var _e=parseInt(X),Se=(D=_e)+1<n.length&&Vi(I+" "+n[D+1][0],r,s).width<=h-4,ue=X>=n.length-1;if(Se&&!ue){I+=" ",Z=0;continue}if(Se||ue){if(ue)E=_e;else if(r.multiline&&(x+2)*(j+2)+2>o)continue e}else{if(!r.multiline||(x+2)*(j+2)+2>o)continue e;E=_e}}for(var Y="",Qe=M;Qe<=E;Qe++){var Fe=n[Qe];if(r.multiline){if(Qe===E){Y+=Fe[Z]+" ",Z=(Z+1)%Fe.length;continue}if(Qe===M){Y+=Fe[Fe.length-1]+" ";continue}}Y+=Fe[0]+" "}switch(Y=" "==Y.substr(Y.length-1)?Y.substr(0,Y.length-1):Y,B=Vi(Y,r,s).width,r.textAlign){case"right":_=h-B-2;break;case"center":_=(h-B)/2;break;default:_=2}i+=Ct(_)+" "+Ct(v)+" Td\n",i+="("+yi(Y)+") Tj\n",i+=-Ct(_)+" 0 Td\n",v=-(s+2),B=0,M=ie?E:E+1,j++,I=""}break}return t.text=i,t.fontSize=s,t},Vi=function(r,i,A){var t=i.scope.internal.getFont(i.fontName,i.fontStyle),n=i.scope.getStringUnitWidth(r,{font:t,fontSize:parseFloat(A),charSpace:0})*parseFloat(A);return{height:i.scope.getStringUnitWidth("3",{font:t,fontSize:parseFloat(A),charSpace:0})*parseFloat(A)*1.5,width:n}},Tp={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kp=function(r,i){var A={type:"reference",object:r};void 0===i.internal.getPageInfo(r.page).pageContext.annotations.find(function(t){return t.type===A.type&&t.object===A.object})&&i.internal.getPageInfo(r.page).pageContext.annotations.push(A)},zo=Un.__acroform__.arrayToPdfArray=function(r,i,A){var t=function(o){return o};if(Array.isArray(r)){for(var n="[",s=0;s<r.length;s++)switch(0!==s&&(n+=" "),(0,en.Z)(r[s])){case"boolean":case"number":case"object":n+=r[s].toString();break;case"string":"/"!==r[s].substr(0,1)?(void 0!==i&&A&&(t=A.internal.getEncryptor(i)),n+="("+yi(t(r[s].toString()))+")"):n+=r[s].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ll=function(r,i,A){var t=function(n){return n};return void 0!==i&&A&&(t=A.internal.getEncryptor(i)),(r=r||"").toString(),"("+yi(t(r))+")"},Ur=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ur.prototype.toString=function(){return this.objId+" 0 R"},Ur.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Ur.prototype.getKeyValueListForStream=function(){var r=[],i=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var A in i)if(!1===Object.getOwnPropertyDescriptor(this,i[A]).configurable){var t=i[A],n=this[t];n&&(Array.isArray(n)?r.push({key:t,value:zo(n,this.objId,this.scope)}):n instanceof Ur?(n.scope=this.scope,r.push({key:t,value:n.objId+" 0 R"})):"function"!=typeof n&&r.push({key:t,value:n}))}return r};var ru=function(){Ur.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(A){i=A}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(A){r=A.trim()},get:function(){return r||null}})};UA(ru,Ur);var iu=function(){Ur.call(this);var r,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var A=function(t){return t};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+yi(A(r))+")"}},set:function(A){r=A}})};UA(iu,Ur);var SA=function r(){Ur.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');i=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nn(i,3)},set:function(I){this.F=I?On(i,3):Pn(i,3)}});var A=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return A},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');A=I}});var t=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==t.length)return t},set:function(I){t=void 0!==I?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[0])?0:t[0]},set:function(I){t[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[1])?0:t[1]},set:function(I){t[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[2])?0:t[2]},set:function(I){t[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[3])?0:t[3]},set:function(I){t[3]=I}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ua)return;s="FieldObject"+r.FieldNum++}var I=function(j){return j};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+yi(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(I){o=I}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(I){h=I}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(I){p=I}});var _=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===_?50/ka:_},set:function(I){_=I}});var B="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return B},set:function(I){B=I}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Ua||this instanceof Wi))return ll(x,this.objId,this.scope)},set:function(I){I=I.toString(),x=I}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Dn?y:ll(y,this.objId,this.scope)},set:function(I){I=I.toString(),y=this instanceof Dn?I:"("===I.substr(0,1)?Us(I.substr(1,I.length-2)):Us(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?Us(y.substr(1,y.length-1)):y},set:function(I){I=I.toString(),y=this instanceof Dn?"/"+I:I}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Dn?v:ll(v,this.objId,this.scope)},set:function(I){I=I.toString(),v=this instanceof Dn?I:"("===I.substr(0,1)?Us(I.substr(1,I.length-2)):Us(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?Us(v.substr(1,v.length-1)):v},set:function(I){I=I.toString(),v=this instanceof Dn?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(I){E=I=!!I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(I){M=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,1)},set:function(I){this.Ff=I?On(this.Ff,1):Pn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,2)},set:function(I){this.Ff=I?On(this.Ff,2):Pn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,3)},set:function(I){this.Ff=I?On(this.Ff,3):Pn(this.Ff,3)}});var Z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==Z)return Z},set:function(I){if(-1===[0,1,2].indexOf(I))throw new Error('Invalid value "'+I+'" for attribute Q supplied.');Z=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(Z){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:Z=2;break;case"center":case 1:Z=1;break;default:Z=0}}})};UA(SA,Ur);var Ss=function(){SA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(A){r=A}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(A){r=A}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zo(i,this.objId,this.scope)},set:function(A){var t,n;n=[],"string"==typeof(t=A)&&(n=function(s,o,h){h||(h=1);for(var p,_=[];p=o.exec(s);)_.push(p[h]);return _}(t,/\((.*?)\)/g)),i=n}}),this.getOptions=function(){return i},this.setOptions=function(A){i=A,this.sort&&i.sort()},this.addOption=function(A){A=(A=A||"").toString(),i.push(A),this.sort&&i.sort()},this.removeOption=function(A,t){for(t=t||!1,A=(A=A||"").toString();-1!==i.indexOf(A)&&(i.splice(i.indexOf(A),1),!1!==t););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,18)},set:function(A){this.Ff=A?On(this.Ff,18):Pn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,19)},set:function(A){!0===this.combo&&(this.Ff=A?On(this.Ff,19):Pn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,20)},set:function(A){A?(this.Ff=On(this.Ff,20),i.sort()):this.Ff=Pn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,22)},set:function(A){this.Ff=A?On(this.Ff,22):Pn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,23)},set:function(A){this.Ff=A?On(this.Ff,23):Pn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,27)},set:function(A){this.Ff=A?On(this.Ff,27):Pn(this.Ff,27)}}),this.hasAppearanceStream=!1};UA(Ss,SA);var Is=function(){Ss.call(this),this.fontName="helvetica",this.combo=!1};UA(Is,Ss);var Ms=function(){Is.call(this),this.combo=!0};UA(Ms,Is);var Fa=function(){Ms.call(this),this.edit=!0};UA(Fa,Ms);var Dn=function(){SA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,15)},set:function(A){this.Ff=A?On(this.Ff,15):Pn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,16)},set:function(A){this.Ff=A?On(this.Ff,16):Pn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,17)},set:function(A){this.Ff=A?On(this.Ff,17):Pn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,26)},set:function(A){this.Ff=A?On(this.Ff,26):Pn(this.Ff,26)}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var A=function(s){return s};if(this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(i).length){var t,n=[];for(t in n.push("<<"),i)n.push("/"+t+" ("+yi(A(i[t]))+")");return n.push(">>"),n.join("\n")}},set:function(A){"object"===(0,en.Z)(A)&&(i=A)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(A){"string"==typeof A&&(i.CA=A)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){r=A}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(A){r="/"+A}})};UA(Dn,SA);var za=function(){Dn.call(this),this.pushButton=!0};UA(za,Dn);var Es=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(i){r=void 0!==i?i:[]}})};UA(Es,Dn);var Ua=function(){var r,i;SA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(n){i=n}});var A,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(h){return h};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),t)o.push("/"+s+" ("+yi(n(t[s]))+")");return o.push(">>"),o.join("\n")},set:function(n){"object"===(0,en.Z)(n)&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){"string"==typeof n&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return A},set:function(n){A=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return A.substr(1,A.length-1)},set:function(n){A="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};UA(Ua,SA),Es.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var A=this.Kids[i];A.appearanceStreamContent=r.createAppearanceStream(A.optionName),A.caption=r.getCA()}},Es.prototype.createOption=function(r){var i=new Ua;return i.Parent=this,i.optionName=r,this.Kids.push(i),zp.call(this.scope,i),i};var Sa=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};UA(Sa,Dn);var Wi=function(){SA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,13)},set:function(i){this.Ff=i?On(this.Ff,13):Pn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,21)},set:function(i){this.Ff=i?On(this.Ff,21):Pn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,23)},set:function(i){this.Ff=i?On(this.Ff,23):Pn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,24)},set:function(i){this.Ff=i?On(this.Ff,24):Pn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,25)},set:function(i){this.Ff=i?On(this.Ff,25):Pn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,26)},set:function(i){this.Ff=i?On(this.Ff,26):Pn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(i){Number.isInteger(i)&&(r=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};UA(Wi,SA);var Ia=function(){Wi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,14)},set:function(r){this.Ff=r?On(this.Ff,14):Pn(this.Ff,14)}}),this.password=!0};UA(Ia,Wi);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(r){var i=zr(r);i.scope=r.scope;var A=[],t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=cl(r,r.caption);return A.push("0.749023 g"),A.push("0 0 "+Ct(ct.internal.getWidth(r))+" "+Ct(ct.internal.getHeight(r))+" re"),A.push("f"),A.push("BMC"),A.push("q"),A.push("0 0 1 rg"),A.push("/"+t+" "+Ct(s.fontSize)+" Tf "+n),A.push("BT"),A.push(s.text),A.push("ET"),A.push("Q"),A.push("EMC"),i.stream=A.join("\n"),i},YesNormal:function(r){var i=zr(r);i.scope=r.scope;var A=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color),n=[],s=ct.internal.getHeight(r),o=ct.internal.getWidth(r),h=cl(r,r.caption);return n.push("1 g"),n.push("0 0 "+Ct(o)+" "+Ct(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Ct(o-1)+" "+Ct(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+A+" "+Ct(h.fontSize)+" Tf "+t),n.push(h.text),n.push("ET"),n.push("Q"),i.stream=n.join("\n"),i},OffPushDown:function(r){var i=zr(r);i.scope=r.scope;var A=[];return A.push("0.749023 g"),A.push("0 0 "+Ct(ct.internal.getWidth(r))+" "+Ct(ct.internal.getHeight(r))+" re"),A.push("f"),i.stream=A.join("\n"),i}},RadioButton:{Circle:{createAppearanceStream:function(r){var i={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return i.N[r]=ct.RadioButton.Circle.YesNormal,i.D[r]=ct.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(r){var i=zr(r);i.scope=r.scope;var A=[],t=ct.internal.getWidth(r)<=ct.internal.getHeight(r)?ct.internal.getWidth(r)/4:ct.internal.getHeight(r)/4;t=Number((.9*t).toFixed(5));var s=Number((t*ct.internal.Bezier_C).toFixed(5));return A.push("q"),A.push("1 0 0 1 "+Ti(ct.internal.getWidth(r)/2)+" "+Ti(ct.internal.getHeight(r)/2)+" cm"),A.push(t+" 0 m"),A.push(t+" "+s+" "+s+" "+t+" 0 "+t+" c"),A.push("-"+s+" "+t+" -"+t+" "+s+" -"+t+" 0 c"),A.push("-"+t+" -"+s+" -"+s+" -"+t+" 0 -"+t+" c"),A.push(s+" -"+t+" "+t+" -"+s+" "+t+" 0 c"),A.push("f"),A.push("Q"),i.stream=A.join("\n"),i},YesPushDown:function(r){var i=zr(r);i.scope=r.scope;var A=[],t=ct.internal.getWidth(r)<=ct.internal.getHeight(r)?ct.internal.getWidth(r)/4:ct.internal.getHeight(r)/4;t=Number((.9*t).toFixed(5));var n=Number((2*t).toFixed(5)),s=Number((n*ct.internal.Bezier_C).toFixed(5)),o=Number((t*ct.internal.Bezier_C).toFixed(5));return A.push("0.749023 g"),A.push("q"),A.push("1 0 0 1 "+Ti(ct.internal.getWidth(r)/2)+" "+Ti(ct.internal.getHeight(r)/2)+" cm"),A.push(n+" 0 m"),A.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),A.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),A.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),A.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),A.push("f"),A.push("Q"),A.push("0 g"),A.push("q"),A.push("1 0 0 1 "+Ti(ct.internal.getWidth(r)/2)+" "+Ti(ct.internal.getHeight(r)/2)+" cm"),A.push(t+" 0 m"),A.push(t+" "+o+" "+o+" "+t+" 0 "+t+" c"),A.push("-"+o+" "+t+" -"+t+" "+o+" -"+t+" 0 c"),A.push("-"+t+" -"+o+" -"+o+" -"+t+" 0 -"+t+" c"),A.push(o+" -"+t+" "+t+" -"+o+" "+t+" 0 c"),A.push("f"),A.push("Q"),i.stream=A.join("\n"),i},OffPushDown:function(r){var i=zr(r);i.scope=r.scope;var A=[],t=ct.internal.getWidth(r)<=ct.internal.getHeight(r)?ct.internal.getWidth(r)/4:ct.internal.getHeight(r)/4;t=Number((.9*t).toFixed(5));var n=Number((2*t).toFixed(5)),s=Number((n*ct.internal.Bezier_C).toFixed(5));return A.push("0.749023 g"),A.push("q"),A.push("1 0 0 1 "+Ti(ct.internal.getWidth(r)/2)+" "+Ti(ct.internal.getHeight(r)/2)+" cm"),A.push(n+" 0 m"),A.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),A.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),A.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),A.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),A.push("f"),A.push("Q"),i.stream=A.join("\n"),i}},Cross:{createAppearanceStream:function(r){var i={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return i.N[r]=ct.RadioButton.Cross.YesNormal,i.D[r]=ct.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(r){var i=zr(r);i.scope=r.scope;var A=[],t=ct.internal.calculateCross(r);return A.push("q"),A.push("1 1 "+Ct(ct.internal.getWidth(r)-2)+" "+Ct(ct.internal.getHeight(r)-2)+" re"),A.push("W"),A.push("n"),A.push(Ct(t.x1.x)+" "+Ct(t.x1.y)+" m"),A.push(Ct(t.x2.x)+" "+Ct(t.x2.y)+" l"),A.push(Ct(t.x4.x)+" "+Ct(t.x4.y)+" m"),A.push(Ct(t.x3.x)+" "+Ct(t.x3.y)+" l"),A.push("s"),A.push("Q"),i.stream=A.join("\n"),i},YesPushDown:function(r){var i=zr(r);i.scope=r.scope;var A=ct.internal.calculateCross(r),t=[];return t.push("0.749023 g"),t.push("0 0 "+Ct(ct.internal.getWidth(r))+" "+Ct(ct.internal.getHeight(r))+" re"),t.push("f"),t.push("q"),t.push("1 1 "+Ct(ct.internal.getWidth(r)-2)+" "+Ct(ct.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Ct(A.x1.x)+" "+Ct(A.x1.y)+" m"),t.push(Ct(A.x2.x)+" "+Ct(A.x2.y)+" l"),t.push(Ct(A.x4.x)+" "+Ct(A.x4.y)+" m"),t.push(Ct(A.x3.x)+" "+Ct(A.x3.y)+" l"),t.push("s"),t.push("Q"),i.stream=t.join("\n"),i},OffPushDown:function(r){var i=zr(r);i.scope=r.scope;var A=[];return A.push("0.749023 g"),A.push("0 0 "+Ct(ct.internal.getWidth(r))+" "+Ct(ct.internal.getHeight(r))+" re"),A.push("f"),i.stream=A.join("\n"),i}}},createDefaultAppearanceStream:function(r){var i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,A=r.scope.__private__.encodeColorString(r.color);return"/"+i+" "+r.fontSize+" Tf "+A}};ct.internal={Bezier_C:.551915024494,calculateCross:function(r){var i=ct.internal.getWidth(r),A=ct.internal.getHeight(r),t=Math.min(i,A);return{x1:{x:(i-t)/2,y:(A-t)/2+t},x2:{x:(i-t)/2+t,y:(A-t)/2},x3:{x:(i-t)/2,y:(A-t)/2},x4:{x:(i-t)/2+t,y:(A-t)/2+t}}}},ct.internal.getWidth=function(r){var i=0;return"object"===(0,en.Z)(r)&&(i=Qa(r.Rect[2])),i},ct.internal.getHeight=function(r){var i=0;return"object"===(0,en.Z)(r)&&(i=Qa(r.Rect[3])),i};var r,i,zp=Un.addField=function(r){if(function(r,i){if(i.scope=r,void 0!==r.internal&&(void 0===r.internal.acroformPlugin||!1===r.internal.acroformPlugin.isInitialized)){if(SA.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Tp)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ka=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new iu,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){var A;(A=r).internal.events.unsubscribe(A.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete A.internal.acroformPlugin.acroFormDictionaryRoot._eventID,A.internal.acroformPlugin.printedOut=!0}),r.internal.events.subscribe("buildDocument",function(){!function(A){A.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=A.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];s.objId=void 0,s.hasAnnotation&&kp(s,A)}}(r)}),r.internal.events.subscribe("putCatalog",function(){!function(A){if(void 0===A.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");A.internal.write("/AcroForm "+A.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(r)}),r.internal.events.subscribe("postPutPages",function(A){!function(t,n){var s=!t;for(var o in t||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(o)){var h=t[o],p=[],_=h.Rect;if(h.Rect&&(h.Rect=Fo(h.Rect,n)),n.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ct.createDefaultAppearanceStream(h),"object"===(0,en.Z)(h)&&"function"==typeof h.getKeyValueListForStream&&(p=h.getKeyValueListForStream()),h.Rect=_,h.hasAppearanceStream&&!h.appearanceStreamContent){var B=yp(h);p.push({key:"AP",value:"<</N "+B+">>"}),n.internal.acroformPlugin.xForms.push(B)}if(h.appearanceStreamContent){var x="";for(var y in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(y)){var v=h.appearanceStreamContent[y];if(x+="/"+y+" ",x+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var M=v[o];"function"==typeof M&&(M=M.call(n,h)),x+="/"+o+" "+M+" ",n.internal.acroformPlugin.xForms.indexOf(M)>=0||n.internal.acroformPlugin.xForms.push(M)}}else"function"==typeof(M=v)&&(M=M.call(n,h)),x+="/"+o+" "+M,n.internal.acroformPlugin.xForms.indexOf(M)>=0||n.internal.acroformPlugin.xForms.push(M);x+=">>"}p.push({key:"AP",value:"<<\n"+x+">>"})}n.internal.putStream({additionalKeyValues:p,objectId:h.objId}),n.internal.out("endobj")}s&&function(r,i){for(var A in r)if(r.hasOwnProperty(A)){var t=A,n=r[A];i.internal.newObjectDeferredBegin(n.objId,!0),"object"===(0,en.Z)(n)&&"function"==typeof n.putStream&&n.putStream(),delete r[t]}}(n.internal.acroformPlugin.xForms,n)}(A,r)}),r.internal.acroformPlugin.isInitialized=!0}}(this,r),!(r instanceof SA))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=r).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};function su(r){return r.reduce(function(i,A,t){return i[A]=t,i},{})}Un.AcroFormChoiceField=Ss,Un.AcroFormListBox=Is,Un.AcroFormComboBox=Ms,Un.AcroFormEditBox=Fa,Un.AcroFormButton=Dn,Un.AcroFormPushButton=za,Un.AcroFormRadioButton=Es,Un.AcroFormCheckBox=Sa,Un.AcroFormTextField=Wi,Un.AcroFormPasswordField=Ia,Un.AcroFormAppearance=ct,Un.AcroForm={ChoiceField:Ss,ListBox:Is,ComboBox:Ms,EditBox:Fa,Button:Dn,PushButton:za,RadioButton:Es,CheckBox:Sa,TextField:Wi,PasswordField:Ia,Appearance:ct},gt.AcroForm={ChoiceField:Ss,ListBox:Is,ComboBox:Ms,EditBox:Fa,Button:Dn,PushButton:za,RadioButton:Es,CheckBox:Sa,TextField:Wi,PasswordField:Ia,Appearance:ct},function(r){r.__addimage__={};var i="UNKNOWN",A={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},t=r.__addimage__.getImageFileTypeByImageData=function(D,P){var $,q,be,ve,ke,fe=i;if("RGBA"===(P=P||i)||void 0!==D.data&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(Se(D))for(ke in A)for(be=A[ke],$=0;$<be.length;$+=1){for(ve=!0,q=0;q<be[$].length;q+=1)if(void 0!==be[$][q]&&be[$][q]!==D[q]){ve=!1;break}if(!0===ve){fe=ke;break}}else for(ke in A)for(be=A[ke],$=0;$<be.length;$+=1){for(ve=!0,q=0;q<be[$].length;q+=1)if(void 0!==be[$][q]&&be[$][q]!==D.charCodeAt(q)){ve=!1;break}if(!0===ve){fe=ke;break}}return fe===i&&P!==i&&(fe=P),fe},n=function D(P){for(var $=this.internal.write,q=this.internal.putStream,be=(0,this.internal.getFilters)();-1!==be.indexOf("FlateEncode");)be.splice(be.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:P.width}),ve.push({key:"Height",value:P.height}),P.colorSpace===Z.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&void 0!==P.sMask?P.objectId+2:P.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===Z.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&void 0!==P.decodeParameters&&ve.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ke="",fe=0,Ue=P.transparency.length;fe<Ue;fe++)ke+=P.transparency[fe]+" "+P.transparency[fe]+" ";ve.push({key:"Mask",value:"["+ke+"]"})}if(void 0!==P.sMask&&ve.push({key:"SMask",value:P.objectId+1+" 0 R"}),q({data:P.data,additionalKeyValues:ve,alreadyAppliedFilters:void 0!==P.filter?["/"+P.filter]:void 0,objectId:P.objectId}),$("endobj"),"sMask"in P&&void 0!==P.sMask){var U={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:"/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,data:P.sMask};"filter"in P&&(U.filter=P.filter),D.call(this,U)}if(P.colorSpace===Z.INDEXED){var G=this.internal.newObject();q({data:Y(new Uint8Array(P.palette)),objectId:G}),$("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var P in D)n.call(this,D[P])},o=function(){var D,P=this.internal.collections.addImage_images,$=this.internal.write;for(var q in P)$("/I"+(D=P[q]).index,D.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},p=function(){var D=this.internal.collections.addImage_images;return h.call(this),D},_=function(){return Object.keys(this.internal.collections.addImage_images).length},B=function(D){return"function"==typeof r["process"+D.toUpperCase()]},x=function(D){return"object"===(0,en.Z)(D)&&1===D.nodeType},y=function(D,P){if("IMG"===D.nodeName&&D.hasAttribute("src")){var $=""+D.getAttribute("src");if(0===$.indexOf("data:image/"))return Ar(unescape($).split("base64,").pop());var q=r.loadFile($,!0);if(void 0!==q)return q}if("CANVAS"===D.nodeName){if(0===D.width||0===D.height)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var be;switch(P){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return Ar(D.toDataURL(be,1).split("base64,").pop())}},v=function(D){var P=this.internal.collections.addImage_images;if(P)for(var $ in P)if(D===P[$].alias)return P[$]},M=function(D,P,$){return D||P||(D=-96,P=-96),D<0&&(D=-1*$.width*72/D/this.internal.scaleFactor),P<0&&(P=-1*$.height*72/P/this.internal.scaleFactor),0===D&&(D=P*$.width/$.height),0===P&&(P=D*$.height/$.width),[D,P]},E=function(D,P,$,q,be,ve){var ke=M.call(this,$,q,be),fe=this.internal.getCoordinateString,Ue=this.internal.getVerticalCoordinateString,ze=p.call(this);if($=ke[0],q=ke[1],ze[be.index]=be,ve){ve*=Math.PI/180;var et=Math.cos(ve),U=Math.sin(ve),G=function(ne){return ne.toFixed(4)},K=[G(et),G(U),G(-1*U),G(et),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,fe(D),Ue(P+q),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([fe($),"0","0",fe(q),"0","0","cm"].join(" "))):this.internal.write([fe($),"0","0",fe(q),fe(D),Ue(P+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},Z=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=r.__addimage__.sHashCode=function(D){var P,$,q=0;if("string"==typeof D)for($=D.length,P=0;P<$;P++)q=(q<<5)-q+D.charCodeAt(P),q|=0;else if(Se(D))for($=D.byteLength/2,P=0;P<$;P++)q=(q<<5)-q+D[P],q|=0;return q},X=r.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var P=!0;return 0===D.length&&(P=!1),D.length%4!=0&&(P=!1),!1===/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))&&(P=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))&&(P=!1),P},ie=r.__addimage__.extractImageFromDataUrl=function(D){var P=(D=D||"").split("base64,"),$=null;if(2===P.length){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(q)&&($={mimeType:q[1],charset:q[2],data:P[1]})}return $},_e=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(D){return _e()&&D instanceof ArrayBuffer};var Se=r.__addimage__.isArrayBufferView=function(D){return _e()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},ue=r.__addimage__.binaryStringToUint8Array=function(D){for(var P=D.length,$=new Uint8Array(P),q=0;q<P;q++)$[q]=D.charCodeAt(q);return $},Y=r.__addimage__.arrayBufferToBinaryString=function(D){for(var P="",$=Se(D)?D:new Uint8Array(D),q=0;q<$.length;q+=8192)P+=String.fromCharCode.apply(null,$.subarray(q,q+8192));return P};r.addImage=function(){var D,P,$,q,be,ve,ke,fe,Ue;if("number"==typeof arguments[1]?(P=i,$=arguments[1],q=arguments[2],be=arguments[3],ve=arguments[4],ke=arguments[5],fe=arguments[6],Ue=arguments[7]):(P=arguments[1],$=arguments[2],q=arguments[3],be=arguments[4],ve=arguments[5],ke=arguments[6],fe=arguments[7],Ue=arguments[8]),"object"===(0,en.Z)(D=arguments[0])&&!x(D)&&"imageData"in D){var ze=D;D=ze.imageData,P=ze.format||P||i,$=ze.x||$||0,q=ze.y||q||0,be=ze.w||ze.width||be,ve=ze.h||ze.height||ve,ke=ze.alias||ke,fe=ze.compression||fe,Ue=ze.rotation||ze.angle||Ue}var et=this.internal.getFilters();if(void 0===fe&&-1!==et.indexOf("FlateEncode")&&(fe="SLOW"),isNaN($)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var U=Qe.call(this,D,P,ke,fe);return E.call(this,$,q,be,ve,U,Ue),this};var Qe=function(D,P,$,q){var be,ve,ke,Ue;if("string"==typeof D&&t(D)===i){D=unescape(D);var fe=Fe(D,!1);(""!==fe||void 0!==(fe=r.loadFile(D,!0)))&&(D=fe)}if(x(D)&&(D=y(D,P)),P=t(D,P),!B(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if((null==(ke=$)||0===ke.length)&&($="string"==typeof(Ue=D)||Se(Ue)?j(Ue):Se(Ue.data)?j(Ue.data):null),(be=v.call(this,$))||(_e()&&(D instanceof Uint8Array||"RGBA"===P||(ve=D,D=ue(D))),be=this["process"+P.toUpperCase()](D,_.call(this),$,function(Ue){return Ue&&"string"==typeof Ue&&(Ue=Ue.toUpperCase()),Ue in r.image_compression?Ue:I.NONE}(q),ve)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},Fe=r.__addimage__.convertBase64ToBinaryString=function(D,P){var $;P="boolean"!=typeof P||P;var q,be="";if("string"==typeof D){q=null!==($=ie(D))?$.data:D;try{be=Ar(q)}catch(ve){if(P)throw X(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return be};r.getImageProperties=function(D){var P,$,q="";if(x(D)&&(D=y(D)),"string"==typeof D&&t(D)===i&&(""===(q=Fe(D,!1))&&(q=r.loadFile(D)||""),D=q),$=t(D),!B($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!_e()||D instanceof Uint8Array||(D=ue(D)),!(P=this["process"+$.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=$,P}}(gt.API),
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
r=gt.API,i=function(A){if(void 0!==A&&""!=A)return!0},gt.API.events.push(["addPage",function(A){this.internal.getPageInfo(A.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(A){for(var t,n,s,o=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(A.objId),_=A.pageContext.annotations,B=!1,x=0;x<_.length&&!B;x++)switch((t=_[x]).type){case"link":(i(t.options.url)||i(t.options.pageNumber))&&(B=!0);break;case"reference":case"text":case"freetext":B=!0}if(0!=B){this.internal.write("/Annots [");for(var y=0;y<_.length;y++){t=_[y];var v=this.internal.pdfEscape,M=this.internal.getEncryptor(A.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),Z=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(E.objId),j=t.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(t.bounds.x)+" "+h(t.bounds.y+t.bounds.h)+" "+o(t.bounds.x+t.bounds.w)+" "+h(t.bounds.y)+"] ")+"/Contents ("+v(I(t.contents))+")",s+=" /Popup "+Z.objId+" 0 R",s+=" /P "+p.objId+" 0 R",s+=" /T ("+v(I(j))+") >>",E.content=s;var X=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(t.bounds.x+30)+" "+h(t.bounds.y+t.bounds.h)+" "+o(t.bounds.x+t.bounds.w+30)+" "+h(t.bounds.y)+"] ")+" /Parent "+X,t.open&&(s+=" /Open true"),Z.content=s+=" >>",this.internal.write(E.objId,"0 R",Z.objId,"0 R");break;case"freetext":n="/Rect ["+o(t.bounds.x)+" "+h(t.bounds.y)+" "+o(t.bounds.x+t.bounds.w)+" "+h(t.bounds.y+t.bounds.h)+"] ";var ie=t.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+v(M(t.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ie+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(t.options.name){var _e=this.annotations._nameMap[t.options.name];t.options.pageNumber=_e.page,t.options.top=_e.y}else t.options.top||(t.options.top=0);if(n="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",s="",t.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+v(M(t.options.url))+") >>";else if(t.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,s+=" /FitV "+t.options.left+"]";break;default:var Se=h(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),s+=" /XYZ "+t.options.left+" "+Se+" "+t.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),r.createAnnotation=function(A){var t=this.internal.getCurrentPageInfo();switch(A.type){case"link":this.link(A.bounds.x,A.bounds.y,A.bounds.w,A.bounds.h,A);break;case"text":case"freetext":t.pageContext.annotations.push(A)}},r.link=function(A,t,n,s,o){var h=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:p(A),y:_(t),w:p(A+n),h:_(t+s)},options:o,type:"link"})},r.textWithLink=function(A,t,n,s){var o,h,p=this.getTextWidth(A),_=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var B=this.splitTextToSize(A,h=s.maxWidth).length;o=Math.ceil(_*B)}else h=p,o=_;return this.text(A,t,n,s),"center"===s.align&&(t-=p/2),"right"===s.align&&(t-=p),this.link(t,(n+=.2*_)-_,h,o,s),p},r.getTextWidth=function(A){var t=this.internal.getFontSize();return this.getStringUnitWidth(A)*t/this.internal.scaleFactor},
/**
       * @license
       * Copyright (c) 2017 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},A={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},t={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(E){return void 0!==i[E.charCodeAt(0)]},o=r.__arabicParser__.isArabicLetter=function(E){return"string"==typeof E&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},h=r.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&s(E)&&i[E.charCodeAt(0)].length<=2},p=r.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&n.indexOf(E.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&s(E)&&i[E.charCodeAt(0)].length>=1};var _=r.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&s(E)&&i[E.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&s(E)&&i[E.charCodeAt(0)].length>=3};var B=r.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&s(E)&&4==i[E.charCodeAt(0)].length},x=r.__arabicParser__.resolveLigatures=function(E){var Z=0,I=A,j="",X=0;for(Z=0;Z<E.length;Z+=1)void 0!==I[E.charCodeAt(Z)]?(X++,"number"==typeof(I=I[E.charCodeAt(Z)])&&(j+=String.fromCharCode(I),I=A,X=0),Z===E.length-1&&(I=A,j+=E.charAt(Z-(X-1)),Z-=X-1,X=0)):(I=A,j+=E.charAt(Z-X),Z-=X,X=0);return j};r.__arabicParser__.isArabicDiacritic=function(E){return void 0!==E&&void 0!==t[E.charCodeAt(0)]};var y=r.__arabicParser__.getCorrectForm=function(E,Z,I){return o(E)?!1===s(E)?-1:!_(E)||!o(Z)&&!o(I)||!o(I)&&h(Z)||h(E)&&!o(Z)||h(E)&&p(Z)||h(E)&&h(Z)?0:B(E)&&o(Z)&&!h(Z)&&o(I)&&_(I)?3:h(E)||!o(I)?1:2:-1},v=function(E){var Z=0,I=0,j=0,X="",ie="",_e="",Se=(E=E||"").split("\\s+"),ue=[];for(Z=0;Z<Se.length;Z+=1){for(ue.push(""),I=0;I<Se[Z].length;I+=1)ie=Se[Z][I-1],_e=Se[Z][I+1],o(X=Se[Z][I])?(j=y(X,ie,_e),ue[Z]+=-1!==j?String.fromCharCode(i[X.charCodeAt(0)][j]):X):ue[Z]+=X;ue[Z]=x(ue[Z])}return ue.join(" ")},M=r.__arabicParser__.processArabic=r.processArabic=function(){var E,Z="string"==typeof arguments[0]?arguments[0]:arguments[0].text,I=[];if(Array.isArray(Z)){var j=0;for(I=[],j=0;j<Z.length;j+=1)Array.isArray(Z[j])?I.push([v(Z[j][0]),Z[j][1],Z[j][2]]):I.push([v(Z[j])]);E=I}else E=v(Z);return"string"==typeof arguments[0]?E:(arguments[0].text=E,arguments[0])};r.events.push(["preProcessText",M])}(gt.API),gt.API.autoPrint=function(r){var i;return"javascript"===((r=r||{}).variant=r.variant||"non-conform",r.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(){var A=void 0;Object.defineProperty(this,"pdf",{get:function(){return A},set:function(h){A=h}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(h){t=isNaN(h)||!1===Number.isInteger(h)||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(h){n=isNaN(h)||!1===Number.isInteger(h)||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(h){s=h}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(h){o=h}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(A,t){var n;if("2d"!==(A=A||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(gt.API),function(r){var i={left:0,top:0,bottom:0,right:0},A=!1,t=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var _=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var B=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return B},set:function(E){B=E}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(E){M=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(p){return t.call(this),this.internal.__cell__.headerFunction="function"==typeof p?p:void 0,this},r.getTextDimensions=function(p,_){t.call(this);var B=(_=_||{}).fontSize||this.getFontSize(),x=_.font||this.getFont(),y=_.scaleFactor||this.internal.scaleFactor,v=0,M=0,E=0,Z=this;if(!Array.isArray(p)&&"string"!=typeof p){if("number"!=typeof p)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var I=_.maxWidth;I>0?"string"==typeof p?p=this.splitTextToSize(p,I):"[object Array]"===Object.prototype.toString.call(p)&&(p=p.reduce(function(X,ie){return X.concat(Z.splitTextToSize(ie,I))},[])):p=Array.isArray(p)?p:[p];for(var j=0;j<p.length;j++)v<(E=this.getStringUnitWidth(p[j],{font:x})*B)&&(v=E);return 0!==v&&(M=p.length),{w:v/=y,h:Math.max((M*B*this.getLineHeightFactor()-B*(this.getLineHeightFactor()-1))/y,0)}},r.cellAddPage=function(){t.call(this),this.addPage();var p=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new s(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=r.cell=function(){var p;p=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),t.call(this);var _=this.internal.__cell__.lastCell,B=this.internal.__cell__.padding,x=this.internal.__cell__.margins||i,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return void 0!==_.lineNumber&&(_.lineNumber===p.lineNumber?(p.x=(_.x||0)+(_.width||0),p.y=_.y||0):_.y+_.height+p.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=x.top,v&&y&&(this.printHeaderRow(p.lineNumber,!0),p.y+=y[0].height)):p.y=_.y+_.height||p.y),void 0!==p.text[0]&&(this.rect(p.x,p.y,p.width,p.height,!0===A?"FD":void 0),"right"===p.align?this.text(p.text,p.x+p.width-B,p.y+B,{align:"right",baseline:"top"}):"center"===p.align?this.text(p.text,p.x+p.width/2,p.y+B,{align:"center",baseline:"top",maxWidth:p.width-B-B}):this.text(p.text,p.x+B,p.y+B,{align:"left",baseline:"top",maxWidth:p.width-B-B})),this.internal.__cell__.lastCell=p,this};r.table=function(p,_,B,x,y){if(t.call(this),!B)throw new Error("No data for PDF table.");var v,M,E,Z,I=[],j=[],X=[],ie={},_e={},Se=[],ue=[],Y=(y=y||{}).autoSize||!1,Qe=!1!==y.printHeaders,Fe=y.css&&void 0!==y.css["font-size"]?16*y.css["font-size"]:y.fontSize||12,D=y.margins||Object.assign({width:this.getPageWidth()},i),P="number"==typeof y.padding?y.padding:3,$=y.headerBackgroundColor||"#c8c8c8",q=y.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=Qe,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=Fe,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=q,this.setFontSize(Fe),null==x)j=I=Object.keys(B[0]),X=I.map(function(){return"left"});else if(Array.isArray(x)&&"object"===(0,en.Z)(x[0]))for(I=x.map(function(ze){return ze.name}),j=x.map(function(ze){return ze.prompt||ze.name||""}),X=x.map(function(ze){return ze.align||"left"}),v=0;v<x.length;v+=1)_e[x[v].name]=x[v].width*(19.049976/25.4);else Array.isArray(x)&&"string"==typeof x[0]&&(j=I=x,X=I.map(function(){return"left"}));if(Y||Array.isArray(x)&&"string"==typeof x[0])for(v=0;v<I.length;v+=1){for(ie[Z=I[v]]=B.map(function(ze){return ze[Z]}),this.setFont(void 0,"bold"),Se.push(this.getTextDimensions(j[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=ie[Z],this.setFont(void 0,"normal"),E=0;E<M.length;E+=1)Se.push(this.getTextDimensions(M[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_e[Z]=Math.max.apply(null,Se)+P+P,Se=[]}if(Qe){var be={};for(v=0;v<I.length;v+=1)be[I[v]]={},be[I[v]].text=j[v],be[I[v]].align=X[v];var ve=h.call(this,be,_e);ue=I.map(function(ze){return new s(p,_,_e[ze],ve,be[ze].text,void 0,be[ze].align)}),this.setTableHeaderRow(ue),this.printHeaderRow(1,!1)}var ke=x.reduce(function(ze,et){return ze[et.name]=et.align,ze},{});for(v=0;v<B.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:B[v]},this);var fe=h.call(this,B[v],_e);for(E=0;E<I.length;E+=1){var Ue=B[v][I[E]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:E,data:Ue},this),o.call(this,new s(p,_,_e[I[E]],fe,Ue,v+2,ke[I[E]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=_,this};var h=function(p,_){var B=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(p).map(function(v){var M=p[v];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,_[v]-B-B)},this).map(function(v){return this.getLineHeightFactor()*v.length*x/y+B+B},this).reduce(function(v,M){return Math.max(v,M)},0)};r.setTableHeaderRow=function(p){t.call(this),this.internal.__cell__.tableHeaderRow=p},r.printHeaderRow=function(p,_){if(t.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var B;if(A=!0,"function"==typeof this.internal.__cell__.headerFunction){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){B=this.internal.__cell__.tableHeaderRow[v].clone(),_&&(B.y=this.internal.__cell__.margins.top||0,y.push(B)),B.lineNumber=p;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,B),this.setTextColor(M)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),A=!1}}(gt.API);var Ma={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ou=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dl=su(ou),ul=[100,200,300,400,500,600,700,800,900],Up=su(ul);function hl(r){var s,i=r.family.replace(/"|'/g,"").toLowerCase(),A=Ma[s=(s=r.style)||"normal"]?s:"normal",t=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(r.weight),n=function(s){return"number"==typeof dl[s=s||"normal"]?s:"normal"}(r.stretch);return{family:i,style:A,weight:t,stretch:n,src:r.src||[],ref:r.ref||{name:i,style:[n,A,t].join(" ")}}}function Ea(r,i,A,t){var n;for(n=A;n>=0&&n<i.length;n+=t)if(r[i[n]])return r[i[n]];for(n=A;n>=0&&n<i.length;n-=t)if(r[i[n]])return r[i[n]]}var La={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},au={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cu(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function lu(r){return r.trimLeft()}function Ip(r,i){for(var A=0;A<r.length;){if(r.charAt(A)===i)return[r.substring(0,A),r.substring(A+1)];A+=1}return null}function Mp(r){var i=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===i?null:[i[0],r.substring(i[0].length)]}var Xi,du,uu,pl=["times"];(function(r){var i,A,t,n,s,o,h,p,_,B=function(U){return this.isStrokeTransparent=(U=U||{}).isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=void 0!==U.transform?U.transform.clone():new p,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof U.ignoreClearRect||U.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new x(this),i=this.internal.f2,A=this.internal.getCoordinateString,t=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,h=this.internal.Rectangle,p=this.internal.Matrix,_=new B}]);var x=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=U;Object.defineProperty(this,"pdf",{get:function(){return G}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Te){K=!!Te}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Te){ne=!!Te}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Te){isNaN(Te)||(ae=Te)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Te){isNaN(Te)||(ge=Te)}}),Object.defineProperty(this,"margin",{get:function(){return _.margin},set:function(Te){var J;"number"==typeof Te?J=[Te,Te,Te,Te]:((J=new Array(4))[0]=Te[0],J[1]=Te.length>=2?Te[1]:J[0],J[2]=Te.length>=3?Te[2]:J[0],J[3]=Te.length>=4?Te[3]:J[1]),_.margin=J}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Te){we=Te}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Te){Ce=Te}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(Te){Re=Te}}),Object.defineProperty(this,"ctx",{get:function(){return _},set:function(Te){Te instanceof B&&(_=Te)}}),Object.defineProperty(this,"path",{get:function(){return _.path},set:function(Te){_.path=Te}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(Te){je=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var J;J=y(Te),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=0===J.a,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var J=y(Te);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=0===J.a,this.ctx.strokeOpacity=J.a,0===J.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(J.r,J.g,J.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){-1!==["butt","round","square"].indexOf(Te)&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){-1!==["bevel","round","miter"].indexOf(Te)&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){-1!==["right","end","center","left","start"].indexOf(Te)&&(this.ctx.textAlign=Te)}});var rt=null,bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return bt},set:function(Te){rt=null,bt=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var J;if(this.ctx.font=Te,null!==(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))){var It=J[1],ut=J[3],He=J[4],Ge=J[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor("px"===nt?parseFloat(He)*this.pdf.internal.scaleFactor:"em"===nt?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var qe=function(Tt){var Gt,At,NA=[],on=Tt.trim();if(""===on)return pl;if(on in au)return[au[on]];for(;""!==on;){switch(At=null,Gt=(on=lu(on)).charAt(0)){case'"':case"'":At=Ip(on.substring(1),Gt);break;default:At=Mp(on)}if(null===At||(NA.push(At[0]),""!==(on=lu(At[1]))&&","!==on.charAt(0)))return pl;on=on.replace(/^,/,"")}return NA}(Ge);if(this.fontFaces){var ht=function Sp(r,i,A){for(var t=(A=A||{}).defaultFontFamily||"times",n=Object.assign({},La,A.genericFontFamilies||{}),s=null,o=null,h=0;h<i.length;++h)if(n[(s=hl(i[h])).family]&&(s.family=n[s.family]),r.hasOwnProperty(s.family)){o=r[s.family];break}if(!(o=o||r[t]))throw new Error("Could not find a font-family for the rule '"+cu(s)+"' and default family '"+t+"'.");if(o=function(p,_){if(_[p])return _[p];var B=dl[p],y=Ea(_,ou,B,B<=dl.normal?-1:1);if(!y)throw new Error("Could not find a matching font-stretch value for "+p);return y}(s.stretch,o),o=function(p,_){if(_[p])return _[p];for(var B=Ma[p],x=0;x<B.length;++x)if(_[B[x]])return _[B[x]];throw new Error("Could not find a matching font-style for "+p)}(s.style,o),!(o=function(p,_){if(_[p])return _[p];if(400===p&&_[500])return _[500];if(500===p&&_[400])return _[400];var x=Ea(_,ul,Up[p],p<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+p);return x}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+cu(s)+"'.");return o}(function at(Te,J){if(null===rt){var It=(ut=Te.getFontList(),He=[],Object.keys(ut).forEach(function(Ge){ut[Ge].forEach(function(nt){var qe=null;switch(nt){case"bold":qe={family:Ge,weight:"bold"};break;case"italic":qe={family:Ge,style:"italic"};break;case"bolditalic":qe={family:Ge,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Ge}}null!==qe&&(qe.ref={name:Ge,style:nt},He.push(qe))})}),He);rt=function(ut){for(var He={},Ge=0;Ge<ut.length;++Ge){var nt=hl(ut[Ge]),qe=nt.family,ht=nt.stretch,Qt=nt.style,Nt=nt.weight;He[qe]=He[qe]||{},He[qe][ht]=He[qe][ht]||{},He[qe][ht][Qt]=He[qe][ht][Qt]||{},He[qe][ht][Qt][Nt]=nt}return He}(It.concat(J))}var ut,He;return rt}(this.pdf,this.fontFaces),qe.map(function(Tt){return{family:Tt,stretch:"normal",weight:ut,style:It}}));this.pdf.setFont(ht.ref.name,ht.ref.style)}else{var Qt="";("bold"===ut||parseInt(ut,10)>=700||"bold"===It)&&(Qt="bold"),"italic"===It&&(Qt+="italic"),0===Qt.length&&(Qt="normal");for(var Nt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},An=0;An<qe.length;An++){if(void 0!==this.pdf.internal.getFont(qe[An],Qt,{noFallback:!0,disableWarning:!0})){Nt=qe[An];break}if("bolditalic"===Qt&&void 0!==this.pdf.internal.getFont(qe[An],"bold",{noFallback:!0,disableWarning:!0}))Nt=qe[An],Qt="bold";else if(void 0!==this.pdf.internal.getFont(qe[An],"normal",{noFallback:!0,disableWarning:!0})){Nt=qe[An],Qt="normal";break}}if(""===Nt)for(var vn=0;vn<qe.length;vn++)if(Rt[qe[vn]]){Nt=Rt[qe[vn]];break}this.pdf.setFont(Nt=""===Nt?"Times":Nt,Qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,et.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,et.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};x.prototype.setLineDash=function(U){this.lineDash=U},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){ie.call(this,"fill",!1)},x.prototype.stroke=function(){ie.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(U,G){if(isNaN(U)||isNaN(G))throw sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(U,G));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(U,G)},x.prototype.closePath=function(){var U=new o(0,0),G=0;for(G=this.path.length-1;-1!==G;G--)if("begin"===this.path[G].type&&"object"===(0,en.Z)(this.path[G+1])&&"number"==typeof this.path[G+1].x){U=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},x.prototype.lineTo=function(U,G){if(isNaN(U)||isNaN(G))throw sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(U,G));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ie.call(this,null,!0)},x.prototype.quadraticCurveTo=function(U,G,K,ne){if(isNaN(K)||isNaN(ne)||isNaN(U)||isNaN(G))throw sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(K,ne)),ge=this.ctx.transform.applyToPoint(new o(U,G));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},x.prototype.bezierCurveTo=function(U,G,K,ne,ae,ge){if(isNaN(ae)||isNaN(ge)||isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne))throw sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ae,ge)),Ce=this.ctx.transform.applyToPoint(new o(U,G)),Re=this.ctx.transform.applyToPoint(new o(K,ne));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Re.x,y2:Re.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},x.prototype.arc=function(U,G,K,ne,ae,ge){if(isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne)||isNaN(ae))throw sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(U,G));U=we.x,G=we.y;var Ce=this.ctx.transform.applyToPoint(new o(0,K)),Re=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(Ce.x-Re.x,2)+Math.pow(Ce.y-Re.y,2))}Math.abs(ae-ne)>=2*Math.PI&&(ne=0,ae=2*Math.PI),this.path.push({type:"arc",x:U,y:G,radius:K,startAngle:ne,endAngle:ae,counterclockwise:ge})},x.prototype.arcTo=function(U,G,K,ne,ae){throw new Error("arcTo not implemented.")},x.prototype.rect=function(U,G,K,ne){if(isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne))throw sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,G),this.lineTo(U+K,G),this.lineTo(U+K,G+ne),this.lineTo(U,G+ne),this.lineTo(U,G),this.lineTo(U+K,G),this.lineTo(U,G)},x.prototype.fillRect=function(U,G,K,ne){if(isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne))throw sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ae={};"butt"!==this.lineCap&&(ae.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,G,K,ne),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},x.prototype.strokeRect=function(U,G,K,ne){if(isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne))throw sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(U,G,K,ne),this.stroke())},x.prototype.clearRect=function(U,G,K,ne){if(isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne))throw sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,G,K,ne))},x.prototype.save=function(U){U="boolean"!=typeof U||U;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new B(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},x.prototype.restore=function(U){U="boolean"!=typeof U||U;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(G),U&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(U){var G,K,ne,ae;if(!0===U.isCanvasGradient&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))G=0,K=0,ne=0,ae=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(null!==ge)G=parseInt(ge[1]),K=parseInt(ge[2]),ne=parseInt(ge[3]),ae=1;else if(null!==(ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U)))G=parseInt(ge[1]),K=parseInt(ge[2]),ne=parseInt(ge[3]),ae=parseFloat(ge[4]);else{if(ae=1,"string"==typeof U&&"#"!==U.charAt(0)){var we=new Wr(U);U=we.ok?we.toHex():"#000000"}4===U.length?(G=U.substring(1,2),G+=G,K=U.substring(2,3),K+=K,ne=U.substring(3,4),ne+=ne):(G=U.substring(1,3),K=U.substring(3,5),ne=U.substring(5,7)),G=parseInt(G,16),K=parseInt(K,16),ne=parseInt(ne,16)}}return{r:G,g:K,b:ne,a:ae,style:U}},v=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},M=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};x.prototype.fillText=function(U,G,K,ne){if(isNaN(G)||isNaN(K)||"string"!=typeof U)throw sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!v.call(this)){var ae=fe(this.ctx.transform.rotation);P.call(this,{text:U,x:G,y:K,scale:this.ctx.transform.scaleX,angle:ae,align:this.textAlign,maxWidth:ne})}},x.prototype.strokeText=function(U,G,K,ne){if(isNaN(G)||isNaN(K)||"string"!=typeof U)throw sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){ne=isNaN(ne)?void 0:ne;var ae=fe(this.ctx.transform.rotation);P.call(this,{text:U,x:G,y:K,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ne})}},x.prototype.measureText=function(U){if("string"!=typeof U)throw sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,K=this.pdf.internal.scaleFactor,ne=G.internal.getFontSize(),ae=G.getStringUnitWidth(U)*ne/G.internal.scaleFactor;return new function(we){var Ce=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:ae*=Math.round(96*K/72*1e4)/1e4})},x.prototype.scale=function(U,G){if(isNaN(U)||isNaN(G))throw sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new p(U,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},x.prototype.rotate=function(U){if(isNaN(U))throw sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new p(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},x.prototype.translate=function(U,G){if(isNaN(U)||isNaN(G))throw sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new p(1,0,0,1,U,G);this.ctx.transform=this.ctx.transform.multiply(K)},x.prototype.transform=function(U,G,K,ne,ae,ge){if(isNaN(U)||isNaN(G)||isNaN(K)||isNaN(ne)||isNaN(ae)||isNaN(ge))throw sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new p(U,G,K,ne,ae,ge);this.ctx.transform=this.ctx.transform.multiply(we)},x.prototype.setTransform=function(U,G,K,ne,ae,ge){U=isNaN(U)?1:U,G=isNaN(G)?0:G,K=isNaN(K)?0:K,ne=isNaN(ne)?1:ne,ae=isNaN(ae)?0:ae,ge=isNaN(ge)?0:ge,this.ctx.transform=new p(U,G,K,ne,ae,ge)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(U,G,K,ne,ae,ge,we,Ce,Re){var je=this.pdf.getImageProperties(U),rt=1,at=1,bt=1,Te=1;void 0!==ne&&void 0!==Ce&&(bt=Ce/ne,Te=Re/ae,rt=je.width/ne*Ce/ne,at=je.height/ae*Re/ae),void 0===ge&&(ge=G,we=K,G=0,K=0),void 0!==ne&&void 0===Ce&&(Ce=ne,Re=ae),void 0===ne&&void 0===Ce&&(Ce=je.width,Re=je.height);for(var J,It=this.ctx.transform.decompose(),ut=fe(It.rotate.shx),He=new p,Ge=(He=(He=(He=He.multiply(It.translate)).multiply(It.skew)).multiply(It.scale)).applyToRectangle(new h(ge-G*bt,we-K*Te,ne*rt,ae*at)),nt=Z.call(this,Ge),qe=[],ht=0;ht<nt.length;ht+=1)-1===qe.indexOf(nt[ht])&&qe.push(nt[ht]);if(X(qe),this.autoPaging)for(var Qt=qe[0],Nt=qe[qe.length-1],Rt=Qt;Rt<Nt+1;Rt++){this.pdf.setPage(Rt);var An=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vn=1===Rt?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=1===Rt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Rt-2)*Gt;if(0!==this.ctx.clip_path.length){var NA=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(J,this.posX+this.margin[3],-At+vn+this.ctx.prevPageLastElemOffset),_e.call(this,"fill",!0),this.path=NA}var on=JSON.parse(JSON.stringify(Ge));on=j([on],this.posX+this.margin[3],-At+vn+this.ctx.prevPageLastElemOffset)[0];var si=(Rt>Qt||Rt<Nt)&&E.call(this);si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],An,Gt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",on.x,on.y,on.w,on.h,null,null,ut),si&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,ut)};var Z=function(U,G,K){var ne=[];G=G||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ne.push(Math.floor((U.y+ae)/K)+1);break;case"arc":ne.push(Math.floor((U.y+ae-U.radius)/K)+1),ne.push(Math.floor((U.y+ae+U.radius)/K)+1);break;case"qct":var ge=Ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ne.push(Math.floor((ge.y+ae)/K)+1),ne.push(Math.floor((ge.y+ge.h+ae)/K)+1);break;case"bct":var we=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ne.push(Math.floor((we.y+ae)/K)+1),ne.push(Math.floor((we.y+we.h+ae)/K)+1);break;case"rect":ne.push(Math.floor((U.y+ae)/K)+1),ne.push(Math.floor((U.y+U.h+ae)/K)+1)}for(var Ce=0;Ce<ne.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ce];)I.call(this);return ne},I=function(){var U=this.fillStyle,G=this.strokeStyle,K=this.font,ne=this.lineCap,ae=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=G,this.font=K,this.lineCap=ne,this.lineWidth=ae,this.lineJoin=ge},j=function(U,G,K){for(var ne=0;ne<U.length;ne++)switch(U[ne].type){case"bct":U[ne].x2+=G,U[ne].y2+=K;case"qct":U[ne].x1+=G,U[ne].y1+=K;default:U[ne].x+=G,U[ne].y+=K}return U},X=function(U){return U.sort(function(G,K){return G-K})},ie=function(U,G){for(var K,ne,ae=this.fillStyle,ge=this.strokeStyle,we=this.lineCap,Ce=this.lineWidth,Re=Math.abs(Ce*this.ctx.transform.scaleX),je=this.lineJoin,rt=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),bt=[],Te=0;Te<at.length;Te++)if(void 0!==at[Te].x)for(var J=Z.call(this,at[Te]),It=0;It<J.length;It+=1)-1===bt.indexOf(J[It])&&bt.push(J[It]);for(var ut=0;ut<bt.length;ut++)for(;this.pdf.internal.getNumberOfPages()<bt[ut];)I.call(this);if(X(bt),this.autoPaging)for(var He=bt[0],Ge=bt[bt.length-1],nt=He;nt<Ge+1;nt++){this.pdf.setPage(nt),this.fillStyle=ae,this.strokeStyle=ge,this.lineCap=we,this.lineWidth=Re,this.lineJoin=je;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=1===nt?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=1===nt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(nt-2)*Nt;if(0!==this.ctx.clip_path.length){var An=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(K,this.posX+this.margin[3],-Rt+ht+this.ctx.prevPageLastElemOffset),_e.call(this,U,!0),this.path=An}if(ne=JSON.parse(JSON.stringify(rt)),this.path=j(ne,this.posX+this.margin[3],-Rt+ht+this.ctx.prevPageLastElemOffset),!1===G||0===nt){var vn=(nt>He||nt<Ge)&&E.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Nt,null).clip().discardPath()),_e.call(this,U,G),vn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Re,_e.call(this,U,G),this.lineWidth=Ce;this.path=rt},_e=function(U,G){if(("stroke"!==U||G||!M.call(this))&&("stroke"===U||G||!v.call(this))){for(var K,ne,ae=[],ge=this.path,we=0;we<ge.length;we++){var Ce=ge[we];switch(Ce.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Re=ae.length;if(ge[we-1]&&!isNaN(ge[we-1].x)&&(K=[Ce.x-ge[we-1].x,Ce.y-ge[we-1].y],Re>0))for(;Re>=0;Re--)if(!0!==ae[Re-1].close&&!0!==ae[Re-1].begin){ae[Re-1].deltas.push(K),ae[Re-1].abs.push(Ce);break}break;case"bct":ae[ae.length-1].deltas.push(K=[Ce.x1-ge[we-1].x,Ce.y1-ge[we-1].y,Ce.x2-ge[we-1].x,Ce.y2-ge[we-1].y,Ce.x-ge[we-1].x,Ce.y-ge[we-1].y]);break;case"qct":ae[ae.length-1].deltas.push(K=[ge[we-1].x+2/3*(Ce.x1-ge[we-1].x)-ge[we-1].x,ge[we-1].y+2/3*(Ce.y1-ge[we-1].y)-ge[we-1].y,Ce.x+2/3*(Ce.x1-Ce.x)-ge[we-1].x,Ce.y+2/3*(Ce.y1-Ce.y)-ge[we-1].y,Ce.x-ge[we-1].x,Ce.y-ge[we-1].y]);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Ce)}}ne=G?null:"stroke"===U?"stroke":"fill";for(var It=!1,ut=0;ut<ae.length;ut++)if(ae[ut].arc)for(var He=ae[ut].abs,Ge=0;Ge<He.length;Ge++){var nt=He[Ge];"arc"===nt.type?Y.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,G,!It):$.call(this,nt.x,nt.y),It=!0}else!0===ae[ut].close?(this.pdf.internal.out("h"),It=!1):!0!==ae[ut].begin&&(q.call(this,ae[ut].deltas,ae[ut].start.x,ae[ut].start.y),It=!0);ne&&Qe.call(this,ne),G&&Fe.call(this)}},Se=function(U){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-K;case"top":return U+G-K;case"hanging":return U+G-2*K;case"middle":return U+G/2-K;default:return U}},ue=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(G,K){this.colorStops.push([G,K])},U.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(U,G,K,ne,ae,ge,we,Ce,Re){for(var je=ve.call(this,K,ne,ae,ge),rt=0;rt<je.length;rt++){var at=je[rt];0===rt&&(Re?D.call(this,at.x1+U,at.y1+G):$.call(this,at.x1+U,at.y1+G)),be.call(this,U,G,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}Ce?Fe.call(this):Qe.call(this,we)},Qe=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Fe=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(U,G){this.pdf.internal.out(A(U)+" "+t(G)+" m")},P=function(U){var G;switch(U.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var K=this.pdf.getTextDimensions(U.text),ne=Se.call(this,U.y),ae=ue.call(this,ne)-K.h,ge=this.ctx.transform.applyToPoint(new o(U.x,ne)),we=this.ctx.transform.decompose(),Ce=new p;Ce=(Ce=(Ce=Ce.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Re,je,rt,at=this.ctx.transform.applyToRectangle(new h(U.x,ne,K.w,K.h)),bt=Ce.applyToRectangle(new h(U.x,ae,K.w,K.h)),Te=Z.call(this,bt),J=[],It=0;It<Te.length;It+=1)-1===J.indexOf(Te[It])&&J.push(Te[It]);if(X(J),this.autoPaging)for(var ut=J[0],He=J[J.length-1],Ge=ut;Ge<He+1;Ge++){this.pdf.setPage(Ge);var nt=1===Ge?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.margin[2],Qt=ht-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Nt-this.margin[3],An=1===Ge?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ge-2)*Qt;if(0!==this.ctx.clip_path.length){var vn=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Re,this.posX+this.margin[3],-1*An+nt),_e.call(this,"fill",!0),this.path=vn}var Tt=j([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-An+nt+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*U.scale),this.lineWidth=(rt=this.lineWidth)*U.scale);var Gt="text"!==this.autoPaging;if(Gt||Tt.y+Tt.h<=ht){if(Gt||Tt.y>=nt&&Tt.x<=Nt){var At=Gt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Nt-Tt.x)[0],NA=j([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-An+nt+this.ctx.prevPageLastElemOffset)[0],on=Gt&&(Ge>ut||Ge<He)&&E.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,Qt,null).clip().discardPath()),this.pdf.text(At,NA.x,NA.y,{angle:U.angle,align:G,renderingMode:U.renderingMode}),on&&this.pdf.restoreGraphicsState()}}else Tt.y<ht&&(this.ctx.prevPageLastElemOffset+=ht-Tt.y);U.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=rt)}else U.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*U.scale),this.lineWidth=(rt=this.lineWidth)*U.scale),this.pdf.text(U.text,ge.x+this.posX,ge.y+this.posY,{angle:U.angle,align:G,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=rt)},$=function(U,G,K,ne){ne=ne||0,this.pdf.internal.out(A(U+(K=K||0))+" "+t(G+ne)+" l")},q=function(U,G,K){return this.pdf.lines(U,G,K,null,null)},be=function(U,G,K,ne,ae,ge,we,Ce){this.pdf.internal.out([i(n(K+U)),i(s(ne+G)),i(n(ae+U)),i(s(ge+G)),i(n(we+U)),i(s(Ce+G)),"c"].join(" "))},ve=function(U,G,K,ne){for(var ae=2*Math.PI,ge=Math.PI/2;G>K;)G-=ae;var we=Math.abs(K-G);we<ae&&ne&&(we=ae-we);for(var Ce=[],Re=ne?-1:1,je=G;we>1e-5;){var rt=je+Re*Math.min(we,ge);Ce.push(ke.call(this,U,je,rt)),we-=Math.abs(rt-je),je=rt}return Ce},ke=function(U,G,K){var ne=(K-G)/2,ae=U*Math.cos(ne),ge=U*Math.sin(ne),we=ae,Ce=-ge,Re=we*we+Ce*Ce,je=Re+we*ae+Ce*ge,rt=4/3*(Math.sqrt(2*Re*je)-je)/(we*ge-Ce*ae),at=we-rt*Ce,bt=Ce+rt*we,Te=at,J=-bt,It=ne+G,ut=Math.cos(It),He=Math.sin(It);return{x1:U*Math.cos(G),y1:U*Math.sin(G),x2:at*ut-bt*He,y2:at*He+bt*ut,x3:Te*ut-J*He,y3:Te*He+J*ut,x4:U*Math.cos(K),y4:U*Math.sin(K)}},fe=function(U){return 180*U/Math.PI},Ue=function(U,G,K,ne,ae,ge){var we=U+.5*(K-U),Ce=G+.5*(ne-G),Re=ae+.5*(K-ae),je=ge+.5*(ne-ge),rt=Math.min(U,ae,we,Re),at=Math.max(U,ae,we,Re),bt=Math.min(G,ge,Ce,je),Te=Math.max(G,ge,Ce,je);return new h(rt,bt,at-rt,Te-bt)},ze=function(U,G,K,ne,ae,ge,we,Ce){var Re,je,rt,at,bt,Te,J,It,ut,He,Ge,nt,qe,ht,Qt=K-U,Nt=ne-G,Rt=ae-K,An=ge-ne,vn=we-ae,Tt=Ce-ge;for(je=0;je<41;je++)ut=(J=(rt=U+(Re=je/40)*Qt)+Re*((bt=K+Re*Rt)-rt))+Re*(bt+Re*(ae+Re*vn-bt)-J),He=(It=(at=G+Re*Nt)+Re*((Te=ne+Re*An)-at))+Re*(Te+Re*(ge+Re*Tt-Te)-It),0==je?(Ge=ut,nt=He,qe=ut,ht=He):(Ge=Math.min(Ge,ut),nt=Math.min(nt,He),qe=Math.max(qe,ut),ht=Math.max(ht,He));return new h(Math.round(Ge),Math.round(nt),Math.round(qe-Ge),Math.round(ht-nt))},et=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var K=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(gt.API),
/**
       * @license
       * jsPDF filters PlugIn
       * Copyright (c) 2014 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(s){var o,h,p,_,B,x,y,v,M,E;for(/[^\x00-\xFF]/.test(s),h=[],p=0,_=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;_>p;p+=4)0!==(B=(s.charCodeAt(p)<<24)+(s.charCodeAt(p+1)<<16)+(s.charCodeAt(p+2)<<8)+s.charCodeAt(p+3))?(x=(B=((B=((B=((B=(B-(E=B%85))/85)-(M=B%85))/85)-(v=B%85))/85)-(y=B%85))/85)%85,h.push(x+33,y+33,v+33,M+33,E+33)):h.push(122);return function(Z,I){for(var j=I;j>0;j--)Z.pop()}(h,o.length),String.fromCharCode.apply(String,h)+"~>"},A=function(s){var o,h,p,_,B,x=String,y="length",v=255,M="charCodeAt",E="slice",Z="replace";for(s[E](-2),s=s[E](0,-2)[Z](/\s/g,"")[Z]("z","!!!!!"),p=[],_=0,B=(s+=o="uuuuu"[E](s[y]%5||5))[y];B>_;_+=5)h=52200625*(s[M](_)-33)+614125*(s[M](_+1)-33)+7225*(s[M](_+2)-33)+85*(s[M](_+3)-33)+(s[M](_+4)-33),p.push(v&h>>24,v&h>>16,v&h>>8,v&h);return function(I,j){for(var X=j;X>0;X--)I.pop()}(p,o[y]),x.fromCharCode.apply(x,p)},t=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var h="",p=0;p<s.length;p+=2)h+=String.fromCharCode("0x"+(s[p]+s[p+1]));return h},n=function(s){for(var o=new Uint8Array(s.length),h=s.length;h--;)o[h]=s.charCodeAt(h);return(o=ks(o)).reduce(function(p,_){return p+String.fromCharCode(_)},"")};r.processDataByFilters=function(s,o){var h=0,p=s||"",_=[];for("string"==typeof(o=o||[])&&(o=[o]),h=0;h<o.length;h+=1)switch(o[h]){case"ASCII85Decode":case"/ASCII85Decode":p=A(p),_.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=i(p),_.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=t(p),_.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(B){return("0"+B.charCodeAt().toString(16)).slice(-2)}).join("")+">",_.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=n(p),_.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[h]+'" is not implemented')}return{data:p,reverseChain:_.reverse().join(" ")}}}(gt.API),
/**
       * @license
       * jsPDF fileloading PlugIn
       * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.loadFile=function(i,A,t){return function(n,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var h=void 0;try{h=function(p,_,B){var x=new XMLHttpRequest,y=0,v=function(M){var E=M.length,Z=[],I=String.fromCharCode;for(y=0;y<E;y+=1)Z.push(I(255&M.charCodeAt(y)));return Z.join("")};if(x.open("GET",p,!_),x.overrideMimeType("text/plain; charset=x-user-defined"),!1===_&&(x.onload=function(){B(200===x.status?v(this.responseText):void 0)}),x.send(null),_&&200===x.status)return v(x.responseText)}(n,s,o)}catch{}return h}(i,A,t)},r.loadImageFile=r.loadFile}(gt.API),function(r){function i(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):Promise.resolve().then(oe.t.bind(oe,74456,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function A(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):oe.e(896).then(oe.t.bind(oe,70896,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var t=function(o){var h=(0,en.Z)(o);return"undefined"===h?"undefined":"string"===h||o instanceof String?"string":"number"===h||o instanceof Number?"number":"function"===h||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===h?"object":"unknown"},n=function(o,h){var p=document.createElement(o);for(var _ in h.className&&(p.className=h.className),h.innerHTML&&h.dompurify&&(p.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)p.style[_]=h.style[_];return p},s=function o(h){var p=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),_=o.convert(Promise.resolve(),p);return(_=_.setProgress(1,o,1,[o])).set(h)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,h){return o.__proto__=h||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,h){return this.then(function(){switch(h=h||function(p){switch(t(p)){case"string":return"string";case"element":return"canvas"===p.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(A).then(function(p){return this.set({src:n("div",{innerHTML:o,dompurify:p})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function p(_,B){for(var x=3===_.nodeType?document.createTextNode(_.nodeValue):_.cloneNode(!1),y=_.firstChild;y;y=y.nextSibling)!0!==B&&1===y.nodeType&&"SCRIPT"===y.nodeName||x.appendChild(p(y,B));return 1===_.nodeType&&("CANVAS"===_.nodeName?(x.width=_.width,x.height=_.height,x.getContext("2d").drawImage(_,0,0)):"TEXTAREA"!==_.nodeName&&"SELECT"!==_.nodeName||(x.value=_.value),x.addEventListener("load",function(){x.scrollTop=_.scrollTop,x.scrollLeft=_.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===h.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(h){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,h(this.prop.container,p)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(i).then(function(h){var p=this.opt.jsPDF,_=this.opt.fontFaces,B="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:B,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,p.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=_,_)for(var y=0;y<_.length;++y){var v=_[y],M=v.src.find(function(E){return"truetype"===E.format});M&&p.addFont(M.url,v.ref.name,v.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=0==x.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,p.context2d.save(!0),h(this.prop.container,x)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,h,p){return"img"===(p=p||"pdf").toLowerCase()||"image"===p.toLowerCase()?this.outputImg(o,h):this.outputPdf(o,h)},s.prototype.outputPdf=function(o,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,h)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==t(o))return this;var h=Object.keys(o||{}).map(function(p){if(p in s.template.prop)return function(){this.prop[p]=o[p]};switch(p){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[p]=o[p]}}},this);return this.then(function(){return this.thenList(h)})},s.prototype.get=function(o,h){return this.then(function(){var p=o in s.template.prop?this.prop[o]:this.opt[o];return h?h(p):p})},s.prototype.setMargin=function(o){return this.then(function(){switch(t(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function h(p,_){return Math.floor(p*_/72*96)}return this.then(function(){(o=o||gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:h(o.inner.width,o.k),height:h(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,h,p,_){return null!=o&&(this.progress.val=o),null!=h&&(this.progress.state=h),null!=p&&(this.progress.n=p),null!=_&&(this.progress.stack=_),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,h,p,_){return this.setProgress(o?this.progress.val+o:null,h||null,p?this.progress.n+p:null,_?this.progress.stack.concat(_):null)},s.prototype.then=function(o,h){var p=this;return this.thenCore(o,h,function(_,B){return p.updateProgress(null,null,1,[_]),Promise.prototype.then.call(this,function(x){return p.updateProgress(null,_),x}).then(_,B).then(function(x){return p.updateProgress(1),x})})},s.prototype.thenCore=function(o,h,p){p=p||Promise.prototype.then,o&&(o=o.bind(this)),h&&(h=h.bind(this));var _=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),B=p.call(_,o,h);return s.convert(B,this.__proto__)},s.prototype.thenExternal=function(o,h){return Promise.prototype.then.call(this,o,h)},s.prototype.thenList=function(o){var h=this;return o.forEach(function(p){h=h.thenCore(p)}),h},s.prototype.catch=function(o){o&&(o=o.bind(this));var h=Promise.prototype.catch.call(this,o);return s.convert(h,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,gt.getPageSize=function(o,h,p){if("object"===(0,en.Z)(o)){var _=o;o=_.orientation,h=_.unit||h,p=_.format||p}h=h||"mm",p=p||"a4",o=(""+(o||"P")).toLowerCase();var B,x=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":B=1;break;case"mm":B=72/25.4;break;case"cm":B=72/2.54;break;case"in":B=72;break;case"px":B=.75;break;case"pc":case"em":B=12;break;case"ex":B=6;break;default:throw"Invalid unit: "+h}var v,M=0,E=0;if(y.hasOwnProperty(x))M=y[x][1]/B,E=y[x][0]/B;else try{M=p[1],E=p[0]}catch{throw new Error("Invalid format: "+p)}if("p"===o||"portrait"===o)o="p",E>M&&(v=E,E=M,M=v);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",M>E&&(v=E,E=M,M=v)}return{width:E,height:M,unit:h,k:B,orientation:o}},r.html=function(o,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(hl):null;var p=new s(h);return h.worker?p:p.from(o).doCallback()}}(gt.API),gt.API.addJS=function(r){return uu=r,this.internal.events.subscribe("postPutResources",function(){Xi=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xi+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),du=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Xi&&void 0!==du&&this.internal.out("/Names <</JavaScript "+Xi+" 0 R>>")}),this},
/**
       * @license
       * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i;r.events.push(["postPutResources",function(){var A=this,t=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=A.outline.render().split(/\r\n/),s=0;s<n.length;s++){var o=n[s],h=t.exec(o);null!=h&&A.internal.newObjectDeferredBegin(h[1],!1),A.internal.write(o)}if(this.outline.createNamedDestinations){var _=this.internal.pages.length,B=[];for(s=0;s<_;s++){var x=A.internal.newObject();B.push(x);var y=A.internal.getPageInfo(s+1);A.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=A.internal.newObject();for(A.internal.write("<< /Names [ "),s=0;s<B.length;s++)A.internal.write("(page_"+(s+1)+")"+B[s]+" 0 R");A.internal.write(" ] >>","endobj"),i=A.internal.newObject(),A.internal.write("<< /Dests "+v+" 0 R"),A.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),r.events.push(["initialized",function(){var A=this;A.outline={createNamedDestinations:!1,root:{children:[]}},A.outline.add=function(t,n,s){var o={title:n,options:s,children:[]};return null==t&&(t=this.root),t.children.push(o),o},A.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=A,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},A.outline.genIds_r=function(t){t.id=A.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},A.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},A.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<t.children.length;s++){var o=t.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(t)),s>0&&this.line("/Prev "+this.makeRef(t.children[s-1])),s<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var h=this.count=this.count_r({count:0},o);if(h>0&&this.line("/Count "+h),o.options&&o.options.pageNumber){var p=A.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var _=0;_<t.children.length;_++)this.renderItems(t.children[_])},A.outline.line=function(t){this.ctx.val+=t+"\r\n"},A.outline.makeRef=function(t){return t.id+" 0 R"},A.outline.makeString=function(t){return"("+A.internal.pdfEscape(t)+")"},A.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},A.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},A.outline.count_r=function(t,n){for(var s=0;s<n.children.length;s++)t.count++,this.count_r(t,n.children[s]);return t.count}}])}(gt.API),
/**
       * @license
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=[192,193,194,195,196,197,198,199];r.processJPEG=function(A,t,n,s,o,h){var p,_=this.decode.DCT_DECODE,B=null;if("string"==typeof A||this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A)){switch(A=this.__addimage__.isArrayBuffer(A=o||A)?new Uint8Array(A):A,(p=function(x){for(var y,v=256*x.charCodeAt(4)+x.charCodeAt(5),M=x.length,E={width:0,height:0,numcomponents:1},Z=4;Z<M;Z+=2){if(-1!==i.indexOf(x.charCodeAt((Z+=v)+1))){y=256*x.charCodeAt(Z+5)+x.charCodeAt(Z+6),E={width:256*x.charCodeAt(Z+7)+x.charCodeAt(Z+8),height:y,numcomponents:x.charCodeAt(Z+9)};break}v=256*x.charCodeAt(Z+2)+x.charCodeAt(Z+3)}return E}(A=this.__addimage__.isArrayBufferView(A)?this.__addimage__.arrayBufferToBinaryString(A):A)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}B={data:A,width:p.width,height:p.height,colorSpace:h,bitsPerComponent:8,filter:_,index:t,alias:n}}return B}}(gt.API);var Ls,Na,hu,pu,fu,Ep=function(){var r,i,A;function t(s){var o,p,_,B,x,y,v,M,E,Z,I,j,X;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(o=this.readUInt32(),M=function(){var ie,_e;for(_e=[],ie=0;ie<4;++ie)_e.push(String.fromCharCode(this.data[this.pos++]));return _e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},B=this.readUInt16(),_=this.readUInt16()||100,x.delay=1e3*B/_,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for("fdAT"===M&&(this.pos+=4,o-=4),s=x?.data||this.imgData,I=0;0<=o?I<o:I>o;0<=o?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((E=p-this.transparency.indexed.length)>0)for(j=0;0<=E?j<E:j>E;0<=E?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(Z=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,Z.slice(0,y)),this.text[v]=String.fromCharCode.apply(String,Z.slice(y+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(X=this.colorType)||6===X,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}t.prototype.read=function(s){var o,h;for(h=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)h.push(this.data[this.pos++]);return h},t.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},t.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},t.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*o),p=0,_=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function B(x,y,v,M){var E,Z,I,j,X,ie,_e,Se,Y,Qe,Fe,D,P,$,q,be,ve,ke,fe,Ue,ze=Math.ceil((_.width-x)/v),et=Math.ceil((_.height-y)/M),U=_.width==ze&&_.height==et;for(P=o*ze,Fe=U?h:new Uint8Array(P*et),ie=s.length,D=0,Z=0;D<et&&p<ie;){switch(s[p++]){case 0:for(j=be=0;be<P;j=be+=1)Fe[Z++]=s[p++];break;case 1:for(j=ve=0;ve<P;j=ve+=1)E=s[p++],X=j<o?0:Fe[Z-o],Fe[Z++]=(E+X)%256;break;case 2:for(j=ke=0;ke<P;j=ke+=1)E=s[p++],I=(j-j%o)/o,Fe[Z++]=(($=D&&Fe[(D-1)*P+I*o+j%o])+E)%256;break;case 3:for(j=fe=0;fe<P;j=fe+=1)E=s[p++],I=(j-j%o)/o,X=j<o?0:Fe[Z-o],$=D&&Fe[(D-1)*P+I*o+j%o],Fe[Z++]=(E+Math.floor((X+$)/2))%256;break;case 4:for(j=Ue=0;Ue<P;j=Ue+=1)E=s[p++],I=(j-j%o)/o,0===D?$=q=0:($=Fe[(D-1)*P+I*o+j%o],q=I&&Fe[(D-1)*P+(I-1)*o+j%o]),_e=(X=j<o?0:Fe[Z-o])+$-q,Se=Math.abs(_e-X),Y=Math.abs(_e-$),Qe=Math.abs(_e-q),Fe[Z++]=(E+(Se<=Y&&Se<=Qe?X:Y<=Qe?$:q))%256;break;default:throw new Error("Invalid filter algorithm: "+s[p-1])}if(!U){var G=((y+D*M)*_.width+x)*o,K=D*P;for(j=0;j<ze;j+=1){for(var ne=0;ne<o;ne+=1)h[G++]=Fe[K++];G+=(v-1)*o}}D++}}return s=nn(s),1==_.interlaceMethod?(B(0,0,8,8),B(4,0,8,8),B(0,4,4,8),B(2,0,4,4),B(0,2,2,4),B(1,0,2,2),B(0,1,1,2)):B(0,0,1,1),h},t.prototype.decodePalette=function(){var s,o,h,p,_,B,x,y,v;for(h=this.palette,B=this.transparency.indexed||[],_=new Uint8Array((B.length||0)+h.length),p=0,s=0,o=x=0,y=h.length;x<y;o=x+=3)_[p++]=h[o],_[p++]=h[o+1],_[p++]=h[o+2],_[p++]=null!=(v=B[s++])?v:255;return _},t.prototype.copyToImageData=function(s,o){var h,p,_,B,x,y,v,M,E,Z,I;if(p=this.colors,E=null,h=this.hasAlphaChannel,this.palette.length&&(E=null!=(I=this._decodedPalette)?I:this._decodedPalette=this.decodePalette(),p=4,h=!0),M=(_=s.data||s).length,x=E||o,B=y=0,1===p)for(;B<M;)v=E?4*o[B/4]:y,Z=x[v++],_[B++]=Z,_[B++]=Z,_[B++]=Z,_[B++]=h?x[v++]:255,y=v;else for(;B<M;)v=E?4*o[B/4]:y,_[B++]=x[v++],_[B++]=x[v++],_[B++]=x[v++],_[B++]=h?x[v++]:255,y=v},t.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var n=function(){if("[object Window]"===Object.prototype.toString.call(mt)){try{i=mt.document.createElement("canvas"),A=i.getContext("2d")}catch{return!1}return!0}return!1};return n(),r=function(s){var o;if(!0===n())return A.width=s.width,A.height=s.height,A.clearRect(0,0,s.width,s.height),A.putImageData(s,0,0),(o=new Image).src=i.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},t.prototype.decodeFrames=function(s){var o,h,p,_,B,x,y,v;if(this.animation){for(v=[],h=B=0,x=(y=this.animation.frames).length;B<x;h=++B)p=s.createImageData((o=y[h]).width,o.height),_=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(p,_),o.imageData=p,v.push(o.image=r(p));return v}},t.prototype.renderFrame=function(s,o){var h,p,_;return h=(p=this.animation.frames)[o],_=p[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===_?.disposeOp?s.clearRect(_.xOffset,_.yOffset,_.width,_.height):2===_?.disposeOp&&s.putImageData(_.imageData,_.xOffset,_.yOffset),0===h.blendOp&&s.clearRect(h.xOffset,h.yOffset,h.width,h.height),s.drawImage(h.image,h.xOffset,h.yOffset)},t.prototype.animate=function(s){var o,h,p,_,B,x,y=this;return h=0,_=(x=this.animation).numFrames,p=x.frames,B=x.numPlays,(o=function(){var v,M;if(v=h++%_,M=p[v],y.renderFrame(s,v),_>1&&h/_<B)return y.animation._timeout=setTimeout(o,M.delay)})()},t.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},t.prototype.render=function(s){var o,h;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(h=o.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),o.putImageData(h,0,0))},t}();function Lp(r){var i=0;if(71!==r[i++]||73!==r[i++]||70!==r[i++]||56!==r[i++]||56!=(r[i++]+1&253)||97!==r[i++])throw new Error("Invalid GIF 87a/89a header.");var A=r[i++]|r[i++]<<8,t=r[i++]|r[i++]<<8,n=r[i++],o=1<<1+(7&n);i++,i++;var h=null,p=null;n>>7&&(h=i,p=o,i+=3*o);var _=!0,B=[],x=0,y=null,v=0,M=null;for(this.width=A,this.height=t;_&&i<r.length;)switch(r[i++]){case 33:switch(r[i++]){case 255:if(11!==r[i]||78==r[i+1]&&69==r[i+2]&&84==r[i+3]&&83==r[i+4]&&67==r[i+5]&&65==r[i+6]&&80==r[i+7]&&69==r[i+8]&&50==r[i+9]&&46==r[i+10]&&48==r[i+11]&&3==r[i+12]&&1==r[i+13]&&0==r[i+16])i+=14,M=r[i++]|r[i++]<<8,i++;else for(i+=12;;){if(!((D=r[i++])>=0))throw Error("Invalid block size");if(0===D)break;i+=D}break;case 249:if(4!==r[i++]||0!==r[i+4])throw new Error("Invalid graphics extension block.");var E=r[i++];x=r[i++]|r[i++]<<8,y=r[i++],!(1&E)&&(y=null),v=E>>2&7,i++;break;case 254:for(;;){if(!((D=r[i++])>=0))throw Error("Invalid block size");if(0===D)break;i+=D}break;default:throw new Error("Unknown graphic control label: 0x"+r[i-1].toString(16))}break;case 44:var Z=r[i++]|r[i++]<<8,I=r[i++]|r[i++]<<8,j=r[i++]|r[i++]<<8,X=r[i++]|r[i++]<<8,ie=r[i++],_e=ie>>6&1,Se=1<<1+(7&ie),ue=h,Y=p,Qe=!1;ie>>7&&(Qe=!0,ue=i,Y=Se,i+=3*Se);var Fe=i;for(i++;;){var D;if(!((D=r[i++])>=0))throw Error("Invalid block size");if(0===D)break;i+=D}B.push({x:Z,y:I,width:j,height:X,has_local_palette:Qe,palette_offset:ue,palette_size:Y,data_offset:Fe,data_length:i-Fe,transparent_index:y,interlaced:!!_e,delay:x,disposal:v});break;case 59:_=!1;break;default:throw new Error("Unknown gif block: 0x"+r[i-1].toString(16))}this.numFrames=function(){return B.length},this.loopCount=function(){return M},this.frameInfo=function(P){if(P<0||P>=B.length)throw new Error("Frame index out of range.");return B[P]},this.decodeAndBlitFrameBGRA=function(P,$){var q=this.frameInfo(P),be=q.width*q.height,ve=new Uint8Array(be);gu(r,q.data_offset,ve,be);var ke=q.palette_offset,fe=q.transparent_index;null===fe&&(fe=256);var Ue=q.width,ze=A-Ue,et=Ue,U=4*(q.y*A+q.x),G=4*((q.y+q.height)*A+q.x),K=U,ne=4*ze;!0===q.interlaced&&(ne+=4*A*7);for(var ae=8,ge=0,we=ve.length;ge<we;++ge){var Ce=ve[ge];if(0===et&&(et=Ue,(K+=ne)>=G&&(ne=4*ze+4*A*(ae-1),K=U+(Ue+ze)*(ae<<1),ae>>=1)),Ce===fe)K+=4;else{var Re=r[ke+3*Ce],je=r[ke+3*Ce+1];$[K++]=r[ke+3*Ce+2],$[K++]=je,$[K++]=Re,$[K++]=255}--et}},this.decodeAndBlitFrameRGBA=function(P,$){var q=this.frameInfo(P),be=q.width*q.height,ve=new Uint8Array(be);gu(r,q.data_offset,ve,be);var ke=q.palette_offset,fe=q.transparent_index;null===fe&&(fe=256);var Ue=q.width,ze=A-Ue,et=Ue,U=4*(q.y*A+q.x),G=4*((q.y+q.height)*A+q.x),K=U,ne=4*ze;!0===q.interlaced&&(ne+=4*A*7);for(var ae=8,ge=0,we=ve.length;ge<we;++ge){var Ce=ve[ge];if(0===et&&(et=Ue,(K+=ne)>=G&&(ne=4*ze+4*A*(ae-1),K=U+(Ue+ze)*(ae<<1),ae>>=1)),Ce===fe)K+=4;else{var je=r[ke+3*Ce+1],rt=r[ke+3*Ce+2];$[K++]=r[ke+3*Ce],$[K++]=je,$[K++]=rt,$[K++]=255}--et}}}function gu(r,i,A,t){for(var n=r[i++],s=1<<n,o=s+1,h=o+1,p=n+1,_=(1<<p)-1,B=0,x=0,y=0,v=r[i++],M=new Int32Array(4096),E=null;;){for(;B<16&&0!==v;)x|=r[i++]<<B,B+=8,1===v?v=r[i++]:--v;if(B<p)break;var Z=x&_;if(x>>=p,B-=p,Z!==s){if(Z===o)break;for(var I=Z<h?Z:E,j=0,X=I;X>s;)X=M[X]>>8,++j;var ie=X;if(y+j+(I!==Z?1:0)>t)return void sn.log("Warning, gif stream longer than expected.");A[y++]=ie;var _e=y+=j;for(I!==Z&&(A[y++]=ie),X=I;j--;)A[--_e]=255&(X=M[X]),X>>=8;null!==E&&h<4096&&(M[h++]=E<<8|ie,h>=_+1&&p<12&&(++p,_=_<<1|1)),E=Z}else h=o+1,_=(1<<(p=n+1))-1,E=null}return y!==t&&sn.log("Warning, gif stream shorter than expected."),A}function fl(r){var i,A,t,n,s,o=Math.floor,h=new Array(64),p=new Array(64),_=new Array(64),B=new Array(64),x=new Array(65535),y=new Array(65535),v=new Array(64),M=new Array(64),E=[],Z=0,I=7,j=new Array(64),X=new Array(64),ie=new Array(64),_e=new Array(256),Se=new Array(2048),ue=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Qe=[0,1,2,3,4,5,6,7,8,9,10,11],Fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(U,G){for(var K=0,ne=0,ae=new Array,ge=1;ge<=16;ge++){for(var we=1;we<=U[ge];we++)ae[G[ne]]=[],ae[G[ne]][0]=K,ae[G[ne]][1]=ge,ne++,K++;K*=2}return ae}function ke(U){for(var G=U[0],K=U[1]-1;K>=0;)G&1<<K&&(Z|=1<<I),K--,--I<0&&(255==Z?(fe(255),fe(0)):fe(Z),I=7,Z=0)}function fe(U){E.push(U)}function Ue(U){fe(U>>8&255),fe(255&U)}function ze(U,G,K,ne,ae){for(var ge,we=ae[0],Ce=ae[240],Re=function(He,Ge){var nt,qe,ht,Qt,Nt,Rt,An,vn,Tt,Gt,At=0;for(Tt=0;Tt<8;++Tt){var NA=(nt=He[At])+(vn=He[At+7]),on=nt-vn,si=(qe=He[At+1])+(An=He[At+6]),bn=qe-An,In=(ht=He[At+2])+(Rt=He[At+5]),Mi=ht-Rt,fn=(Qt=He[At+3])+(Nt=He[At+4]),Yo=Qt-Nt,Gn=NA+fn,oi=NA-fn,is=si+In,Kn=si-In;He[At]=Gn+is,He[At+4]=Gn-is;var Ft=.707106781*(Kn+oi);He[At+2]=oi+Ft,He[At+6]=oi-Ft;var gn=.382683433*((Gn=Yo+Mi)-(Kn=bn+on)),qo=.5411961*Gn+gn,TA=1.306562965*Kn+gn,Ei=.707106781*(is=Mi+bn),Li=on+Ei,vt=on-Ei;He[At+5]=vt+qo,He[At+3]=vt-qo,He[At+1]=Li+TA,He[At+7]=Li-TA,At+=8}for(At=0,Tt=0;Tt<8;++Tt){var ai=(nt=He[At])+(vn=He[At+56]),Ni=nt-vn,cr=(qe=He[At+8])+(An=He[At+48]),fA=qe-An,sA=(ht=He[At+16])+(Rt=He[At+40]),vr=ht-Rt,sc=(Qt=He[At+24])+(Nt=He[At+32]),ss=Qt-Nt,ci=ai+sc,li=ai-sc,di=cr+sA,Oi=cr-sA;He[At]=ci+di,He[At+32]=ci-di;var Zr=.707106781*(Oi+li);He[At+16]=li+Zr,He[At+48]=li-Zr;var Pi=.382683433*((ci=ss+vr)-(Oi=fA+Ni)),Vo=.5411961*ci+Pi,oc=1.306562965*Oi+Pi,ac=.707106781*(di=vr+fA),cc=Ni+ac,lc=Ni-ac;He[At+40]=lc+Vo,He[At+24]=lc-Vo,He[At+8]=cc+oc,He[At+56]=cc-oc,At++}for(Tt=0;Tt<64;++Tt)v[Tt]=(Gt=He[Tt]*Ge[Tt])>0?Gt+.5|0:Gt-.5|0;return v}(U,G),je=0;je<64;++je)M[ue[je]]=Re[je];var rt=M[0]-K;K=M[0],0==rt?ke(ne[0]):(ke(ne[y[ge=32767+rt]]),ke(x[ge]));for(var at=63;at>0&&0==M[at];)at--;if(0==at)return ke(we),K;for(var bt,Te=1;Te<=at;){for(var J=Te;0==M[Te]&&Te<=at;)++Te;var It=Te-J;if(It>=16){bt=It>>4;for(var ut=1;ut<=bt;++ut)ke(Ce);It&=15}ke(ae[(It<<4)+y[ge=32767+M[Te]]]),ke(x[ge]),Te++}return 63!=at&&ke(we),K}function et(U){U=Math.min(Math.max(U,1),100),s!=U&&(function(G){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ae=o((K[ne]*G+50)/100);ae=Math.min(Math.max(ae,1),255),h[ue[ne]]=ae}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Ce=o((ge[we]*G+50)/100);Ce=Math.min(Math.max(Ce,1),255),p[ue[we]]=Ce}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,rt=0;rt<8;rt++)for(var at=0;at<8;at++)_[je]=1/(h[ue[je]]*Re[rt]*Re[at]*8),B[je]=1/(p[ue[je]]*Re[rt]*Re[at]*8),je++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,G){var qe,ht;G&&et(G),E=new Array,Z=0,I=7,Ue(65496),Ue(65504),Ue(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Ue(1),Ue(1),fe(0),fe(0),function(){Ue(65499),Ue(132),fe(0);for(var qe=0;qe<64;qe++)fe(h[qe]);fe(1);for(var ht=0;ht<64;ht++)fe(p[ht])}(),qe=U.width,ht=U.height,Ue(65472),Ue(17),fe(8),Ue(ht),Ue(qe),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1),function(){Ue(65476),Ue(418),fe(0);for(var qe=0;qe<16;qe++)fe(Y[qe+1]);for(var ht=0;ht<=11;ht++)fe(Qe[ht]);fe(16);for(var Qt=0;Qt<16;Qt++)fe(Fe[Qt+1]);for(var Nt=0;Nt<=161;Nt++)fe(D[Nt]);fe(1);for(var Rt=0;Rt<16;Rt++)fe(P[Rt+1]);for(var An=0;An<=11;An++)fe($[An]);fe(17);for(var vn=0;vn<16;vn++)fe(q[vn+1]);for(var Tt=0;Tt<=161;Tt++)fe(be[Tt])}(),Ue(65498),Ue(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var K=0,ne=0,ae=0;Z=0,I=7,this.encode.displayName="_encode_";for(var ge,we,Ce,Re,je,rt,at,bt,Te,J=U.data,ut=U.height,He=4*U.width,Ge=0;Ge<ut;){for(ge=0;ge<He;){for(je=He*Ge+ge,at=-1,bt=0,Te=0;Te<64;Te++)rt=je+(bt=Te>>3)*He+(at=4*(7&Te)),Ge+bt>=ut&&(rt-=He*(Ge+1+bt-ut)),ge+at>=He&&(rt-=ge+at-He+4),we=J[rt++],Ce=J[rt++],Re=J[rt++],j[Te]=(Se[we]+Se[Ce+256>>0]+Se[Re+512>>0]>>16)-128,X[Te]=(Se[we+768>>0]+Se[Ce+1024>>0]+Se[Re+1280>>0]>>16)-128,ie[Te]=(Se[we+1280>>0]+Se[Ce+1536>>0]+Se[Re+1792>>0]>>16)-128;K=ze(j,_,K,i,t),ne=ze(X,B,ne,A,n),ae=ze(ie,B,ae,A,n),ge+=32}Ge+=8}if(I>=0){var nt=[];nt[1]=I+1,nt[0]=(1<<I+1)-1,ke(nt)}return Ue(65497),new Uint8Array(E)},r=r||50,function(){for(var U=String.fromCharCode,G=0;G<256;G++)_e[G]=U(G)}(),i=ve(Y,Qe),A=ve(P,$),t=ve(Fe,D),n=ve(q,be),function(){for(var U=1,G=2,K=1;K<=15;K++){for(var ne=U;ne<G;ne++)y[32767+ne]=K,x[32767+ne]=[],x[32767+ne][1]=K,x[32767+ne][0]=ne;for(var ae=-(G-1);ae<=-U;ae++)y[32767+ae]=K,x[32767+ae]=[],x[32767+ae][1]=K,x[32767+ae][0]=G-1+ae;U<<=1,G<<=1}}(),function(){for(var U=0;U<256;U++)Se[U]=19595*U,Se[U+256>>0]=38470*U,Se[U+512>>0]=7471*U+32768,Se[U+768>>0]=-11059*U,Se[U+1024>>0]=-21709*U,Se[U+1280>>0]=32768*U+8421375,Se[U+1536>>0]=-27439*U,Se[U+1792>>0]=-5329*U}(),et(r)}function rr(r,i){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mu(r){function i(Y){if(!Y)throw Error("assert :P")}function A(Y,Qe,Fe){for(var D=0;4>D;D++)if(Y[Qe+D]!=Fe.charCodeAt(D))return!0;return!1}function t(Y,Qe,Fe,D,P){for(var $=0;$<P;$++)Y[Qe+$]=Fe[D+$]}function n(Y,Qe,Fe,D){for(var P=0;P<D;P++)Y[Qe+P]=Fe}function s(Y){return new Int32Array(Y)}function o(Y,Qe){for(var Fe=[],D=0;D<Y;D++)Fe.push(new Qe);return Fe}function h(Y,Qe){var Fe=[];return function D(P,$,q){for(var be=q[$],ve=0;ve<be&&(P.push(q.length>$+1?[]:new Qe),!(q.length<$+1));ve++)D(P[ve],$+1,q)}(Fe,0,Y),Fe}var p=function(){var Y=this;function Qe(a,f){for(var m=1<<f-1>>>0;a&m;)m>>>=1;return m?(a&m-1)+m:a}function Fe(a,f,m,C,T){i(!(C%m));do{a[f+(C-=m)]=T}while(0<C)}function D(a,f,m,C,T){if(i(2328>=T),512>=T)var F=s(512);else if(null==(F=s(T)))return 0;return function(z,S,L,H,ee,he){var pe,se,Le=S,Be=1<<L,te=s(16),re=s(16);for(i(0!=ee),i(null!=H),i(null!=z),i(0<L),se=0;se<ee;++se){if(15<H[se])return 0;++te[H[se]]}if(te[0]==ee)return 0;for(re[1]=0,pe=1;15>pe;++pe){if(te[pe]>1<<pe)return 0;re[pe+1]=re[pe]+te[pe]}for(se=0;se<ee;++se)pe=H[se],0<H[se]&&(he[re[pe]++]=se);if(1==re[15])return(H=new P).g=0,H.value=he[0],Fe(z,Le,1,Be,H),Be;var Me,Oe=-1,Ee=Be-1,ot=0,Ke=1,_t=1,Ye=1<<L;for(se=0,pe=1,ee=2;pe<=L;++pe,ee<<=1){if(Ke+=_t<<=1,0>(_t-=te[pe]))return 0;for(;0<te[pe];--te[pe])(H=new P).g=pe,H.value=he[se++],Fe(z,Le+ot,ee,Ye,H),ot=Qe(ot,pe)}for(pe=L+1,ee=2;15>=pe;++pe,ee<<=1){if(Ke+=_t<<=1,0>(_t-=te[pe]))return 0;for(;0<te[pe];--te[pe]){if(H=new P,(ot&Ee)!=Oe){for(Le+=Ye,Me=1<<(Oe=pe)-L;15>Oe&&!(0>=(Me-=te[Oe]));)++Oe,Me<<=1;Be+=Ye=1<<(Me=Oe-L),z[S+(Oe=ot&Ee)].g=Me+L,z[S+Oe].value=Le-S-Oe}H.g=pe-L,H.value=he[se++],Fe(z,Le+(ot>>L),ee,Ye,H),ot=Qe(ot,pe)}}return Ke!=2*re[15]-1?0:Be}(a,f,m,C,T,F)}function P(){this.value=this.g=0}function $(){this.value=this.g=0}function q(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(dr,$)}function be(a,f,m,C){i(null!=a),i(null!=f),i(2147483648>C),a.Ca=254,a.I=0,a.b=-8,a.Ka=0,a.oa=f,a.pa=m,a.Jd=f,a.Yc=m+C,a.Zc=4<=C?m+C-4+1:m,ge(a)}function ve(a,f){for(var m=0;0<f--;)m|=Ce(a,128)<<f;return m}function ke(a,f){var m=ve(a,f);return we(a)?-m:m}function fe(a,f,m,C){var T,F=0;for(i(null!=a),i(null!=f),i(4294967288>C),a.Sb=C,a.Ra=0,a.u=0,a.h=0,4<C&&(C=4),T=0;T<C;++T)F+=f[m+T]<<8*T;a.Ra=F,a.bb=C,a.oa=f,a.pa=m}function Ue(a){for(;8<=a.u&&a.bb<a.Sb;)a.Ra>>>=8,a.Ra+=a.oa[a.pa+a.bb]<<yc-8>>>0,++a.bb,a.u-=8;K(a)&&(a.h=1,a.u=0)}function ze(a,f){if(i(0<=f),!a.h&&f<=xc){var m=G(a)&bc[f];return a.u+=f,Ue(a),m}return a.h=1,a.u=0}function et(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(a){return a.Ra>>>(a.u&yc-1)>>>0}function K(a){return i(a.bb<=a.Sb),a.h||a.bb==a.Sb&&a.u>yc}function ne(a,f){a.u=f,a.h=K(a)}function ae(a){a.u>=cd&&(i(a.u>=cd),Ue(a))}function ge(a){i(null!=a&&null!=a.oa),a.pa<a.Zc?(a.I=(a.oa[a.pa++]|a.I<<8)>>>0,a.b+=8):(i(null!=a&&null!=a.oa),a.pa<a.Yc?(a.b+=8,a.I=a.oa[a.pa++]|a.I<<8):a.Ka?a.b=0:(a.I<<=8,a.b+=8,a.Ka=1))}function we(a){return ve(a,1)}function Ce(a,f){var m=a.Ca;0>a.b&&ge(a);var C=a.b,T=m*f>>>8,F=(a.I>>>C>T)+0;for(F?(m-=T,a.I-=T+1<<C>>>0):m=T+1,C=m,T=0;256<=C;)T+=8,C>>=8;return a.b-=C=7^T+ur[C],a.Ca=(m<<C)-1,F}function Re(a,f,m){a[f+0]=m>>24&255,a[f+1]=m>>16&255,a[f+2]=m>>8&255,a[f+3]=m>>0&255}function je(a,f){return a[f+0]<<0|a[f+1]<<8}function rt(a,f){return je(a,f)|a[f+2]<<16}function at(a,f){return je(a,f)|je(a,f+2)<<16}function bt(a,f){var m=1<<f;return i(null!=a),i(0<f),a.X=s(m),null==a.X?0:(a.Mb=32-f,a.Xa=f,1)}function Te(a,f){i(null!=a),i(null!=f),i(a.Xa==f.Xa),t(f.X,0,a.X,0,1<<f.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function It(a,f,m,C){i(null!=m),i(null!=C);var T=m[0],F=C[0];return 0==T&&(T=(a*F+f/2)/f),0==F&&(F=(f*T+a/2)/a),0>=T||0>=F?0:(m[0]=T,C[0]=F,1)}function ut(a,f){return a+(1<<f)-1>>>f}function He(a,f){return((4278255360&a)+(4278255360&f)>>>0&4278255360)+((16711935&a)+(16711935&f)>>>0&16711935)>>>0}function Ge(a,f){Y[f]=function(m,C,T,F,z,S,L){var H;for(H=0;H<z;++H){var ee=Y[a](S[L+H-1],T,F+H);S[L+H]=He(m[C+H],ee)}}}function nt(){this.ud=this.hd=this.jd=0}function qe(a,f){return((4278124286&(a^f))>>>1)+(a&f)>>>0}function ht(a){return 0<=a&&256>a?a:0>a?0:255<a?255:void 0}function Qt(a,f){return ht(a+(a-f+.5>>1))}function Nt(a,f,m){return Math.abs(f-m)-Math.abs(a-m)}function Rt(a,f,m,C,T,F,z){for(C=F[z-1],m=0;m<T;++m)F[z+m]=C=He(a[f+m],C)}function An(a,f,m,C,T){var F;for(F=0;F<m;++F){var z=a[f+F],S=z>>8&255,L=16711935&(L=(L=16711935&z)+((S<<16)+S));C[T+F]=(4278255360&z)+L>>>0}}function vn(a,f){f.jd=a>>0&255,f.hd=a>>8&255,f.ud=a>>16&255}function Tt(a,f,m,C,T,F){var z;for(z=0;z<C;++z){var S=f[m+z],L=S>>>8,H=S,ee=255&(ee=(ee=S>>>16)+((a.jd<<24>>24)*(L<<24>>24)>>>5));H=255&(H=(H+=(a.hd<<24>>24)*(L<<24>>24)>>>5)+((a.ud<<24>>24)*(ee<<24>>24)>>>5)),T[F+z]=(4278255360&S)+(ee<<16)+H}}function Gt(a,f,m,C,T){Y[f]=function(F,z,S,L,H,ee,he,pe,se){for(L=he;L<pe;++L)for(he=0;he<se;++he)H[ee++]=T(S[C(F[z++])])},Y[a]=function(F,z,S,L,H,ee,he){var pe=8>>F.b,se=F.Ea,Le=F.K[0],Be=F.w;if(8>pe)for(F=(1<<F.b)-1,Be=(1<<pe)-1;z<S;++z){var te,re=0;for(te=0;te<se;++te)te&F||(re=C(L[H++])),ee[he++]=T(Le[re&Be]),re>>=pe}else Y["VP8LMapColor"+m](L,H,Le,Be,ee,he,z,S,se)}}function At(a,f,m,C,T){for(m=f+m;f<m;){var F=a[f++];C[T++]=F>>16&255,C[T++]=F>>8&255,C[T++]=F>>0&255}}function NA(a,f,m,C,T){for(m=f+m;f<m;){var F=a[f++];C[T++]=F>>16&255,C[T++]=F>>8&255,C[T++]=F>>0&255,C[T++]=F>>24&255}}function on(a,f,m,C,T){for(m=f+m;f<m;){var F=(z=a[f++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;C[T++]=F,C[T++]=z}}function si(a,f,m,C,T){for(m=f+m;f<m;){var F=(z=a[f++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;C[T++]=F,C[T++]=z}}function bn(a,f,m,C,T){for(m=f+m;f<m;){var F=a[f++];C[T++]=F>>0&255,C[T++]=F>>8&255,C[T++]=F>>16&255}}function In(a,f,m,C,T,F){if(0==F)for(m=f+m;f<m;)Re(C,((F=a[f++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),T+=32;else t(C,T,a,f,m)}function Mi(a,f){Y[f][0]=Y[a+"0"],Y[f][1]=Y[a+"1"],Y[f][2]=Y[a+"2"],Y[f][3]=Y[a+"3"],Y[f][4]=Y[a+"4"],Y[f][5]=Y[a+"5"],Y[f][6]=Y[a+"6"],Y[f][7]=Y[a+"7"],Y[f][8]=Y[a+"8"],Y[f][9]=Y[a+"9"],Y[f][10]=Y[a+"10"],Y[f][11]=Y[a+"11"],Y[f][12]=Y[a+"12"],Y[f][13]=Y[a+"13"],Y[f][14]=Y[a+"0"],Y[f][15]=Y[a+"0"]}function fn(a){return a==am||a==cm||a==Ph||a==lm}function Yo(){this.eb=[],this.size=this.A=this.fb=0}function Gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yo,this.f.kb=new Gn,this.sd=null}function is(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(a){return alert("todo:WebPSamplerProcessPlane"),a.T}function gn(a,f){var m=a.T,C=f.ba.f.RGBA,T=C.eb,F=C.fb+a.ka*C.A,z=Kr[f.ba.S],S=a.y,L=a.O,H=a.f,ee=a.N,he=a.ea,pe=a.W,se=f.cc,Le=f.dc,Be=f.Mc,te=f.Nc,re=a.ka,Me=a.ka+a.T,Oe=a.U,Ee=Oe+1>>1;for(0==re?z(S,L,null,null,H,ee,he,pe,H,ee,he,pe,T,F,null,null,Oe):(z(f.ec,f.fc,S,L,se,Le,Be,te,H,ee,he,pe,T,F-C.A,T,F,Oe),++m);re+2<Me;re+=2)z(S,(L+=2*a.fa)-a.fa,S,L,se=H,Le=ee,Be=he,te=pe,H,ee+=a.Rc,he,pe+=a.Rc,T,(F+=2*C.A)-C.A,T,F,Oe);return L+=a.fa,a.j+Me<a.o?(t(f.ec,f.fc,S,L,Oe),t(f.cc,f.dc,H,ee,Ee),t(f.Mc,f.Nc,he,pe,Ee),m--):1&Me||z(S,L,null,null,H,ee,he,pe,H,ee,he,pe,T,F+C.A,null,null,Oe),m}function qo(a,f,m){var C=a.F,T=[a.J];if(null!=C){var F=a.U,z=f.ba.S,S=z==Oh||z==Ph;f=f.ba.f.RGBA;var L=[0],H=a.ka;L[0]=a.T,a.Kb&&(0==H?--L[0]:(--H,T[0]-=a.width),a.j+a.ka+a.T==a.o&&(L[0]=a.o-a.j-H));var ee=f.eb;a=Ih(C,T[0],a.width,F,L,ee,(H=f.fb+H*f.A)+(S?0:3),f.A),i(m==L),a&&fn(z)&&eo(ee,H,S,F,L,f.A)}return 0}function TA(a){var f=a.ma,m=f.ba.S,C=11>m,T=m==Lh||m==Nh||m==Oh||m==om||12==m||fn(m);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!od(f.Oa,a,T?11:12))return 0;if(T&&fn(m)&&De(),a.da)alert("todo:use_scaling");else{if(C){if(f.Ib=Ft,a.Kb){if(f.memory=s(a.U+2*(m=a.U+1>>1)),null==f.memory)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+a.U,f.Mc=f.cc,f.Nc=f.dc+m,f.Ib=gn,De()}}else alert("todo:EmitYUV");T&&(f.Jb=qo,C&&le())}if(C&&!F1){for(a=0;256>a;++a)oB[a]=89858*(a-128)+Hh>>Dh,lB[a]=-22014*(a-128)+Hh,cB[a]=-45773*(a-128),aB[a]=113618*(a-128)+Hh>>Dh;for(a=fd;a<hm;++a)dB[a-fd]=Cr(f=76283*(a-16)+Hh>>Dh,255),uB[a-fd]=Cr(f+8>>4,15);F1=1}return 1}function Ei(a){var f=a.ma,m=a.U,C=a.T;return i(!(1&a.ka)),0>=m||0>=C?0:(m=f.Ib(a,f),null!=f.Jb&&f.Jb(a,f,m),f.Dc+=m,1)}function Li(a){a.ma.memory=null}function vt(a,f,m,C){return 47!=ze(a,8)?0:(f[0]=ze(a,14)+1,m[0]=ze(a,14)+1,C[0]=ze(a,1),0!=ze(a,3)?0:!a.h)}function ai(a,f){if(4>a)return a+1;var m=a-2>>1;return(2+(1&a)<<m)+ze(f,m)+1}function Ni(a,f){return 120<f?f-120:1<=(m=((m=JC[f-1])>>4)*a+(8-(15&m)))?m:1;var m}function cr(a,f,m){var C=G(m),T=a[f+=255&C].g-8;return 0<T&&(ne(m,m.u+8),C=G(m),f+=a[f].value,f+=C&(1<<T)-1),ne(m,m.u+a[f].g),a[f].value}function fA(a,f,m){return m.g+=a.g,m.value+=a.value<<f>>>0,i(8>=m.g),a.g}function sA(a,f,m){var C=a.xc;return i((f=0==C?0:a.vc[a.md*(m>>C)+(f>>C)])<a.Wb),a.Ya[f]}function vr(a,f,m,C){var T=a.ab,F=a.c*f,z=a.C;f=z+f;var S=m,L=C;for(C=a.Ta,m=a.Ua;0<T--;){var H=a.gc[T],ee=z,he=f,pe=S,se=L,Le=(L=C,S=m,H.Ea);switch(i(ee<he),i(he<=H.nc),H.hc){case 2:Sh(pe,se,(he-ee)*Le,L,S);break;case 0:var Be=ee,te=he,re=L,Me=S,Oe=(Ye=H).Ea;0==Be&&(Am(pe,se,null,null,1,re,Me),Rt(pe,se+1,0,0,Oe-1,re,Me+1),se+=Oe,Me+=Oe,++Be);for(var Ee=1<<Ye.b,ot=Ee-1,Ke=ut(Oe,Ye.b),_t=Ye.K,Ye=Ye.w+(Be>>Ye.b)*Ke;Be<te;){var un=_t,_n=Ye,rn=1;for(ld(pe,se,re,Me-Oe,1,re,Me);rn<Oe;){var qt=(rn&~ot)+Ee;qt>Oe&&(qt=Oe),(0,Vs[un[_n++]>>8&15])(pe,se+ +rn,re,Me+rn-Oe,qt-rn,re,Me+rn),rn=qt}se+=Oe,Me+=Oe,++Be&ot||(Ye+=Ke)}he!=H.nc&&t(L,S-Le,L,S+(he-ee-1)*Le,Le);break;case 1:for(Le=pe,te=se,Oe=(pe=H.Ea)-(Me=pe&~(re=(se=1<<H.b)-1)),Be=ut(pe,H.b),Ee=H.K,H=H.w+(ee>>H.b)*Be;ee<he;){for(ot=Ee,Ke=H,_t=new nt,Ye=te+Me,un=te+pe;te<Ye;)vn(ot[Ke++],_t),jr(_t,Le,te,se,L,S),te+=se,S+=se;te<un&&(vn(ot[Ke++],_t),jr(_t,Le,te,Oe,L,S),te+=Oe,S+=Oe),++ee&re||(H+=Be)}break;case 3:if(pe==L&&se==S&&0<H.b){for(te=L,pe=Le=S+(he-ee)*Le-(Me=(he-ee)*ut(H.Ea,H.b)),se=L,re=S,Be=[],Me=(Oe=Me)-1;0<=Me;--Me)Be[Me]=se[re+Me];for(Me=Oe-1;0<=Me;--Me)te[pe+Me]=Be[Me];fi(H,ee,he,L,Le,L,S)}else fi(H,ee,he,pe,se,L,S)}S=C,L=m}L!=m&&t(C,m,S,L,F)}function sc(a,f){var m=a.V,C=a.Ba+a.c*a.C,T=f-a.C;if(i(f<=a.l.o),i(16>=T),0<T){var F=a.l,z=a.Ta,S=a.Ua,L=F.width;if(vr(a,T,m,C),T=S=[S],i((m=a.C)<(C=f)),i(F.v<F.va),C>F.o&&(C=F.o),m<F.j){var H=F.j-m;m=F.j,T[0]+=H*L}if(m>=C?m=0:(T[0]+=4*F.v,F.ka=m-F.j,F.U=F.va-F.v,F.T=C-m,m=1),m){if(S=S[0],11>(m=a.ca).S){var ee=m.f.RGBA,he=(C=m.S,T=F.U,F=F.T,H=ee.eb,ee.A),pe=F;for(ee=ee.fb+a.Ma*ee.A;0<pe--;){var se=z,Le=S,Be=T,te=H,re=ee;switch(C){case Eh:gi(se,Le,Be,te,re);break;case Lh:Ws(se,Le,Be,te,re);break;case am:Ws(se,Le,Be,te,re),eo(te,re,0,Be,1,0);break;case w1:Tc(se,Le,Be,te,re);break;case Nh:In(se,Le,Be,te,re,1);break;case cm:In(se,Le,Be,te,re,1),eo(te,re,0,Be,1,0);break;case Oh:In(se,Le,Be,te,re,0);break;case Ph:In(se,Le,Be,te,re,0),eo(te,re,1,Be,1,0);break;case om:Hi(se,Le,Be,te,re);break;case lm:Hi(se,Le,Be,te,re),Fc(te,re,Be,1,0);break;case v1:ls(se,Le,Be,te,re);break;default:i(0)}S+=L,ee+=he}a.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");i(a.Ma<=m.height)}}a.C=f,i(a.C<=a.i)}function ss(a){var f;if(0<a.ua)return 0;for(f=0;f<a.Wb;++f){var m=a.Ya[f].G,C=a.Ya[f].H;if(0<m[1][C[1]+0].g||0<m[2][C[2]+0].g||0<m[3][C[3]+0].g)return 0}return 1}function ci(a,f,m,C,T,F){if(0!=a.Z){var z=a.qd,S=a.rd;for(i(null!=no[a.Z]);f<m;++f)no[a.Z](z,S,C,T,C,T,F),z=C,S=T,T+=F;a.qd=z,a.rd=S}}function li(a,f){var m=a.l.ma,C=0==m.Z||1==m.Z?a.l.j:a.C;if(C=a.C<C?C:a.C,i(f<=a.l.o),f>C){var T=a.l.width,F=m.ca,z=m.tb+T*C,S=a.V,L=a.Ba+a.c*C,H=a.gc;i(1==a.ab),i(3==H[0].hc),rm(H[0],C,f,S,L,F,z),ci(m,C,f,F,z,T)}a.C=a.Ma=f}function di(a,f,m,C,T,F,z){var S=a.$/C,L=a.$%C,H=a.m,ee=a.s,he=m+a.$,pe=he;T=m+C*T;var se=m+C*F,Le=280+ee.ua,Be=a.Pb?S:16777216,te=0<ee.ua?ee.Wa:null,re=ee.wc,Me=he<se?sA(ee,L,S):null;i(a.C<F),i(se<=T);var Oe=!1;e:for(;;){for(;Oe||he<se;){var Ee=0;if(S>=Be){var ot=he-m;i((Be=a).Pb),Be.wd=Be.m,Be.xd=ot,0<Be.s.ua&&Te(Be.s.Wa,Be.s.vb),Be=S+qC}if(L&re||(Me=sA(ee,L,S)),i(null!=Me),Me.Qb&&(f[he]=Me.qb,Oe=!0),!Oe)if(ae(H),Me.jc){ot=f;var Ke=he,_t=Me.pd[G(Ee=H)&dr-1];i(Me.jc),256>_t.g?(ne(Ee,Ee.u+_t.g),ot[Ke]=_t.value,Ee=0):(ne(Ee,Ee.u+_t.g-256),i(256<=_t.value),Ee=_t.value),0==Ee&&(Oe=!0)}else Ee=cr(Me.G[0],Me.H[0],H);if(H.h)break;if(Oe||256>Ee){if(!Oe)if(Me.nd)f[he]=(Me.qb|Ee<<8)>>>0;else{if(ae(H),Oe=cr(Me.G[1],Me.H[1],H),ae(H),ot=cr(Me.G[2],Me.H[2],H),Ke=cr(Me.G[3],Me.H[3],H),H.h)break;f[he]=(Ke<<24|Oe<<16|Ee<<8|ot)>>>0}if(Oe=!1,++he,++L>=C&&(L=0,++S,null!=z&&S<=F&&!(S%16)&&z(a,S),null!=te))for(;pe<he;)Ee=f[pe++],te.X[(506832829*Ee&4294967295)>>>te.Mb]=Ee}else if(280>Ee){if(Ee=ai(Ee-256,H),ot=cr(Me.G[4],Me.H[4],H),ae(H),ot=Ni(C,ot=ai(ot,H)),H.h)break;if(he-m<ot||T-he<Ee)break e;for(Ke=0;Ke<Ee;++Ke)f[he+Ke]=f[he+Ke-ot];for(he+=Ee,L+=Ee;L>=C;)L-=C,++S,null!=z&&S<=F&&!(S%16)&&z(a,S);if(i(he<=T),L&re&&(Me=sA(ee,L,S)),null!=te)for(;pe<he;)Ee=f[pe++],te.X[(506832829*Ee&4294967295)>>>te.Mb]=Ee}else{if(!(Ee<Le))break e;for(Oe=Ee-280,i(null!=te);pe<he;)Ee=f[pe++],te.X[(506832829*Ee&4294967295)>>>te.Mb]=Ee;Ee=he,i(!(Oe>>>(ot=te).Xa)),f[Ee]=ot.X[Oe],Oe=!0}Oe||i(H.h==K(H))}if(a.Pb&&H.h&&he<T)i(a.m.h),a.a=5,a.m=a.wd,a.$=a.xd,0<a.s.ua&&Te(a.s.vb,a.s.Wa);else{if(H.h)break e;z?.(a,S>F?F:S),a.a=0,a.$=he-m}return 1}return a.a=3,0}function Oi(a){i(null!=a),a.vc=null,a.yc=null,a.Ya=null;var f=a.Wa;null!=f&&(f.X=null),a.vb=null,i(null!=a)}function Zr(){var a=new nm;return null==a?null:(a.a=0,a.xb=b1,Mi("Predictor","VP8LPredictors"),Mi("Predictor","VP8LPredictors_C"),Mi("PredictorAdd","VP8LPredictorsAdd"),Mi("PredictorAdd","VP8LPredictorsAdd_C"),Sh=An,jr=Tt,gi=At,Ws=NA,Hi=on,ls=si,Tc=bn,Y.VP8LMapColor32b=dd,Y.VP8LMapColor8b=im,a)}function Pi(a,f,m,C,T){var F=1,z=[a],S=[f],L=C.m,H=C.s,ee=null,he=0;e:for(;;){if(m)for(;F&&ze(L,1);){var pe=z,se=S,Le=C,Be=1,te=Le.m,re=Le.gc[Le.ab],Me=ze(te,2);if(Le.Oc&1<<Me)F=0;else{switch(Le.Oc|=1<<Me,re.hc=Me,re.Ea=pe[0],re.nc=se[0],re.K=[null],++Le.ab,i(4>=Le.ab),Me){case 0:case 1:re.b=ze(te,3)+2,Be=Pi(ut(re.Ea,re.b),ut(re.nc,re.b),0,Le,re.K),re.K=re.K[0];break;case 3:var Oe,Ee=ze(te,8)+1,ot=16<Ee?0:4<Ee?1:2<Ee?2:3;if(pe[0]=ut(re.Ea,ot),re.b=ot,Oe=Be=Pi(Ee,1,0,Le,re.K)){var Ke,_t=Ee,Ye=re,un=1<<(8>>Ye.b),_n=s(un);if(null==_n)Oe=0;else{var rn=Ye.K[0],qt=Ye.w;for(_n[0]=Ye.K[0][0],Ke=1;Ke<1*_t;++Ke)_n[Ke]=He(rn[qt+Ke],_n[Ke-1]);for(;Ke<4*un;++Ke)_n[Ke]=0;Ye.K[0]=null,Ye.K[0]=_n,Oe=1}}Be=Oe;break;case 2:break;default:i(0)}F=Be}}if(z=z[0],S=S[0],F&&ze(L,1)&&!(F=1<=(he=ze(L,4))&&11>=he)){C.a=3;break e}var xn;if(xn=F)t:{var Cn,Lt,aA,hr=C,cA=z,pr=S,wn=he,br=m,xr=hr.m,BA=hr.s,kA=[null],KA=1,Jr=0,Zi=YC[wn];n:for(;;){if(br&&ze(xr,1)){var bA=ze(xr,3)+2,fs=ut(cA,bA),Aa=ut(pr,bA),zc=fs*Aa;if(!Pi(fs,Aa,0,hr,kA))break n;for(kA=kA[0],BA.xc=bA,Cn=0;Cn<zc;++Cn){var Ao=kA[Cn]>>8&65535;kA[Cn]=Ao,Ao>=KA&&(KA=Ao+1)}}if(xr.h)break n;for(Lt=0;5>Lt;++Lt){var Yn=C1[Lt];!Lt&&0<wn&&(Yn+=1<<wn),Jr<Yn&&(Jr=Yn)}var pm=o(KA*Zi,P),S1=KA,I1=o(S1,q);if(null==I1)var jh=null;else i(65536>=S1),jh=I1;var gd=s(Jr);if(null==jh||null==gd||null==pm){hr.a=1;break n}var Rh=pm;for(Cn=aA=0;Cn<KA;++Cn){var vi=jh[Cn],Uc=vi.G,Sc=vi.H,M1=0,Gh=1,E1=0;for(Lt=0;5>Lt;++Lt){Yn=C1[Lt],Uc[Lt]=Rh,Sc[Lt]=aA,!Lt&&0<wn&&(Yn+=1<<wn);r:{var Kh,fm=Yn,Jh=hr,md=gd,fB=Rh,gB=aA,gm=0,ro=Jh.m,mB=ze(ro,1);if(n(md,0,0,fm),mB){var _B=ze(ro,1)+1,wB=ze(ro,1),L1=ze(ro,0==wB?1:8);md[L1]=1,2==_B&&(md[L1=ze(ro,8)]=1);var Yh=1}else{var N1=s(19),O1=ze(ro,4)+4;if(19<O1){Jh.a=3;var qh=0;break r}for(Kh=0;Kh<O1;++Kh)N1[KC[Kh]]=ze(ro,3);var mm=void 0,_d=void 0,P1=Jh,vB=N1,Vh=fm,D1=md,_m=0,io=P1.m,H1=8,Z1=o(128,P);A:for(;D(Z1,0,7,vB,19);){if(ze(io,1)){var CB=2+2*ze(io,3);if((mm=2+ze(io,CB))>Vh)break A}else mm=Vh;for(_d=0;_d<Vh&&mm--;){ae(io);var j1=Z1[0+(127&G(io))];ne(io,io.u+j1.g);var Ic=j1.value;if(16>Ic)D1[_d++]=Ic,0!=Ic&&(H1=Ic);else{var BB=16==Ic,R1=Ic-16,bB=RC[R1],G1=ze(io,jC[R1])+bB;if(_d+G1>Vh)break A;for(var xB=BB?H1:0;0<G1--;)D1[_d++]=xB}}_m=1;break A}_m||(P1.a=3),Yh=_m}(Yh=Yh&&!ro.h)&&(gm=D(fB,gB,8,md,fm)),Yh&&0!=gm?qh=gm:(Jh.a=3,qh=0)}if(0==qh)break n;if(Gh&&1==GC[Lt]&&(Gh=0==Rh[aA].g),M1+=Rh[aA].g,aA+=qh,3>=Lt){var wd,wm=gd[0];for(wd=1;wd<Yn;++wd)gd[wd]>wm&&(wm=gd[wd]);E1+=wm}}if(vi.nd=Gh,vi.Qb=0,Gh&&(vi.qb=(Uc[3][Sc[3]+0].value<<24|Uc[1][Sc[1]+0].value<<16|Uc[2][Sc[2]+0].value)>>>0,0==M1&&256>Uc[0][Sc[0]+0].value&&(vi.Qb=1,vi.qb+=Uc[0][Sc[0]+0].value<<8)),vi.jc=!vi.Qb&&6>E1,vi.jc){var Wh,gs=vi;for(Wh=0;Wh<dr;++Wh){var so=Wh,oo=gs.pd[so],Xh=gs.G[0][gs.H[0]+so];256<=Xh.value?(oo.g=Xh.g+256,oo.value=Xh.value):(oo.g=0,oo.value=0,so>>=fA(Xh,8,oo),so>>=fA(gs.G[1][gs.H[1]+so],16,oo),so>>=fA(gs.G[2][gs.H[2]+so],0,oo),fA(gs.G[3][gs.H[3]+so],24,oo))}}}BA.vc=kA,BA.Wb=KA,BA.Ya=jh,BA.yc=pm,xn=1;break t}xn=0}if(!(F=xn)){C.a=3;break e}if(0<he){if(H.ua=1<<he,!bt(H.Wa,he)){C.a=1,F=0;break e}}else H.ua=0;var vm=C,K1=z,yB=S,Cm=vm.s,Bm=Cm.xc;if(vm.c=K1,vm.i=yB,Cm.md=ut(K1,Bm),Cm.wc=0==Bm?-1:(1<<Bm)-1,m){C.xb=nB;break e}if(null==(ee=s(z*S))){C.a=1,F=0;break e}F=(F=di(C,ee,0,z,S,S,null))&&!L.h;break e}return F?(null!=T?T[0]=ee:(i(null==ee),i(m)),C.$=0,m||Oi(H)):Oi(H),F}function Vo(a,f){var m=a.c*a.i,C=m+f+16*f;return i(a.c<=f),a.V=s(C),null==a.V?(a.Ta=null,a.Ua=0,a.a=1,0):(a.Ta=a.V,a.Ua=a.Ba+m+f,1)}function oc(a,f){var m=a.C,C=f-m,T=a.V,F=a.Ba+a.c*m;for(i(f<=a.l.o);0<C;){var z=16<C?16:C,S=a.l.ma,L=a.l.width,H=L*z,ee=S.ca,he=S.tb+L*m,pe=a.Ta,se=a.Ua;vr(a,z,T,F),h1(pe,se,ee,he,H),ci(S,m,m+z,ee,he,L),C-=z,T+=z*a.c,m+=z}i(m==f),a.C=a.Ma=f}function ac(){this.ub=this.yd=this.td=this.Rb=0}function cc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function uh(){var a;this.Yb=(function f(m,C,T){for(var F=T[C],z=0;z<F&&(m.push(T.length>C+1?[]:0),!(T.length<C+1));z++)f(m[z],C+1,T)}(a=[],0,[3,11]),a)}function Ig(){this.jb=s(3),this.Wc=h([4,8],uh),this.Xc=h([4,17],uh)}function Mg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function dc(){this.ld=this.La=this.dd=this.tc=0}function hh(){this.Na=this.la=0}function Eg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Lg(){this.uc=this.M=this.Nb=0,this.wa=Array(new dc),this.Y=0,this.ya=Array(new Gl),this.aa=0,this.l=new uc}function ph(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ng(){this.cb=this.a=0,this.sc="",this.m=new et,this.Od=new ac,this.Kc=new cc,this.ed=new Mg,this.Qa=new lc,this.Ic=this.$c=this.Aa=0,this.D=new Lg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,et),this.ia=0,this.pb=o(4,Eg),this.Pa=new Ig,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ph),this.Hd=0,this.rb=Array(new hh),this.sb=0,this.wa=Array(new dc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gl),this.L=this.aa=0,this.gd=h([4,2],dc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function uc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Og(){var a=new Ng;return null!=a&&(a.a=0,a.sc="OK",a.cb=0,a.Xb=0,pd||(pd=mh)),a}function eA(a,f,m){return 0==a.a&&(a.a=f,a.sc=m,a.cb=0),0}function fh(a,f,m){return 3<=m&&157==a[f+0]&&1==a[f+1]&&42==a[f+2]}function gh(a,f){if(null==a)return 0;if(a.a=0,a.sc="OK",null==f)return eA(a,2,"null VP8Io passed to VP8GetHeaders()");var m=f.data,C=f.w,T=f.ha;if(4>T)return eA(a,7,"Truncated header.");var F=m[C+0]|m[C+1]<<8|m[C+2]<<16,z=a.Od;if(z.Rb=!(1&F),z.td=F>>1&7,z.yd=F>>4&1,z.ub=F>>5,3<z.td)return eA(a,3,"Incorrect keyframe parameters.");if(!z.yd)return eA(a,4,"Frame not displayable.");C+=3,T-=3;var S=a.Kc;if(z.Rb){if(7>T)return eA(a,7,"cannot parse picture header");if(!fh(m,C,T))return eA(a,3,"Bad code word");S.c=16383&(m[C+4]<<8|m[C+3]),S.Td=m[C+4]>>6,S.i=16383&(m[C+6]<<8|m[C+5]),S.Ud=m[C+6]>>6,C+=7,T-=7,a.za=S.c+15>>4,a.Ub=S.i+15>>4,f.width=S.c,f.height=S.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,n((F=a.Pa).jb,0,255,F.jb.length),i(null!=(F=a.Qa)),F.Cb=0,F.Bb=0,F.Fb=1,n(F.Zb,0,0,F.Zb.length),n(F.Lb,0,0,F.Lb)}if(z.ub>T)return eA(a,7,"bad partition length");be(F=a.m,m,C,z.ub),C+=z.ub,T-=z.ub,z.Rb&&(S.Ld=we(F),S.Kd=we(F)),S=a.Qa;var L,H=a.Pa;if(i(null!=F),i(null!=S),S.Cb=we(F),S.Cb){if(S.Bb=we(F),we(F)){for(S.Fb=we(F),L=0;4>L;++L)S.Zb[L]=we(F)?ke(F,7):0;for(L=0;4>L;++L)S.Lb[L]=we(F)?ke(F,6):0}if(S.Bb)for(L=0;3>L;++L)H.jb[L]=we(F)?ve(F,8):255}else S.Bb=0;if(F.Ka)return eA(a,3,"cannot parse segment header");if((S=a.ed).zd=we(F),S.Tb=ve(F,6),S.wb=ve(F,3),S.Pc=we(F),S.Pc&&we(F)){for(H=0;4>H;++H)we(F)&&(S.vd[H]=ke(F,6));for(H=0;4>H;++H)we(F)&&(S.od[H]=ke(F,6))}if(a.L=0==S.Tb?0:S.zd?1:2,F.Ka)return eA(a,3,"cannot parse filter header");var ee=T;if(T=L=C,C=L+ee,S=ee,a.Xb=(1<<ve(a.m,2))-1,ee<3*(H=a.Xb))m=7;else{for(L+=3*H,S-=3*H,ee=0;ee<H;++ee){var he=m[T+0]|m[T+1]<<8|m[T+2]<<16;he>S&&(he=S),be(a.Jc[+ee],m,L,he),L+=he,S-=he,T+=3}be(a.Jc[+H],m,L,S),m=L<C?0:5}if(0!=m)return eA(a,m,"cannot parse partitions");for(m=ve(L=a.m,7),T=we(L)?ke(L,4):0,C=we(L)?ke(L,4):0,S=we(L)?ke(L,4):0,H=we(L)?ke(L,4):0,L=we(L)?ke(L,4):0,ee=a.Qa,he=0;4>he;++he){if(ee.Cb){var pe=ee.Zb[he];ee.Fb||(pe+=m)}else{if(0<he){a.pb[he]=a.pb[0];continue}pe=m}var se=a.pb[he];se.Sc[0]=dm[Cr(pe+T,127)],se.Sc[1]=um[Cr(pe+0,127)],se.Eb[0]=2*dm[Cr(pe+C,127)],se.Eb[1]=101581*um[Cr(pe+S,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=dm[Cr(pe+H,117)],se.Qc[1]=um[Cr(pe+L,127)],se.lc=pe+L}if(!z.Rb)return eA(a,4,"Not a key frame.");for(we(F),z=a.Pa,m=0;4>m;++m){for(T=0;8>T;++T)for(C=0;3>C;++C)for(S=0;11>S;++S)H=Ce(F,eB[m][T][C][S])?ve(F,8):XC[m][T][C][S],z.Wc[m][T].Yb[C][S]=H;for(T=0;17>T;++T)z.Xc[m][T]=z.Wc[m][tB[T]]}return a.kc=we(F),a.kc&&(a.Bd=ve(F,8)),a.cb=1}function mh(a,f,m,C,T,F,z){var S=f[T].Yb[m];for(m=0;16>T;++T){if(!Ce(a,S[m+0]))return T;for(;!Ce(a,S[m+1]);)if(S=f[++T].Yb[0],m=0,16==T)return 16;var L=f[T+1].Yb;if(Ce(a,S[m+2])){var H=a,ee=0;if(Ce(H,(pe=S)[(he=m)+3]))if(Ce(H,pe[he+6])){for(S=0,he=2*(ee=Ce(H,pe[he+8]))+(pe=Ce(H,pe[he+9+ee])),ee=0,pe=VC[he];pe[S];++S)ee+=ee+Ce(H,pe[S]);ee+=3+(8<<he)}else Ce(H,pe[he+7])?(ee=7+2*Ce(H,165),ee+=Ce(H,145)):ee=5+Ce(H,159);else ee=Ce(H,pe[he+4])?3+Ce(H,pe[he+5]):2;S=L[2]}else ee=1,S=L[1];L=z+WC[T],0>(H=a).b&&ge(H);var he,pe=H.b,se=(he=H.Ca>>1)-(H.I>>pe)>>31;--H.b,H.Ca+=se,H.Ca|=1,H.I-=(he+1&se)<<pe,F[L]=((ee^se)-se)*C[(0<T)+0]}return 16}function Kl(a){var f=a.rb[a.sb-1];f.la=0,f.Na=0,n(a.zc,0,0,a.zc.length),a.ja=0}function ui(a,f,m,C,T){a[f+m+32*C]=-256&(T=a[f+m+32*C]+(T>>3))?0>T?0:255:T}function hc(a,f,m,C,T,F){ui(a,f,0,m,C+T),ui(a,f,1,m,C+F),ui(a,f,2,m,C-F),ui(a,f,3,m,C-T)}function lr(a){return(20091*a>>16)+a}function Jl(a,f,m,C){var T,F=0,z=s(16);for(T=0;4>T;++T){var S=a[f+0]+a[f+8],L=a[f+0]-a[f+8],H=(35468*a[f+4]>>16)-lr(a[f+12]),ee=lr(a[f+4])+(35468*a[f+12]>>16);z[F+0]=S+ee,z[F+1]=L+H,z[F+2]=L-H,z[F+3]=S-ee,F+=4,f++}for(T=F=0;4>T;++T)S=(a=z[F+0]+4)+z[F+8],L=a-z[F+8],H=(35468*z[F+4]>>16)-lr(z[F+12]),ui(m,C,0,0,S+(ee=lr(z[F+4])+(35468*z[F+12]>>16))),ui(m,C,1,0,L+H),ui(m,C,2,0,L-H),ui(m,C,3,0,S-ee),F++,C+=32}function _h(a,f,m,C){var T=a[f+0]+4,F=35468*a[f+4]>>16,z=lr(a[f+4]),S=35468*a[f+1]>>16;hc(m,C,0,T+z,a=lr(a[f+1]),S),hc(m,C,1,T+F,a,S),hc(m,C,2,T-F,a,S),hc(m,C,3,T-z,a,S)}function Dg(a,f,m,C,T){Jl(a,f,m,C),T&&Jl(a,f+16,m,C+4)}function wh(a,f,m,C){kc(a,f+0,m,C,1),kc(a,f+32,m,C+128,1)}function Hg(a,f,m,C){var T;for(a=a[f+0]+4,T=0;4>T;++T)for(f=0;4>f;++f)ui(m,C,f,T,a)}function vh(a,f,m,C){a[f+0]&&_i(a,f+0,m,C),a[f+16]&&_i(a,f+16,m,C+4),a[f+32]&&_i(a,f+32,m,C+128),a[f+48]&&_i(a,f+48,m,C+128+4)}function Zg(a,f,m,C){var T,F=s(16);for(T=0;4>T;++T){var z=a[f+0+T]+a[f+12+T],S=a[f+4+T]+a[f+8+T],L=a[f+4+T]-a[f+8+T],H=a[f+0+T]-a[f+12+T];F[0+T]=z+S,F[8+T]=z-S,F[4+T]=H+L,F[12+T]=H-L}for(T=0;4>T;++T)z=(a=F[0+4*T]+3)+F[3+4*T],L=F[1+4*T]-F[2+4*T],H=a-F[3+4*T],m[C+0]=z+(S=F[1+4*T]+F[2+4*T])>>3,m[C+16]=H+L>>3,m[C+32]=z-S>>3,m[C+48]=H-L>>3,C+=64}function Yl(a,f,m){var C,T=f-32,F=Br,z=255-a[T-1];for(C=0;C<m;++C){var S,L=F,H=z+a[f-1];for(S=0;S<m;++S)a[f+S]=L[H+a[T+S]];f+=32}}function jg(a,f){Yl(a,f,4)}function Rg(a,f){Yl(a,f,8)}function Gg(a,f){Yl(a,f,16)}function os(a,f){var m;for(m=0;16>m;++m)t(a,f+32*m,a,f-32,16)}function pc(a,f){var m;for(m=16;0<m;--m)n(a,f,a[f-1],16),f+=32}function fc(a,f,m){var C;for(C=0;16>C;++C)n(f,m+32*C,a,16)}function Ch(a,f){var m,C=16;for(m=0;16>m;++m)C+=a[f-1+32*m]+a[f+m-32];fc(C>>5,a,f)}function OA(a,f){var m,C=8;for(m=0;16>m;++m)C+=a[f-1+32*m];fc(C>>4,a,f)}function Kg(a,f){var m,C=8;for(m=0;16>m;++m)C+=a[f+m-32];fc(C>>4,a,f)}function Bh(a,f){fc(128,a,f)}function kt(a,f,m){return a+2*f+m+2>>2}function Jg(a,f){var m,C=f-32;for(C=new Uint8Array([kt(a[C-1],a[C+0],a[C+1]),kt(a[C+0],a[C+1],a[C+2]),kt(a[C+1],a[C+2],a[C+3]),kt(a[C+2],a[C+3],a[C+4])]),m=0;4>m;++m)t(a,f+32*m,C,0,C.length)}function Yg(a,f){var m=a[f-1],C=a[f-1+32],T=a[f-1+64],F=a[f-1+96];Re(a,f+0,16843009*kt(a[f-1-32],m,C)),Re(a,f+32,16843009*kt(m,C,T)),Re(a,f+64,16843009*kt(C,T,F)),Re(a,f+96,16843009*kt(T,F,F))}function Di(a,f){var m,C=4;for(m=0;4>m;++m)C+=a[f+m-32]+a[f-1+32*m];for(C>>=3,m=0;4>m;++m)n(a,f+32*m,C,4)}function bh(a,f){var m=a[f-1+0],C=a[f-1+32],T=a[f-1+64],F=a[f-1-32],z=a[f+0-32],S=a[f+1-32],L=a[f+2-32],H=a[f+3-32];a[f+0+96]=kt(C,T,a[f-1+96]),a[f+1+96]=a[f+0+64]=kt(m,C,T),a[f+2+96]=a[f+1+64]=a[f+0+32]=kt(F,m,C),a[f+3+96]=a[f+2+64]=a[f+1+32]=a[f+0+0]=kt(z,F,m),a[f+3+64]=a[f+2+32]=a[f+1+0]=kt(S,z,F),a[f+3+32]=a[f+2+0]=kt(L,S,z),a[f+3+0]=kt(H,L,S)}function xh(a,f){var m=a[f+1-32],C=a[f+2-32],T=a[f+3-32],F=a[f+4-32],z=a[f+5-32],S=a[f+6-32],L=a[f+7-32];a[f+0+0]=kt(a[f+0-32],m,C),a[f+1+0]=a[f+0+32]=kt(m,C,T),a[f+2+0]=a[f+1+32]=a[f+0+64]=kt(C,T,F),a[f+3+0]=a[f+2+32]=a[f+1+64]=a[f+0+96]=kt(T,F,z),a[f+3+32]=a[f+2+64]=a[f+1+96]=kt(F,z,S),a[f+3+64]=a[f+2+96]=kt(z,S,L),a[f+3+96]=kt(S,L,L)}function gc(a,f){var m=a[f-1+0],C=a[f-1+32],T=a[f-1+64],F=a[f-1-32],z=a[f+0-32],S=a[f+1-32],L=a[f+2-32],H=a[f+3-32];a[f+0+0]=a[f+1+64]=F+z+1>>1,a[f+1+0]=a[f+2+64]=z+S+1>>1,a[f+2+0]=a[f+3+64]=S+L+1>>1,a[f+3+0]=L+H+1>>1,a[f+0+96]=kt(T,C,m),a[f+0+64]=kt(C,m,F),a[f+0+32]=a[f+1+96]=kt(m,F,z),a[f+1+32]=a[f+2+96]=kt(F,z,S),a[f+2+32]=a[f+3+96]=kt(z,S,L),a[f+3+32]=kt(S,L,H)}function ql(a,f){var m=a[f+0-32],C=a[f+1-32],T=a[f+2-32],F=a[f+3-32],z=a[f+4-32],S=a[f+5-32],L=a[f+6-32],H=a[f+7-32];a[f+0+0]=m+C+1>>1,a[f+1+0]=a[f+0+64]=C+T+1>>1,a[f+2+0]=a[f+1+64]=T+F+1>>1,a[f+3+0]=a[f+2+64]=F+z+1>>1,a[f+0+32]=kt(m,C,T),a[f+1+32]=a[f+0+96]=kt(C,T,F),a[f+2+32]=a[f+1+96]=kt(T,F,z),a[f+3+32]=a[f+2+96]=kt(F,z,S),a[f+3+64]=kt(z,S,L),a[f+3+96]=kt(S,L,H)}function qg(a,f){var m=a[f-1+0],C=a[f-1+32],T=a[f-1+64],F=a[f-1+96];a[f+0+0]=m+C+1>>1,a[f+2+0]=a[f+0+32]=C+T+1>>1,a[f+2+32]=a[f+0+64]=T+F+1>>1,a[f+1+0]=kt(m,C,T),a[f+3+0]=a[f+1+32]=kt(C,T,F),a[f+3+32]=a[f+1+64]=kt(T,F,F),a[f+3+64]=a[f+2+64]=a[f+0+96]=a[f+1+96]=a[f+2+96]=a[f+3+96]=F}function Vg(a,f){var m=a[f-1+0],C=a[f-1+32],T=a[f-1+64],F=a[f-1+96],z=a[f-1-32],S=a[f+0-32],L=a[f+1-32],H=a[f+2-32];a[f+0+0]=a[f+2+32]=m+z+1>>1,a[f+0+32]=a[f+2+64]=C+m+1>>1,a[f+0+64]=a[f+2+96]=T+C+1>>1,a[f+0+96]=F+T+1>>1,a[f+3+0]=kt(S,L,H),a[f+2+0]=kt(z,S,L),a[f+1+0]=a[f+3+32]=kt(m,z,S),a[f+1+32]=a[f+3+64]=kt(C,m,z),a[f+1+64]=a[f+3+96]=kt(T,C,m),a[f+1+96]=kt(F,T,C)}function Wg(a,f){var m;for(m=0;8>m;++m)t(a,f+32*m,a,f-32,8)}function Vl(a,f){var m;for(m=0;8>m;++m)n(a,f,a[f-1],8),f+=32}function Wo(a,f,m){var C;for(C=0;8>C;++C)n(f,m+32*C,a,8)}function Ks(a,f){var m,C=8;for(m=0;8>m;++m)C+=a[f+m-32]+a[f-1+32*m];Wo(C>>4,a,f)}function Xg(a,f){var m,C=4;for(m=0;8>m;++m)C+=a[f+m-32];Wo(C>>3,a,f)}function Xo(a,f){var m,C=4;for(m=0;8>m;++m)C+=a[f-1+32*m];Wo(C>>3,a,f)}function Wl(a,f){Wo(128,a,f)}function mc(a,f,m){var C=a[f-m],T=a[f+0],F=3*(T-C)+sm[1020+a[f-2*m]-a[f+m]],z=Mh[112+(F+4>>3)];a[f-m]=Br[255+C+Mh[112+(F+3>>3)]],a[f+0]=Br[255+T-z]}function yh(a,f,m,C){return Gr[255+a[f-2*m]-a[f-m]]>C||Gr[255+a[f+m]-a[f+0]]>C}function Th(a,f,m,C){return 4*Gr[255+a[f-m]-a[f+0]]+Gr[255+a[f-2*m]-a[f+m]]<=C}function kh(a,f,m,C,T){var F=a[f-3*m],z=a[f-2*m],S=a[f-m],L=a[f+0],H=a[f+m],ee=a[f+2*m];return 4*Gr[255+S-L]+Gr[255+z-H]>C?0:Gr[255+a[f-4*m]-F]<=T&&Gr[255+F-z]<=T&&Gr[255+z-S]<=T&&Gr[255+a[f+3*m]-ee]<=T&&Gr[255+ee-H]<=T&&Gr[255+H-L]<=T}function Qh(a,f,m,C){var T=2*C+1;for(C=0;16>C;++C)Th(a,f+C,m,T)&&mc(a,f+C,m)}function as(a,f,m,C){var T=2*C+1;for(C=0;16>C;++C)Th(a,f+C*m,1,T)&&mc(a,f+C*m,1)}function Js(a,f,m,C){var T;for(T=3;0<T;--T)Qh(a,f+=4*m,m,C)}function $g(a,f,m,C){var T;for(T=3;0<T;--T)as(a,f+=4,m,C)}function Ys(a,f,m,C,T,F,z,S){for(F=2*F+1;0<T--;){if(kh(a,f,m,F,z))if(yh(a,f,m,S))mc(a,f,m);else{var L=a,H=f,ee=m,he=L[H-2*ee],pe=L[H-ee],se=L[H+0],Le=L[H+ee],Be=L[H+2*ee],te=27*(Me=sm[1020+3*(se-pe)+sm[1020+he-Le]])+63>>7,re=18*Me+63>>7,Me=9*Me+63>>7;L[H-3*ee]=Br[255+L[H-3*ee]+Me],L[H-2*ee]=Br[255+he+re],L[H-ee]=Br[255+pe+te],L[H+0]=Br[255+se-te],L[H+ee]=Br[255+Le-re],L[H+2*ee]=Br[255+Be-Me]}f+=C}}function hi(a,f,m,C,T,F,z,S){for(F=2*F+1;0<T--;){if(kh(a,f,m,F,z))if(yh(a,f,m,S))mc(a,f,m);else{var L=a,H=f,ee=m,he=L[H-ee],pe=L[H+0],se=L[H+ee],Le=Mh[112+(4+(Be=3*(pe-he))>>3)],Be=Mh[112+(Be+3>>3)],te=Le+1>>1;L[H-2*ee]=Br[255+L[H-2*ee]+te],L[H-ee]=Br[255+he+Be],L[H+0]=Br[255+pe-Le],L[H+ee]=Br[255+se-te]}f+=C}}function Xl(a,f,m,C,T,F){Ys(a,f,m,1,16,C,T,F)}function $o(a,f,m,C,T,F){Ys(a,f,1,m,16,C,T,F)}function em(a,f,m,C,T,F){var z;for(z=3;0<z;--z)hi(a,f+=4*m,m,1,16,C,T,F)}function _c(a,f,m,C,T,F){var z;for(z=3;0<z;--z)hi(a,f+=4,1,m,16,C,T,F)}function tm(a,f,m,C,T,F,z,S){Ys(a,f,T,1,8,F,z,S),Ys(m,C,T,1,8,F,z,S)}function $l(a,f,m,C,T,F,z,S){Ys(a,f,1,T,8,F,z,S),Ys(m,C,1,T,8,F,z,S)}function ed(a,f,m,C,T,F,z,S){hi(a,f+4*T,T,1,8,F,z,S),hi(m,C+4*T,T,1,8,F,z,S)}function Fh(a,f,m,C,T,F,z,S){hi(a,f+4,1,T,8,F,z,S),hi(m,C+4,1,T,8,F,z,S)}function wc(){this.ba=new oi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function td(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zh(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new P}function nm(){this.xb=this.a=0,this.l=new uc,this.ca=new oi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zh,this.ab=0,this.gc=o(4,nd),this.Oc=0}function vc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new uc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ea(a,f,m,C,T,F,z){for(a=null==a?0:a[f+0],f=0;f<z;++f)T[F+f]=a+m[C+f]&255,a=T[F+f]}function Ad(a,f,m,C,T,F,z){var S;if(null==a)ea(null,null,m,C,T,F,z);else for(S=0;S<z;++S)T[F+S]=a[f+S]+m[C+S]&255}function qs(a,f,m,C,T,F,z){if(null==a)ea(null,null,m,C,T,F,z);else{var S,L=a[f+0],H=L,ee=L;for(S=0;S<z;++S)H=ee+(L=a[f+S])-H,ee=m[C+S]+(-256&H?0>H?0:255:H)&255,H=L,T[F+S]=ee}}function rd(a,f,m,C){var T=f.width,F=f.o;if(i(null!=a&&null!=f),0>m||0>=C||m+C>F)return null;if(!a.Cc){if(null==a.ga){var z;if(a.ga=new vc,(z=null==a.ga)||(z=f.width*f.o,i(0==a.Gb.length),a.Gb=s(z),a.Uc=0,null==a.Gb?z=0:(a.mb=a.Gb,a.nb=a.Uc,a.rc=null,z=1),z=!z),!z){var S=a.Fa,L=a.P,H=a.qc,ee=a.mb,he=a.nb,pe=L+1,se=H-1,Le=(z=a.ga).l;if(i(null!=S&&null!=ee&&null!=f),no[0]=null,no[1]=ea,no[2]=Ad,no[3]=qs,z.ca=ee,z.tb=he,z.c=f.width,z.i=f.height,i(0<z.c&&0<z.i),1>=H)f=0;else if(z.$a=S[L+0]>>0&3,z.Z=S[L+0]>>2&3,z.Lc=S[L+0]>>4&3,L=S[L+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||L)f=0;else if(Le.put=Ei,Le.ac=TA,Le.bc=Li,Le.ma=z,Le.width=f.width,Le.height=f.height,Le.Da=f.Da,Le.v=f.v,Le.va=f.va,Le.j=f.j,Le.o=f.o,z.$a)e:{i(1==z.$a),f=Zr();t:for(;;){if(null==f){f=0;break e}if(i(null!=z),z.mc=f,f.c=z.c,f.i=z.i,f.l=z.l,f.l.ma=z,f.l.width=z.c,f.l.height=z.i,f.a=0,fe(f.m,S,pe,se),!Pi(z.c,z.i,1,f,null)||(1==f.ab&&3==f.gc[0].hc&&ss(f.s)?(z.ic=1,S=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(S),f.Ba=0,null==f.V?(f.a=1,f=0):f=1):(z.ic=0,f=Vo(f,z.c)),!f))break t;f=1;break e}z.mc=null,f=0}else f=se>=z.c*z.i;z=!f}if(z)return null;1!=a.ga.Lc?a.Ga=0:C=F-m}i(null!=a.ga),i(m+C<=F);e:{if(f=(S=a.ga).c,F=S.l.o,0==S.$a){if(pe=a.rc,se=a.Vc,Le=a.Fa,H=a.mb,ee=a.nb+m*f,i((L=a.P+1+m*f)<=a.P+a.qc),0!=S.Z)for(i(null!=no[S.Z]),z=0;z<C;++z)no[S.Z](pe,se,Le,L,H,ee,f),pe=H,se=ee,ee+=f,L+=f;else for(z=0;z<C;++z)t(H,ee,Le,L,f),pe=H,se=ee,ee+=f,L+=f;a.rc=pe,a.Vc=se}else{if(i(null!=S.mc),f=m+C,i(null!=(z=S.mc)),i(f<=z.i),z.C>=f)f=1;else if(S.ic||le(),S.ic){S=z.V,pe=z.Ba;var Be=z.i,te=(Le=1,L=z.$/(se=z.c),H=z.$%se,ee=z.m,he=z.s,z.$),re=se*Be,Me=se*f,Oe=he.wc,Ee=te<Me?sA(he,H,L):null;i(te<=re),i(f<=Be),i(ss(he));t:for(;;){for(;!ee.h&&te<Me;){if(H&Oe||(Ee=sA(he,H,L)),i(null!=Ee),ae(ee),256>(Be=cr(Ee.G[0],Ee.H[0],ee)))S[pe+te]=Be,++te,++H>=se&&(H=0,++L<=f&&!(L%16)&&li(z,L));else{if(!(280>Be)){Le=0;break t}Be=ai(Be-256,ee);var ot,Ke=cr(Ee.G[4],Ee.H[4],ee);if(ae(ee),!(te>=(Ke=Ni(se,Ke=ai(Ke,ee)))&&re-te>=Be)){Le=0;break t}for(ot=0;ot<Be;++ot)S[pe+te+ot]=S[pe+te+ot-Ke];for(te+=Be,H+=Be;H>=se;)H-=se,++L<=f&&!(L%16)&&li(z,L);te<Me&&H&Oe&&(Ee=sA(he,H,L))}i(ee.h==K(ee))}li(z,L>f?f:L);break t}!Le||ee.h&&te<re?(Le=0,z.a=ee.h?5:3):z.$=te,f=Le}else f=di(z,z.V,z.Ba,z.c,z.i,f,oc);if(!f){C=0;break e}}m+C>=F&&(a.Cc=1),C=1}if(!C)return null;if(a.Cc&&(null!=(C=a.ga)&&(C.mc=null),a.ga=null,0<a.Ga))return alert("todo:WebPDequantizeLevels"),null}return a.nb+m*T}function g(a,f,m,C,T,F){for(;0<T--;){var z,S=a,L=f+(m?1:0),H=a,ee=f+(m?0:3);for(z=0;z<C;++z){var he=H[ee+4*z];255!=he&&(S[L+4*z+0]=S[L+4*z+0]*(he*=32897)>>23,S[L+4*z+1]=S[L+4*z+1]*he>>23,S[L+4*z+2]=S[L+4*z+2]*he>>23)}f+=F}}function k(a,f,m,C,T){for(;0<C--;){var F;for(F=0;F<m;++F){var z=a[f+2*F+0],S=15&(H=a[f+2*F+1]),L=4369*S,H=(240&H|H>>4)*L>>16;a[f+2*F+0]=(240&z|z>>4)*L>>16&240|(15&z|z<<4)*L>>16>>4&15,a[f+2*F+1]=240&H|S}f+=T}}function R(a,f,m,C,T,F,z,S){var L,H,ee=255;for(H=0;H<T;++H){for(L=0;L<C;++L){var he=a[f+L];F[z+4*L]=he,ee&=he}f+=m,z+=S}return 255!=ee}function V(a,f,m,C,T){var F;for(F=0;F<T;++F)m[C+F]=a[f+F]>>8}function le(){eo=g,Fc=k,Ih=R,h1=V}function ye(a,f,m){Y[a]=function(C,T,F,z,S,L,H,ee,he,pe,se,Le,Be,te,re,Me,Oe){var Ee,ot=Oe-1>>1,Ke=S[L+0]|H[ee+0]<<16,_t=he[pe+0]|se[Le+0]<<16;i(null!=C);var Ye=3*Ke+_t+131074>>2;for(f(C[T+0],255&Ye,Ye>>16,Be,te),null!=F&&f(F[z+0],255&(Ye=3*_t+Ke+131074>>2),Ye>>16,re,Me),Ee=1;Ee<=ot;++Ee){var un=S[L+Ee]|H[ee+Ee]<<16,_n=he[pe+Ee]|se[Le+Ee]<<16,rn=Ke+un+_t+_n+524296,qt=rn+2*(un+_t)>>3;Ye=qt+Ke>>1,Ke=(rn=rn+2*(Ke+_n)>>3)+un>>1,f(C[T+2*Ee-1],255&Ye,Ye>>16,Be,te+(2*Ee-1)*m),f(C[T+2*Ee-0],255&Ke,Ke>>16,Be,te+(2*Ee-0)*m),null!=F&&(Ke=qt+_n>>1,f(F[z+2*Ee-1],255&(Ye=rn+_t>>1),Ye>>16,re,Me+(2*Ee-1)*m),f(F[z+2*Ee+0],255&Ke,Ke>>16,re,Me+(2*Ee+0)*m)),Ke=un,_t=_n}1&Oe||(f(C[T+Oe-1],255&(Ye=3*Ke+_t+131074>>2),Ye>>16,Be,te+(Oe-1)*m),null!=F&&f(F[z+Oe-1],255&(Ye=3*_t+Ke+131074>>2),Ye>>16,re,Me+(Oe-1)*m))}}function De(){Kr[Eh]=AB,Kr[Lh]=x1,Kr[w1]=rB,Kr[Nh]=y1,Kr[Oh]=T1,Kr[om]=k1,Kr[v1]=iB,Kr[am]=x1,Kr[cm]=y1,Kr[Ph]=T1,Kr[lm]=k1}function it(a){return a&~sB?0>a?0:255:a>>Q1}function ft(a,f){return it((19077*a>>8)+(26149*f>>8)-14234)}function Mt(a,f,m){return it((19077*a>>8)-(6419*f>>8)-(13320*m>>8)+8708)}function Ht(a,f){return it((19077*a>>8)+(33050*f>>8)-17685)}function $t(a,f,m,C,T){C[T+0]=ft(a,m),C[T+1]=Mt(a,f,m),C[T+2]=Ht(a,f)}function Hn(a,f,m,C,T){C[T+0]=Ht(a,f),C[T+1]=Mt(a,f,m),C[T+2]=ft(a,m)}function Jn(a,f,m,C,T){var F=Mt(a,f,m);f=F<<3&224|Ht(a,f)>>3,C[T+0]=248&ft(a,m)|F>>5,C[T+1]=f}function oA(a,f,m,C,T){var F=240&Ht(a,f)|15;C[T+0]=240&ft(a,m)|Mt(a,f,m)>>4,C[T+1]=F}function PA(a,f,m,C,T){C[T+0]=255,$t(a,f,m,C,T+1)}function CA(a,f,m,C,T){Hn(a,f,m,C,T),C[T+3]=255}function pi(a,f,m,C,T){$t(a,f,m,C,T),C[T+3]=255}function Cr(a,f){return 0>a?0:a>f?f:a}function cs(a,f,m){Y[a]=function(C,T,F,z,S,L,H,ee,he){for(var pe=ee+(-2&he)*m;ee!=pe;)f(C[T+0],F[z+0],S[L+0],H,ee),f(C[T+1],F[z+0],S[L+0],H,ee+m),T+=2,++z,++L,ee+=2*m;1&he&&f(C[T+0],F[z+0],S[L+0],H,ee)}}function Uh(a,f,m){return 0==m?0==a?0==f?6:5:0==f?4:0:m}function id(a,f,m,C,T){switch(a>>>30){case 3:kc(f,m,C,T,0);break;case 2:ud(f,m,C,T);break;case 1:_i(f,m,C,T)}}function sd(a,f){var m,C,T=f.M,F=f.Nb,z=a.oc,S=a.pc+40,L=a.oc,H=a.pc+584,ee=a.oc,he=a.pc+600;for(m=0;16>m;++m)z[S+32*m-1]=129;for(m=0;8>m;++m)L[H+32*m-1]=129,ee[he+32*m-1]=129;for(0<T?z[S-1-32]=L[H-1-32]=ee[he-1-32]=129:(n(z,S-32-1,127,21),n(L,H-32-1,127,9),n(ee,he-32-1,127,9)),C=0;C<a.za;++C){var pe=f.ya[f.aa+C];if(0<C){for(m=-1;16>m;++m)t(z,S+32*m-4,z,S+32*m+12,4);for(m=-1;8>m;++m)t(L,H+32*m-4,L,H+32*m+4,4),t(ee,he+32*m-4,ee,he+32*m+4,4)}var se=a.Gd,Le=a.Hd+C,Be=pe.ad,te=pe.Hc;if(0<T&&(t(z,S-32,se[Le].y,0,16),t(L,H-32,se[Le].f,0,8),t(ee,he-32,se[Le].ea,0,8)),pe.Za){var re=z,Me=S-32+16;for(0<T&&(C>=a.za-1?n(re,Me,se[Le].y[15],4):t(re,Me,se[Le+1].y,0,4)),m=0;4>m;m++)re[Me+128+m]=re[Me+256+m]=re[Me+384+m]=re[Me+0+m];for(m=0;16>m;++m,te<<=2)wi[pe.Ob[m]](re=z,Me=S+z1[m]),id(te,Be,16*+m,re,Me)}else if(re=Uh(C,T,pe.Ob[0]),to[re](z,S),0!=te)for(m=0;16>m;++m,te<<=2)id(te,Be,16*+m,z,S+z1[m]);for(m=pe.Gc,re=Uh(C,T,pe.Dd),ps[re](L,H),ps[re](ee,he),te=Be,re=L,Me=H,255&(pe=m>>0)&&(170&pe?Xs(te,256,re,Me):ds(te,256,re,Me)),pe=ee,te=he,255&(m>>=8)&&(170&m?Xs(Be,320,pe,te):ds(Be,320,pe,te)),T<a.Ub-1&&(t(se[Le].y,0,z,S+480,16),t(se[Le].f,0,L,H+224,8),t(se[Le].ea,0,ee,he+224,8)),se=a.sa,Le=a.ta+16*C+16*F*a.R,Be=a.qa,pe=a.ra+8*C+(m=8*F*a.B),te=a.Ha,re=a.Ia+8*C+m,m=0;16>m;++m)t(se,Le+m*a.R,z,S+32*m,16);for(m=0;8>m;++m)t(Be,pe+m*a.B,L,H+32*m,8),t(te,re+m*a.B,ee,he+32*m,8)}}function Cc(a,f,m,C,T,F,z,S,L){var H=[0],ee=[0],he=0,pe=null!=L?L.kd:0,se=L??new td;if(null==a||12>m)return 7;se.data=a,se.w=f,se.ha=m,f=[f],m=[m],se.gb=[se.gb];e:{var Le=f,Be=m,te=se.gb;if(i(null!=a),i(null!=Be),i(null!=te),te[0]=0,12<=Be[0]&&!A(a,Le[0],"RIFF")){if(A(a,Le[0]+8,"WEBP")){te=3;break e}var re=at(a,Le[0]+4);if(12>re||4294967286<re){te=3;break e}if(pe&&re>Be[0]-8){te=7;break e}te[0]=re,Le[0]+=12,Be[0]-=12}te=0}if(0!=te)return te;for(re=0<se.gb[0],m=m[0];;){e:{var Me=a;Be=f,te=m;var Oe=H,Ee=ee,ot=Le=[0];if((Ye=he=[he])[0]=0,8>te[0])te=7;else{if(!A(Me,Be[0],"VP8X")){if(10!=at(Me,Be[0]+4)){te=3;break e}if(18>te[0]){te=7;break e}var Ke=at(Me,Be[0]+8),_t=1+rt(Me,Be[0]+12);if(2147483648<=_t*(Me=1+rt(Me,Be[0]+15))){te=3;break e}null!=ot&&(ot[0]=Ke),null!=Oe&&(Oe[0]=_t),null!=Ee&&(Ee[0]=Me),Be[0]+=18,te[0]-=18,Ye[0]=1}te=0}}if(he=he[0],0!=te)return te;if(Be=!!(2&(Le=Le[0])),!re&&he)return 3;if(null!=F&&(F[0]=!!(16&Le)),null!=z&&(z[0]=Be),null!=S&&(S[0]=0),z=H[0],Le=ee[0],he&&Be&&null==L){te=0;break}if(4>m){te=7;break}if(re&&he||!re&&!he&&!A(a,f[0],"ALPH")){m=[m],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{te=f,re=m;var Ye=se.gb;Oe=se.na,Ee=se.P,ot=se.Sa,_t=22,i(null!=(Ke=a)),i(null!=re),Me=te[0];var un=re[0];for(i(null!=Oe),i(null!=ot),Oe[0]=null,Ee[0]=null,ot[0]=0;;){if(te[0]=Me,re[0]=un,8>un){te=7;break e}var _n=at(Ke,Me+4);if(4294967286<_n){te=3;break e}var rn=8+_n+1&-2;if(_t+=rn,0<Ye&&_t>Ye){te=3;break e}if(!A(Ke,Me,"VP8 ")||!A(Ke,Me,"VP8L")){te=0;break e}if(un[0]<rn){te=7;break e}A(Ke,Me,"ALPH")||(Oe[0]=Ke,Ee[0]=Me+8,ot[0]=_n),Me+=rn,un-=rn}}if(m=m[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],0!=te)break}m=[m],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Ye=a,te=f,re=m,Oe=se.gb[0],Ee=se.Ja,ot=se.xa,Ke=te[0],Me=!A(Ye,Ke,"VP8 "),_t=!A(Ye,Ke,"VP8L"),i(null!=Ye),i(null!=re),i(null!=Ee),i(null!=ot),8>re[0])te=7;else{if(Me||_t){if(Ye=at(Ye,Ke+4),12<=Oe&&Ye>Oe-12){te=3;break e}if(pe&&Ye>re[0]-8){te=7;break e}Ee[0]=Ye,te[0]+=8,re[0]-=8,ot[0]=_t}else ot[0]=5<=re[0]&&47==Ye[Ke+0]&&!(Ye[Ke+4]>>5),Ee[0]=re[0];te=0}if(m=m[0],se.Ja=se.Ja[0],se.xa=se.xa[0],f=f[0],0!=te)break;if(4294967286<se.Ja)return 3;if(null==S||Be||(S[0]=se.xa?2:1),z=[z],Le=[Le],se.xa){if(5>m){te=7;break}S=z,pe=Le,Be=F,null==a||5>m?a=0:5<=m&&47==a[f+0]&&!(a[f+4]>>5)?(re=[0],Ye=[0],Oe=[0],fe(Ee=new U,a,f,m),vt(Ee,re,Ye,Oe)?(null!=S&&(S[0]=re[0]),null!=pe&&(pe[0]=Ye[0]),null!=Be&&(Be[0]=Oe[0]),a=1):a=0):a=0}else{if(10>m){te=7;break}S=Le,null==a||10>m||!fh(a,f+3,m-3)?a=0:(pe=a[f+0]|a[f+1]<<8|a[f+2]<<16,Be=16383&(a[f+7]<<8|a[f+6]),a=16383&(a[f+9]<<8|a[f+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=se.Ja||!Be||!a?a=0:(z&&(z[0]=Be),S&&(S[0]=a),a=1))}if(!a||(z=z[0],Le=Le[0],he&&(H[0]!=z||ee[0]!=Le)))return 3;null!=L&&(L[0]=se,L.offset=f-L.w,i(4294967286>f-L.w),i(L.offset==L.ha-m));break}return 0==te||7==te&&he&&null==L?(null!=F&&(F[0]|=null!=se.na&&0<se.na.length),null!=C&&(C[0]=z),null!=T&&(T[0]=Le),0):te}function od(a,f,m){var C=f.width,T=f.height,F=0,z=0,S=C,L=T;if(f.Da=null!=a&&0<a.Da,f.Da&&(S=a.cd,L=a.bd,F=a.v,z=a.j,11>m||(F&=-2,z&=-2),0>F||0>z||0>=S||0>=L||F+S>C||z+L>T))return 0;if(f.v=F,f.j=z,f.va=F+S,f.o=z+L,f.U=S,f.T=L,f.da=null!=a&&0<a.da,f.da){if(!It(S,L,m=[a.ib],F=[a.hb]))return 0;f.ib=m[0],f.hb=F[0]}return f.ob=null!=a&&a.ob,f.Kb=null==a||!a.Sd,f.da&&(f.ob=f.ib<3*C/4&&f.hb<3*T/4,f.Kb=0),1}function ad(a){if(null==a)return 2;if(11>a.S){var f=a.f.RGBA;f.fb+=(a.height-1)*f.A,f.A=-f.A}else(f=a.f.kb).O+=((a=a.height)-1)*f.fa,f.fa=-f.fa,f.N+=(a-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(a-1>>1)*f.Db,f.Db=-f.Db,null!=f.F&&(f.J+=(a-1)*f.lb,f.lb=-f.lb);return 0}function Bc(a,f,m,C){if(null==C||0>=a||0>=f)return 2;if(null!=m){if(m.Da){var T=m.cd,F=m.bd,z=-2&m.v,S=-2&m.j;if(0>z||0>S||0>=T||0>=F||z+T>a||S+F>f)return 2;a=T,f=F}if(m.da){if(!It(a,f,T=[m.ib],F=[m.hb]))return 2;a=T[0],f=F[0]}}C.width=a,C.height=f;e:{var L=C.width,H=C.height;if(a=C.S,0>=L||0>=H||!(a>=Eh&&13>a))a=2;else{if(0>=C.Rd&&null==C.sd){z=F=T=f=0;var ee=(S=L*U1[a])*H;if(11>a||(F=(H+1)/2*(f=(L+1)/2),12==a&&(z=(T=L)*H)),null==(H=s(ee+2*F+z))){a=1;break e}C.sd=H,11>a?((L=C.f.RGBA).eb=H,L.fb=0,L.A=S,L.size=ee):((L=C.f.kb).y=H,L.O=0,L.fa=S,L.Fd=ee,L.f=H,L.N=0+ee,L.Ab=f,L.Cd=F,L.ea=H,L.W=0+ee+F,L.Db=f,L.Ed=F,12==a&&(L.F=H,L.J=0+ee+2*F),L.Tc=z,L.lb=T)}if(f=1,F=C.width,z=C.height,(T=C.S)>=Eh&&13>T)if(11>T)a=C.f.RGBA,f&=(S=Math.abs(a.A))*(z-1)+F<=a.size,f&=S>=F*U1[T],f&=null!=a.eb;else{a=C.f.kb,S=(F+1)/2,ee=(z+1)/2,L=Math.abs(a.fa),H=Math.abs(a.Ab);var he=Math.abs(a.Db),pe=Math.abs(a.lb);f&=L*(z-1)+F<=a.Fd,f&=H*(ee-1)+S<=a.Cd,f=(f&=he*(ee-1)+S<=a.Ed)&L>=F&H>=S&he>=S,f&=null!=a.y,f&=null!=a.f,f&=null!=a.ea,12==T&&(f&=pe>=F,f&=pe*(z-1)+F<=a.Tc,f&=null!=a.F)}else f=0;a=f?0:2}}return 0!=a||null!=m&&m.fd&&(a=ad(C)),a}var dr=64,bc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xc=24,yc=32,cd=8,ur=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(a){return a},Y.Predictor2=function(a,f,m){return f[m+0]},Y.Predictor3=function(a,f,m){return f[m+1]},Y.Predictor4=function(a,f,m){return f[m-1]},Y.Predictor5=function(a,f,m){return qe(qe(a,f[m+1]),f[m+0])},Y.Predictor6=function(a,f,m){return qe(a,f[m-1])},Y.Predictor7=function(a,f,m){return qe(a,f[m+0])},Y.Predictor8=function(a,f,m){return qe(f[m-1],f[m+0])},Y.Predictor9=function(a,f,m){return qe(f[m+0],f[m+1])},Y.Predictor10=function(a,f,m){return qe(qe(a,f[m-1]),qe(f[m+0],f[m+1]))},Y.Predictor11=function(a,f,m){var C=f[m+0];return 0>=Nt(C>>24&255,a>>24&255,(f=f[m-1])>>24&255)+Nt(C>>16&255,a>>16&255,f>>16&255)+Nt(C>>8&255,a>>8&255,f>>8&255)+Nt(255&C,255&a,255&f)?C:a},Y.Predictor12=function(a,f,m){var C=f[m+0];return(ht((a>>24&255)+(C>>24&255)-((f=f[m-1])>>24&255))<<24|ht((a>>16&255)+(C>>16&255)-(f>>16&255))<<16|ht((a>>8&255)+(C>>8&255)-(f>>8&255))<<8|ht((255&a)+(255&C)-(255&f)))>>>0},Y.Predictor13=function(a,f,m){var C=f[m-1];return(Qt((a=qe(a,f[m+0]))>>24&255,C>>24&255)<<24|Qt(a>>16&255,C>>16&255)<<16|Qt(a>>8&255,C>>8&255)<<8|Qt(a>>0&255,C>>0&255))>>>0};var Am=Y.PredictorAdd0;Y.PredictorAdd1=Rt,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var ld=Y.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(a){return a>>8&255},function(a){return a}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(a){return a},function(a){return a>>8&255});var Sh,fi=Y.ColorIndexInverseTransform,dd=Y.MapARGB,rm=Y.VP8LColorIndexInverseTransformAlpha,im=Y.MapAlpha,Vs=Y.VP8LPredictorsAdd=[];Vs.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var jr,gi,Ws,Hi,ls,Tc,mi,kc,ud,Xs,_i,ds,ta,Qc,na,$s,hd,Rr,us,Qn,Fn,tA,gA,hs,eo,Fc,Ih,h1,p1=s(511),f1=s(2041),g1=s(225),m1=s(767),_1=0,sm=f1,Mh=g1,Br=m1,Gr=p1,Eh=0,Lh=1,w1=2,Nh=3,Oh=4,om=5,v1=6,am=7,cm=8,Ph=9,lm=10,jC=[2,3,7],RC=[3,3,11],C1=[280,256,256,256,40],GC=[0,1,1,1,0],KC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],JC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],YC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qC=8,dm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],um=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pd=null,VC=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],B1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],XC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$C=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],to=[],wi=[],ps=[],nB=1,b1=2,no=[],Kr=[];ye("UpsampleRgbLinePair",$t,3),ye("UpsampleBgrLinePair",Hn,3),ye("UpsampleRgbaLinePair",pi,4),ye("UpsampleBgraLinePair",CA,4),ye("UpsampleArgbLinePair",PA,4),ye("UpsampleRgba4444LinePair",oA,2),ye("UpsampleRgb565LinePair",Jn,2);var AB=Y.UpsampleRgbLinePair,rB=Y.UpsampleBgrLinePair,x1=Y.UpsampleRgbaLinePair,y1=Y.UpsampleBgraLinePair,T1=Y.UpsampleArgbLinePair,k1=Y.UpsampleRgba4444LinePair,iB=Y.UpsampleRgb565LinePair,Dh=16,Hh=1<<Dh-1,fd=-227,hm=482,Q1=6,sB=(256<<Q1)-1,F1=0,oB=s(256),aB=s(256),cB=s(256),lB=s(256),dB=s(hm-fd),uB=s(hm-fd);cs("YuvToRgbRow",$t,3),cs("YuvToBgrRow",Hn,3),cs("YuvToRgbaRow",pi,4),cs("YuvToBgraRow",CA,4),cs("YuvToArgbRow",PA,4),cs("YuvToRgba4444Row",oA,2),cs("YuvToRgb565Row",Jn,2);var z1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zh=[0,2,8],hB=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(a,f,m,C,T){var F=Lh,z=new wc,S=new oi;z.ba=S,S.S=F,S.width=[S.width],S.height=[S.height];var L=S.width,H=S.height,ee=new is;if(null==ee||null==a)var he=2;else i(null!=ee),he=Cc(a,f,m,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(0!=he?L=0:(null!=L&&(L[0]=ee.width[0]),null!=H&&(H[0]=ee.height[0]),L=1),L){S.width=S.width[0],S.height=S.height[0],null!=C&&(C[0]=S.width),null!=T&&(T[0]=S.height);e:{if(C=new uc,(T=new td).data=a,T.w=f,T.ha=m,T.kd=1,f=[0],i(null!=T),(0==(a=Cc(T.data,T.w,T.ha,null,null,null,f,null,T))||7==a)&&f[0]&&(a=4),0==(f=a)){if(i(null!=z),C.data=T.data,C.w=T.w+T.offset,C.ha=T.ha-T.offset,C.put=Ei,C.ac=TA,C.bc=Li,C.ma=z,T.xa){if(null==(a=Zr())){z=1;break e}if(function(pe,se){var Le=[0],Be=[0],te=[0];t:for(;;){if(null==pe)return 0;if(null==se)return pe.a=2,0;if(pe.l=se,pe.a=0,fe(pe.m,se.data,se.w,se.ha),!vt(pe.m,Le,Be,te)){pe.a=3;break t}if(pe.xb=b1,se.width=Le[0],se.height=Be[0],!Pi(Le[0],Be[0],1,pe,null))break t;return 1}return i(0!=pe.a),0}(a,C)){if(C=0==(f=Bc(C.width,C.height,z.Oa,z.ba))){t:{C=a;n:for(;;){if(null==C){C=0;break t}if(i(null!=C.s.yc),i(null!=C.s.Ya),i(0<C.s.Wb),i(null!=(m=C.l)),i(null!=(T=m.ma)),0!=C.xb){if(C.ca=T.ba,C.tb=T.tb,i(null!=C.ca),!od(T.Oa,m,Nh)){C.a=2;break n}if(!Vo(C,m.width)||m.da)break n;if((m.da||fn(C.ca.S))&&le(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=C.ca.f.kb.F&&le()),C.Pb&&0<C.s.ua&&null==C.s.vb.X&&!bt(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!di(C,C.V,C.Ba,C.c,C.i,m.o,sc))break n;T.Dc=C.Ma,C=1;break t}i(0!=C.a),C=0}C=!C}C&&(f=a.a)}else f=a.a}else{if(null==(a=new Og)){z=1;break e}if(a.Fa=T.na,a.P=T.P,a.qc=T.Sa,gh(a,C)){if(0==(f=Bc(C.width,C.height,z.Oa,z.ba))){if(a.Aa=0,m=z.Oa,i(null!=(T=a)),null!=m){if(0<(L=0>(L=m.Md)?0:100<L?255:255*L/100)){for(H=ee=0;4>H;++H)12>(he=T.pb[H]).lc&&(he.ia=L*hB[0>he.lc?0:he.lc]>>3),ee|=he.ia;ee&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=m.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}(function Pg(a,f){if(null==a)return 0;if(null==f)return eA(a,2,"NULL VP8Io parameter in VP8Decode().");if(!a.cb&&!gh(a,f))return 0;if(i(a.cb),null==f.ac||f.ac(f)){f.ob&&(a.L=0);var m=Zh[a.L];if(2==a.L?(a.yb=0,a.zb=0):(a.yb=f.v-m>>4,a.zb=f.j-m>>4,0>a.yb&&(a.yb=0),0>a.zb&&(a.zb=0)),a.Va=f.o+15+m>>4,a.Hb=f.va+15+m>>4,a.Hb>a.za&&(a.Hb=a.za),a.Va>a.Ub&&(a.Va=a.Ub),0<a.L){var C=a.ed;for(m=0;4>m;++m){var T;if(a.Qa.Cb){var F=a.Qa.Lb[m];a.Qa.Fb||(F+=C.Tb)}else F=C.Tb;for(T=0;1>=T;++T){var z=a.gd[m][T],S=F;if(C.Pc&&(S+=C.vd[0],T&&(S+=C.od[0])),0<(S=0>S?0:63<S?63:S)){var L=S;0<C.wb&&(L=4<C.wb?L>>2:L>>1)>9-C.wb&&(L=9-C.wb),1>L&&(L=1),z.dd=L,z.tc=2*S+L,z.ld=40<=S?2:15<=S?1:0}else z.tc=0;z.La=T}}}m=0}else eA(a,6,"Frame setup failed"),m=a.a;if(m=0==m){if(m){a.$c=0,0<a.Aa||(a.Ic=1);e:{C=4*(L=a.za);var H=32*L,ee=L+1,he=0<a.L?L*(0<a.Aa?2:1):0,pe=(2==a.Aa?2:1)*L;if((z=C+832+(T=3*(16*(m=a.Ic)+Zh[a.L])/2*H)+(F=null!=a.Fa&&0<a.Fa.length?a.Kc.c*a.Kc.i:0))!=z)m=0;else{if(z>a.Vb){if(a.Vb=0,a.Ec=s(z),a.Fc=0,null==a.Ec){m=eA(a,1,"no memory during frame initialization.");break e}a.Vb=z}S=a.Fc,a.Ac=z=a.Ec,a.Bc=S,S+=C,a.Gd=o(H,ph),a.Hd=0,a.rb=o(ee+1,hh),a.sb=1,a.wa=he?o(he,dc):null,a.Y=0,a.D.Nb=0,a.D.wa=a.wa,a.D.Y=a.Y,0<a.Aa&&(a.D.Y+=L),i(!0),a.oc=z,a.pc=S,S+=832,a.ya=o(pe,Gl),a.aa=0,a.D.ya=a.ya,a.D.aa=a.aa,2==a.Aa&&(a.D.aa+=L),a.R=16*L,a.B=8*L,L=(H=Zh[a.L])*a.R,H=H/2*a.B,a.sa=z,a.ta=S+L,a.qa=a.sa,a.ra=a.ta+16*m*a.R+H,a.Ha=a.qa,a.Ia=a.ra+8*m*a.B+H,a.$c=0,S+=T,a.mb=F?z:null,a.nb=F?S:null,i(S+F<=a.Fc+a.Vb),Kl(a),n(a.Ac,a.Bc,0,C),m=1}}if(m){if(f.ka=0,f.y=a.sa,f.O=a.ta,f.f=a.qa,f.N=a.ra,f.ea=a.Ha,f.Vd=a.Ia,f.fa=a.R,f.Rc=a.B,f.F=null,f.J=0,!_1){for(m=-255;255>=m;++m)p1[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)f1[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)g1[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)m1[255+m]=0>m?0:255<m?255:m;_1=1}mi=Zg,kc=Dg,Xs=wh,_i=Hg,ds=vh,ud=_h,ta=Xl,Qc=$o,na=tm,$s=$l,hd=em,Rr=_c,us=ed,Qn=Fh,Fn=Qh,tA=as,gA=Js,hs=$g,wi[0]=Di,wi[1]=jg,wi[2]=Jg,wi[3]=Yg,wi[4]=bh,wi[5]=gc,wi[6]=xh,wi[7]=ql,wi[8]=Vg,wi[9]=qg,to[0]=Ch,to[1]=Gg,to[2]=os,to[3]=pc,to[4]=OA,to[5]=Kg,to[6]=Bh,ps[0]=Ks,ps[1]=Rg,ps[2]=Wg,ps[3]=Vl,ps[4]=Xo,ps[5]=Xg,ps[6]=Wl,m=1}else m=0}m&&(m=function(se,Le){for(se.M=0;se.M<se.Va;++se.M){var Be,te=se.Jc[se.M&se.Xb],re=se.m,Me=se;for(Be=0;Be<Me.za;++Be){var Oe=re,Ee=Me,ot=Ee.Ac,Ke=Ee.Bc+4*Be,_t=Ee.zc,Ye=Ee.ya[Ee.aa+Be];if(Ye.$b=Ee.Qa.Bb?Ce(Oe,Ee.Pa.jb[0])?2+Ce(Oe,Ee.Pa.jb[2]):Ce(Oe,Ee.Pa.jb[1]):0,Ee.kc&&(Ye.Ad=Ce(Oe,Ee.Bd)),Ye.Za=!Ce(Oe,145)+0,Ye.Za){var un=Ye.Ob,_n=0;for(Ee=0;4>Ee;++Ee){var rn,qt=_t[0+Ee];for(rn=0;4>rn;++rn){for(var xn=B1[Ce(Oe,(qt=$C[ot[Ke+rn]][qt])[0])];0<xn;)xn=B1[2*xn+Ce(Oe,qt[xn])];ot[Ke+rn]=qt=-xn}t(un,_n,ot,Ke,4),_n+=4,_t[0+Ee]=qt}}else qt=Ce(Oe,156)?Ce(Oe,128)?1:3:Ce(Oe,163)?2:0,Ye.Ob[0]=qt,n(ot,Ke,qt,4),n(_t,0,qt,4);Ye.Dd=Ce(Oe,142)?Ce(Oe,114)?Ce(Oe,183)?1:3:2:0}if(Me.m.Ka)return eA(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(Me=te,Oe=(re=se).rb[re.sb-1],ot=re.rb[re.sb+re.ja],Be=re.ya[re.aa+re.ja],Ke=re.kc?Be.Ad:0)Oe.la=ot.la=0,Be.Za||(Oe.Na=ot.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var Cn,Lt;if(Oe=ot,ot=Me,Ke=re.Pa.Xc,Ye=re.pb[(_t=re.ya[re.aa+re.ja]).$b],_n=re.rb[re.sb-1],qt=rn=0,n(Ee=_t.ad,un=0,0,384),_t.Za)var aA=0,hr=Ke[3];else{xn=s(16);var cA=Oe.Na+_n.Na;if(cA=pd(ot,Ke[1],cA,Ye.Eb,0,xn,0),Oe.Na=_n.Na=(0<cA)+0,1<cA)mi(xn,0,Ee,un);else{var pr=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)Ee[un+xn]=pr}aA=1,hr=Ke[0]}var wn=15&Oe.la,br=15&_n.la;for(xn=0;4>xn;++xn){var xr=1&br;for(pr=Lt=0;4>pr;++pr)wn=wn>>1|(xr=(cA=pd(ot,hr,cA=xr+(1&wn),Ye.Sc,aA,Ee,un))>aA)<<7,Lt=Lt<<2|(3<cA?3:1<cA?2:0!=Ee[un+0]),un+=16;wn>>=4,br=br>>1|xr<<7,rn=(rn<<8|Lt)>>>0}for(hr=wn,aA=br>>4,Cn=0;4>Cn;Cn+=2){for(Lt=0,wn=Oe.la>>4+Cn,br=_n.la>>4+Cn,xn=0;2>xn;++xn){for(xr=1&br,pr=0;2>pr;++pr)wn=wn>>1|(xr=0<(cA=pd(ot,Ke[2],cA=xr+(1&wn),Ye.Qc,0,Ee,un)))<<3,Lt=Lt<<2|(3<cA?3:1<cA?2:0!=Ee[un+0]),un+=16;wn>>=2,br=br>>1|xr<<5}qt|=Lt<<4*Cn,hr|=wn<<4<<Cn,aA|=(240&br)<<Cn}Oe.la=hr,_n.la=aA,_t.Hc=rn,_t.Gc=qt,_t.ia=43690&qt?0:Ye.ia,Ke=!(rn|qt)}if(0<re.L&&(re.wa[re.Y+re.ja]=re.gd[Be.$b][Be.Za],re.wa[re.Y+re.ja].La|=!Ke),Me.Ka)return eA(se,7,"Premature end-of-file encountered.")}if(Kl(se),re=Le,Me=1,Be=(te=se).D,Oe=0<te.L&&te.M>=te.zb&&te.M<=te.Va,0==te.Aa)e:{if(Be.M=te.M,Be.uc=Oe,sd(te,Be),Me=1,Be=(Lt=te.D).Nb,Oe=(qt=Zh[te.L])*te.R,Ke=te.sa,_t=te.ta-Oe+(xn=16*Be*te.R),Ye=te.qa,Ee=te.ra-(ot=qt/2*te.B)+(pr=8*Be*te.B),un=te.Ha,_n=te.Ia-ot+pr,br=0==(wn=Lt.M),rn=wn>=te.Va-1,2==te.Aa&&sd(te,Lt),Lt.uc)for(xr=(cA=te).D.M,i(cA.D.uc),Lt=cA.yb;Lt<cA.Hb;++Lt){hr=xr;var BA=(kA=(Yn=cA).D).Nb,kA=kA.wa[kA.Y+(aA=Lt)],KA=Yn.sa,Jr=Yn.ta+16*BA*(Cn=Yn.R)+16*aA,Zi=kA.dd,bA=kA.tc;if(0!=bA)if(i(3<=bA),1==Yn.L)0<aA&&tA(KA,Jr,Cn,bA+4),kA.La&&hs(KA,Jr,Cn,bA),0<hr&&Fn(KA,Jr,Cn,bA+4),kA.La&&gA(KA,Jr,Cn,bA);else{var fs=Yn.B,Aa=Yn.qa,zc=Yn.ra+8*BA*fs+8*aA,Ao=Yn.Ha,Yn=Yn.Ia+8*BA*fs+8*aA;BA=kA.ld,0<aA&&(Qc(KA,Jr,Cn,bA+4,Zi,BA),$s(Aa,zc,Ao,Yn,fs,bA+4,Zi,BA)),kA.La&&(Rr(KA,Jr,Cn,bA,Zi,BA),Qn(Aa,zc,Ao,Yn,fs,bA,Zi,BA)),0<hr&&(ta(KA,Jr,Cn,bA+4,Zi,BA),na(Aa,zc,Ao,Yn,fs,bA+4,Zi,BA)),kA.La&&(hd(KA,Jr,Cn,bA,Zi,BA),us(Aa,zc,Ao,Yn,fs,bA,Zi,BA))}}if(te.ia&&alert("todo:DitherRow"),null!=re.put){if(Lt=16*wn,wn=16*(wn+1),br?(re.y=te.sa,re.O=te.ta+xn,re.f=te.qa,re.N=te.ra+pr,re.ea=te.Ha,re.W=te.Ia+pr):(Lt-=qt,re.y=Ke,re.O=_t,re.f=Ye,re.N=Ee,re.ea=un,re.W=_n),rn||(wn-=qt),wn>re.o&&(wn=re.o),re.F=null,re.J=null,null!=te.Fa&&0<te.Fa.length&&Lt<wn&&(re.J=rd(te,re,Lt,wn-Lt),re.F=te.mb,null==re.F&&0==re.F.length)){Me=eA(te,3,"Could not decode alpha data.");break e}Lt<re.j&&(qt=re.j-Lt,Lt=re.j,i(!(1&qt)),re.O+=te.R*qt,re.N+=te.B*(qt>>1),re.W+=te.B*(qt>>1),null!=re.F&&(re.J+=re.width*qt)),Lt<wn&&(re.O+=re.v,re.N+=re.v>>1,re.W+=re.v>>1,null!=re.F&&(re.J+=re.v),re.ka=Lt-re.j,re.U=re.va-re.v,re.T=wn-Lt,Me=re.put(re))}Be+1!=te.Ic||rn||(t(te.sa,te.ta-Oe,Ke,_t+16*te.R,Oe),t(te.qa,te.ra-ot,Ye,Ee+8*te.B,ot),t(te.Ha,te.Ia-ot,un,_n+8*te.B,ot))}if(!Me)return eA(se,6,"Output aborted.")}return 1}(a,f)),null!=f.bc&&f.bc(f),m&=1}return m?(a.cb=0,m):0})(a,C)||(f=a.a)}}else f=a.a}0==f&&null!=z.Oa&&z.Oa.fd&&(f=ad(z.ba))}z=f}F=0!=z?null:11>F?S.f.RGBA.eb:S.f.kb.y}else F=null;return F};var U1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function _(Y,Qe){for(var Fe="",D=0;D<4;D++)Fe+=String.fromCharCode(Y[Qe++]);return Fe}function B(Y,Qe){return(Y[Qe+0]<<0|Y[Qe+1]<<8|Y[Qe+2]<<16)>>>0}function x(Y,Qe){return(Y[Qe+0]<<0|Y[Qe+1]<<8|Y[Qe+2]<<16|Y[Qe+3]<<24)>>>0}new p;var y=[0],v=[0],M=[],E=new p,Z=r,I=function(Y,Qe){var Fe={},D=0,P=!1,$=0,q=0;if(Fe.frames=[],!
/** @license
             * Copyright (c) 2017 Dominik Homberger
            Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
            The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
            THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
            https://webpjs.appspot.com
            WebPRiffParser dominikhlbg@gmail.com
            */
function(G,K,ne,ae){for(var ge=0;ge<4;ge++)if(G[K+ge]!="RIFF".charCodeAt(ge))return!0;return!1}(Y,Qe)){var be,ve;for(x(Y,Qe+=4),Qe+=8;Qe<Y.length;){var ke=_(Y,Qe),fe=x(Y,Qe+=4);Qe+=4;var Ue=fe+(1&fe);switch(ke){case"VP8 ":case"VP8L":void 0===Fe.frames[D]&&(Fe.frames[D]={}),(U=Fe.frames[D]).src_off=P?q:Qe-8,U.src_size=$+fe+8,D++,P&&(P=!1,$=0,q=0);break;case"VP8X":(U=Fe.header={}).feature_flags=Y[Qe];var ze=Qe+4;U.canvas_width=1+B(Y,ze),U.canvas_height=1+B(Y,ze+=3),ze+=3;break;case"ALPH":P=!0,$=Ue+8,q=Qe-8;break;case"ANIM":(U=Fe.header).bgcolor=x(Y,Qe),U.loop_count=(be=Y)[(ve=ze=Qe+4)+0]<<0|be[ve+1]<<8,ze+=2;break;case"ANMF":var et,U;(U=Fe.frames[D]={}).offset_x=2*B(Y,Qe),U.offset_y=2*B(Y,Qe+=3),U.width=1+B(Y,Qe+=3),U.height=1+B(Y,Qe+=3),U.duration=B(Y,Qe+=3),Qe+=3,et=Y[Qe++],U.dispose=1&et,U.blend=et>>1&1}"ANMF"!=ke&&(Qe+=Ue)}return Fe}}(Z,0);I.response=Z,I.rgbaoutput=!0,I.dataurl=!1;var j=I.header?I.header:null,X=I.frames?I.frames:null;if(j){j.loop_counter=j.loop_count,y=[j.canvas_height],v=[j.canvas_width];for(var ie=0;ie<X.length&&0!=X[ie].blend;ie++);}var _e=X[0],Se=E.WebPDecodeRGBA(Z,_e.src_off,_e.src_size,v,y);_e.rgba=Se,_e.imgwidth=v[0],_e.imgheight=y[0];for(var ue=0;ue<v[0]*y[0]*4;ue++)M[ue]=Se[ue];return this.width=v,this.height=y,this.data=M,this}(function(r){var A=function(y,v,M,E){var Z=4,I=o;switch(E){case r.image_compression.FAST:Z=1,I=s;break;case r.image_compression.MEDIUM:Z=6,I=h;break;case r.image_compression.SLOW:Z=9,I=p}var j=ks(y=t(y,v,M,I),{level:Z});return r.__addimage__.arrayBufferToBinaryString(j)},t=function(y,v,M,E){for(var Z,I,j,X=y.length/v,ie=new Uint8Array(y.length+X),_e=B(),Se=0;Se<X;Se+=1){if(Z=y.subarray(j=Se*v,j+v),E)ie.set(E(Z,M,I),j+Se);else{for(var ue,Y=_e.length,Qe=[];ue<Y;ue+=1)Qe[ue]=_e[ue](Z,M,I);var Fe=x(Qe.concat());ie.set(Qe[Fe],j+Se)}I=Z}return ie},n=function(y){var v=Array.apply([],y);return v.unshift(0),v},s=function(y,v){var E=[],Z=y.length;E[0]=1;for(var I=0;I<Z;I+=1)E[I+1]=y[I]-(y[I-v]||0)+256&255;return E},o=function(y,v,M){var Z=[],I=y.length;Z[0]=2;for(var j=0;j<I;j+=1)Z[j+1]=y[j]-(M&&M[j]||0)+256&255;return Z},h=function(y,v,M){var I=[],j=y.length;I[0]=3;for(var X=0;X<j;X+=1)I[X+1]=y[X]+256-((y[X-v]||0)+(M&&M[X]||0)>>>1)&255;return I},p=function(y,v,M){var j,X=[],ie=y.length;X[0]=4;for(var _e=0;_e<ie;_e+=1)j=_(y[_e-v]||0,M&&M[_e]||0,M&&M[_e-v]||0),X[_e+1]=y[_e]-j+256&255;return X},_=function(y,v,M){if(y===v&&v===M)return y;var E=Math.abs(v-M),Z=Math.abs(y-M),I=Math.abs(y+v-M-M);return E<=Z&&E<=I?y:Z<=I?v:M},B=function(){return[n,s,o,h,p]},x=function(y){var v=y.map(function(M){return M.reduce(function(E,Z){return E+Math.abs(Z)},0)});return v.indexOf(Math.min.apply(null,v))};r.processPNG=function(y,v,M,E){var Z,I,j,X,ie,_e,Se,ue,Y,Qe,Fe,D,P,$,q,be=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(j=new Ep(y)).imgData,I=j.bits,Z=j.colorSpace,ie=j.colors,-1!==[4,6].indexOf(j.colorType)){if(8===j.bits){Y=(ue=32==j.pixelBitlength?new Uint32Array(j.decodePixels().buffer):16==j.pixelBitlength?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,Fe=new Uint8Array(Y*j.colors),Qe=new Uint8Array(Y);var ke,fe=j.pixelBitlength-j.bits;for($=0,q=0;$<Y;$++){for(P=ue[$],ke=0;ke<fe;)Fe[q++]=P>>>ke&255,ke+=j.bits;Qe[$]=P>>>ke&255}}if(16===j.bits){Y=(ue=new Uint32Array(j.decodePixels().buffer)).length,Fe=new Uint8Array(Y*(32/j.pixelBitlength)*j.colors),Qe=new Uint8Array(Y*(32/j.pixelBitlength)),D=j.colors>1,$=0,q=0;for(var Ue=0;$<Y;)P=ue[$++],Fe[q++]=P>>>0&255,D&&(Fe[q++]=P>>>16&255,P=ue[$++],Fe[q++]=P>>>0&255),Qe[Ue++]=P>>>16&255;I=8}E!==r.image_compression.NONE?(y=A(Fe,j.width*j.colors,j.colors,E),Se=A(Qe,j.width,1,E)):(y=Fe,Se=Qe,be=void 0)}if(3===j.colorType&&(Z=this.color_spaces.INDEXED,_e=j.palette,j.transparency.indexed)){var ze=j.transparency.indexed,et=0;for($=0,Y=ze.length;$<Y;++$)et+=ze[$];if((et/=255)==Y-1&&-1!==ze.indexOf(0))X=[ze.indexOf(0)];else if(et!==Y){for(ue=j.decodePixels(),Qe=new Uint8Array(ue.length),$=0,Y=ue.length;$<Y;$++)Qe[$]=ze[ue[$]];Se=A(Qe,j.width,1)}}var U=function(G){var K;switch(G){case r.image_compression.FAST:K=11;break;case r.image_compression.MEDIUM:K=13;break;case r.image_compression.SLOW:K=14;break;default:K=12}return K}(E);return be===this.decode.FLATE_DECODE&&(ve="/Predictor "+U+" "),ve+="/Colors "+ie+" /BitsPerComponent "+I+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(Se&&this.__addimage__.isArrayBuffer(Se)||this.__addimage__.isArrayBufferView(Se))&&(Se=this.__addimage__.arrayBufferToBinaryString(Se)),{alias:M,data:y,index:v,filter:be,decodeParameters:ve,transparency:X,palette:_e,sMask:Se,predictor:U,width:j.width,height:j.height,bitsPerComponent:I,colorSpace:Z}}}})(gt.API),function(r){r.processGIF89A=function(i,A,t,n){var s=new Lp(i),o=s.width,h=s.height,p=[];s.decodeAndBlitFrameRGBA(0,p);var _={data:p,width:o,height:h},B=new fl(100).encode(_,100);return r.processJPEG.call(this,B,A,t,n)},r.processGIF87A=r.processGIF89A}(gt.API),rr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var i=0;i<r;i++){var A=this.datav.getUint8(this.pos++,!0),t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:n,green:t,blue:A,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},rr.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[r]()}catch(A){sn.log("bit decode error:"+A)}},rr.prototype.bit1=function(){var r,i=Math.ceil(this.width/8),A=i%4;for(r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,n=0;n<i;n++)for(var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+8*n*4,h=0;h<8&&8*n+h<this.width;h++){var p=this.palette[s>>7-h&1];this.data[o+4*h]=p.blue,this.data[o+4*h+1]=p.green,this.data[o+4*h+2]=p.red,this.data[o+4*h+3]=255}0!==A&&(this.pos+=4-A)}},rr.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),i=r%4,A=this.height-1;A>=0;A--){for(var t=this.bottom_up?A:this.height-1-A,n=0;n<r;n++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+2*n*4,p=15&s,_=this.palette[s>>4];if(this.data[o]=_.blue,this.data[o+1]=_.green,this.data[o+2]=_.red,this.data[o+3]=255,2*n+1>=this.width)break;this.data[o+4]=(_=this.palette[p]).blue,this.data[o+4+1]=_.green,this.data[o+4+2]=_.red,this.data[o+4+3]=255}0!==i&&(this.pos+=4-i)}},rr.prototype.bit8=function(){for(var r=this.width%4,i=this.height-1;i>=0;i--){for(var A=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=A*this.width*4+4*t;if(n<this.palette.length){var o=this.palette[n];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==r&&(this.pos+=4-r)}},rr.prototype.bit15=function(){for(var r=this.width%3,i=parseInt("11111",2),A=this.height-1;A>=0;A--){for(var t=this.bottom_up?A:this.height-1-A,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&i)/i*255|0,h=(s>>5&i)/i*255|0,_=s>>15?255:0,B=t*this.width*4+4*n;this.data[B]=(s>>10&i)/i*255|0,this.data[B+1]=h,this.data[B+2]=o,this.data[B+3]=_}this.pos+=r}},rr.prototype.bit16=function(){for(var r=this.width%3,i=parseInt("11111",2),A=parseInt("111111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&i)/i*255|0,p=(o>>5&A)/A*255|0,B=n*this.width*4+4*s;this.data[B]=(o>>11)/i*255|0,this.data[B+1]=p,this.data[B+2]=h,this.data[B+3]=255}this.pos+=r}},rr.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,A=0;A<this.width;A++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+4*A;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=t,this.data[o+3]=255}this.pos+=this.width%4}},rr.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var i=this.bottom_up?r:this.height-1-r,A=0;A<this.width;A++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+4*A;this.data[h]=s,this.data[h+1]=n,this.data[h+2]=t,this.data[h+3]=o}},rr.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2018 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.processBMP=function(i,A,t,n){var s=new rr(i,!1),o=s.width,h=s.height,p={data:s.getData(),width:o,height:h},_=new fl(100).encode(p,100);return r.processJPEG.call(this,_,A,t,n)}}(gt.API),mu.prototype.getData=function(){return this.data},
/**
       * @license
       * Copyright (c) 2019 Aras Abbasi
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){r.processWEBP=function(i,A,t,n){var s=new mu(i,!1),o=s.width,h=s.height,p={data:s.getData(),width:o,height:h},_=new fl(100).encode(p,100);return r.processJPEG.call(this,_,A,t,n)}}(gt.API),gt.API.processRGBA=function(r,i,A){for(var t=r.data,n=t.length,s=new Uint8Array(n/4*3),o=new Uint8Array(n/4),h=0,p=0,_=0;_<n;_+=4){var x=t[_+1],y=t[_+2],v=t[_+3];s[h++]=t[_],s[h++]=x,s[h++]=y,o[p++]=v}var M=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:M,index:i,alias:A,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},gt.API.setLanguage=function(r){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]&&(this.internal.languageSettings.languageCode=r,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Na=(Ls=gt.API).getCharWidthsArray=function(r,i){var A,t,n=(i=i||{}).font||this.internal.getFont(),s=i.fontSize||this.internal.getFontSize(),o=i.charSpace||this.internal.getCharSpace(),h=i.widths?i.widths:n.metadata.Unicode.widths,p=h.fof?h.fof:1,_=i.kerning?i.kerning:n.metadata.Unicode.kerning,B=_.fof?_.fof:1,x=!1!==i.doKerning,y=0,v=r.length,M=0,E=h[0]||p,Z=[];for(A=0;A<v;A++)t=r.charCodeAt(A),"function"==typeof n.metadata.widthOfString?Z.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(t))+o*(1e3/s)||0)/1e3):(y=x&&"object"===(0,en.Z)(_[t])&&!isNaN(parseInt(_[t][M],10))?_[t][M]/B:0,Z.push((h[t]||E)/p+y)),M=t;return Z},hu=Ls.getStringUnitWidth=function(r,i){var A=(i=i||{}).fontSize||this.internal.getFontSize(),t=i.font||this.internal.getFont(),n=i.charSpace||this.internal.getCharSpace();return Ls.processArabic&&(r=Ls.processArabic(r)),"function"==typeof t.metadata.widthOfString?t.metadata.widthOfString(r,A,n)/A:Na.apply(this,arguments).reduce(function(s,o){return s+o},0)},pu=function(r,i,A,t){for(var n=[],s=0,o=r.length,h=0;s!==o&&h+i[s]<A;)h+=i[s],s++;n.push(r.slice(0,s));var p=s;for(h=0;s!==o;)h+i[s]>t&&(n.push(r.slice(p,s)),h=0,p=s),h+=i[s],s++;return p!==s&&n.push(r.slice(p,s)),n},fu=function(r,i,A){A||(A={});var t,n,s,o,h,p,B=[],x=[B],y=A.textIndent||0,v=0,M=0,E=r.split(" "),Z=Na.apply(this,[" ",A])[0];if(p=-1===A.lineIndent?E[0].length+2:A.lineIndent||0){var I=Array(p).join(" "),j=[];E.map(function(ie){(ie=ie.split(/\s*\n/)).length>1?j=j.concat(ie.map(function(_e,Se){return(Se&&_e.length?"\n":"")+_e})):j.push(ie[0])}),E=j,p=hu.apply(this,[I,A])}for(s=0,o=E.length;s<o;s++){var X=0;if(t=E[s],p&&"\n"==t[0]&&(t=t.substr(1),X=1),y+v+(M=(n=Na.apply(this,[t,A])).reduce(function(ie,_e){return ie+_e},0))>i||X){if(M>i){for(h=pu.apply(this,[t,n,i-(y+v),i]),B.push(h.shift()),B=[h.pop()];h.length;)x.push([h.shift()]);M=n.slice(t.length-(B[0]?B[0].length:0)).reduce(function(ie,_e){return ie+_e},0)}else B=[t];x.push(B),y=M+p,v=Z}else B.push(t),y+=v+M,v=Z}return x.map(p?function(ie,_e){return(_e?I:"")+ie.join(" ")}:function(ie){return ie.join(" ")})},Ls.splitTextToSize=function(r,i,A){var t,n=(A=A||{}).fontSize||this.internal.getFontSize(),s=function(B){if(B.widths&&B.kerning)return{widths:B.widths,kerning:B.kerning};var x=this.internal.getFont(B.fontName,B.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,A);t=Array.isArray(r)?r:String(r).split(/\r?\n/);var o=1*this.internal.scaleFactor*i/n;s.textIndent=A.textIndent?1*A.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=A.lineIndent;var h,p,_=[];for(h=0,p=t.length;h<p;h++)_=_.concat(fu.apply(this,[t[h],o,s]));return _},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",A={},t={},n=0;n<16;n++)A[i[n]]="0123456789abcdef"[n],t["0123456789abcdef"[n]]=i[n];var s=function(x){return"0x"+parseInt(x,10).toString(16)},o=r.__fontmetrics__.compress=function(x){var y,v,M,E,Z=["{"];for(var I in x){if(y=x[I],isNaN(parseInt(I,10))?v="'"+I+"'":(I=parseInt(I,10),v=(v=s(I).slice(2)).slice(0,-1)+t[v.slice(-1)]),"number"==typeof y)y<0?(M=s(y).slice(3),E="-"):(M=s(y).slice(2),E=""),M=E+M.slice(0,-1)+t[M.slice(-1)];else{if("object"!==(0,en.Z)(y))throw new Error("Don't know what to do with value type "+(0,en.Z)(y)+".");M=o(y)}Z.push(v+M)}return Z.push("}"),Z.join("")},h=r.__fontmetrics__.uncompress=function(x){if("string"!=typeof x)throw new Error("Invalid argument passed to uncompress.");for(var y,v,M,E,Z={},I=1,j=Z,X=[],ie="",_e="",Se=x.length-1,ue=1;ue<Se;ue+=1)"'"==(E=x[ue])?y?(M=y.join(""),y=void 0):y=[]:y?y.push(E):"{"==E?(X.push([j,M]),j={},M=void 0):"}"==E?((v=X.pop())[0][v[1]]=j,M=void 0,j=v[0]):"-"==E?I=-1:void 0===M?A.hasOwnProperty(E)?(ie+=A[E],M=parseInt(ie,16)*I,I=1,ie=""):ie+=E:A.hasOwnProperty(E)?(_e+=A[E],j[M]=parseInt(_e,16)*I,I=1,M=void 0,_e=""):_e+=E;return Z},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},_={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},B={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var y=x.font,v=B.Unicode[y.postScriptName];v&&(y.metadata.Unicode={},y.metadata.Unicode.widths=v.widths,y.metadata.Unicode.kerning=v.kerning);var M=_.Unicode[y.postScriptName];M&&(y.metadata.Unicode.encoding=M,y.encoding=M.codePages[0])}])}(gt.API),
/**
       * @license
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(A){for(var t=A.length,n=new Uint8Array(t),s=0;s<t;s++)n[s]=A.charCodeAt(s);return n};r.API.events.push(["addFont",function(A){var o,h,t=void 0,n=A.font,s=A.instance;if(!n.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if("string"!=typeof(t=!1===s.existsFileInVFS(n.postScriptName)?s.loadFile(n.postScriptName):s.getFileFromVFS(n.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");o=n,h=/^\x00\x01\x00\x00/.test(h=t)?i(h):i(Ar(h)),o.metadata=r.API.TTFFont.open(h),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(gt),gt.API.addSvgAsImage=function(A,t,n,s,o,h,p,_){if(isNaN(t)||isNaN(n))throw sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var B=document.createElement("canvas");B.width=s,B.height=o;var x=B.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,B.width,B.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return function i(){return(mt.canvg?Promise.resolve(mt.canvg):oe.e(178).then(oe.bind(oe,78178))).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A})}().then(function(M){return M.fromString(x,A,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(M){return M.render(y)}).then(function(){v.addImage(B.toDataURL("image/jpeg",1),t,n,s,o,p,_)})},gt.API.putTotalPages=function(r){var i,A=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(r,"g"),A=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),A=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var t=1;t<=this.internal.getNumberOfPages();t++)for(var n=0;n<this.internal.pages[t].length;n++)this.internal.pages[t][n]=this.internal.pages[t][n].replace(i,A);return this},gt.API.viewerPreferences=function(r,i){var A;r=r||{},i=i||!1;var t,n,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(o),p=[],_=0,B=0,x=0;function y(M,E){var Z,I=!1;for(Z=0;Z<M.length;Z+=1)M[Z]===E&&(I=!0);return I}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),A=this.internal.viewerpreferences.configuration,"reset"===r||!0===i){var v=h.length;for(x=0;x<v;x+=1)A[h[x]].value=A[h[x]].defaultValue,A[h[x]].explicitSet=!1}if("object"===(0,en.Z)(r))for(n in r)if(s=r[n],y(h,n)&&void 0!==s){if("boolean"===A[n].type&&"boolean"==typeof s)A[n].value=s;else if("name"===A[n].type&&y(A[n].valueSet,s))A[n].value=s;else if("integer"===A[n].type&&Number.isInteger(s))A[n].value=s;else if("array"===A[n].type){for(_=0;_<s.length;_+=1)if(t=!0,1===s[_].length&&"number"==typeof s[_][0])p.push(String(s[_]-1));else if(s[_].length>1){for(B=0;B<s[_].length;B+=1)"number"!=typeof s[_][B]&&(t=!1);!0===t&&p.push([s[_][0]-1,s[_][1]-1].join(" "))}A[n].value="["+p.join(" ")+"]"}else A[n].value=A[n].defaultValue;A[n].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var M,E=[];for(M in A)!0===A[M].explicitSet&&E.push("name"===A[M].type?"/"+M+" /"+A[M].value:"/"+M+" "+A[M].value);0!==E.length&&this.internal.write("/ViewerPreferences\n<<\n"+E.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=A,this},
/** ====================================================================
       * @license
       * jsPDF XMP metadata plugin
       * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
       *
       * Permission is hereby granted, free of charge, to any person obtaining
       * a copy of this software and associated documentation files (the
       * "Software"), to deal in the Software without restriction, including
       * without limitation the rights to use, copy, modify, merge, publish,
       * distribute, sublicense, and/or sell copies of the Software, and to
       * permit persons to whom the Software is furnished to do so, subject to
       * the following conditions:
       *
       * The above copyright notice and this permission notice shall be
       * included in all copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
       * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
       * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
       * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
       * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
       * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
       * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
       * ====================================================================
       */
function(r){var i=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(t)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),_=s.length+o.length+h.length+n.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+_+" >>"),this.internal.write("stream"),this.internal.write(n+s+o+h+p),this.internal.write("endstream"),this.internal.write("endobj")},A=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(t,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",A),this.internal.events.subscribe("postPutResources",i)),this}}(gt.API),function(r){var i=r.API,A=i.pdfEscape16=function(s,o){for(var h,p=o.metadata.Unicode.widths,_=["","0","00","000","0000"],B=[""],x=0,y=s.length;x<y;++x){if(h=o.metadata.characterToGlyph(s.charCodeAt(x)),o.metadata.glyIdsUsed.push(h),o.metadata.toUnicode[h]=s.charCodeAt(x),-1==p.indexOf(h)&&(p.push(h),p.push([parseInt(o.metadata.widthOfGlyph(h),10)])),"0"==h)return B.join("");h=h.toString(16),B.push(_[4-h.length],h)}return B.join("")},t=function(s){var o,h,p,_,B,x,y;for(B="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",p=[],x=0,y=(h=Object.keys(s).sort(function(v,M){return v-M})).length;x<y;x++)o=h[x],p.length>=100&&(B+="\n"+p.length+" beginbfchar\n"+p.join("\n")+"\nendbfchar",p=[]),null!=s[o]&&"function"==typeof s[o].toString&&(_=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),p.push("<"+o+"><"+_+">"));return p.length&&(B+="\n"+p.length+" beginbfchar\n"+p.join("\n")+"\nendbfchar\n"),B+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(s){!function(o){var h=o.font,p=o.out,_=o.newObject,B=o.putStream;if(h.metadata instanceof r.API.TTFFont&&"Identity-H"===h.encoding){for(var x=h.metadata.Unicode.widths,y=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),v="",M=0;M<y.length;M++)v+=String.fromCharCode(y[M]);var E=_();B({data:v,addLength1:!0,objectId:E}),p("endobj");var Z=_();B({data:t(h.metadata.toUnicode),addLength1:!0,objectId:Z}),p("endobj");var I=_();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+Xr(h.fontName)),p("/FontFile2 "+E+" 0 R"),p("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),p("/Flags "+h.metadata.flags),p("/StemV "+h.metadata.stemV),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p(">>"),p("endobj");var j=_();p("<<"),p("/Type /Font"),p("/BaseFont /"+Xr(h.fontName)),p("/FontDescriptor "+I+" 0 R"),p("/W "+r.API.PDFObject.convert(x)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+h.encoding+")"),p(">>"),p(">>"),p("endobj"),h.objectNumber=_(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+Z+" 0 R"),p("/BaseFont /"+Xr(h.fontName)),p("/Encoding /"+h.encoding),p("/DescendantFonts ["+j+" 0 R]"),p(">>"),p("endobj"),h.isAlreadyPutted=!0}}(s)}]),i.events.push(["putFont",function(s){!function(o){var h=o.font,p=o.out,_=o.newObject,B=o.putStream;if(h.metadata instanceof r.API.TTFFont&&"WinAnsiEncoding"===h.encoding){for(var x=h.metadata.rawData,y="",v=0;v<x.length;v++)y+=String.fromCharCode(x[v]);var M=_();B({data:y,addLength1:!0,objectId:M}),p("endobj");var E=_();B({data:t(h.metadata.toUnicode),addLength1:!0,objectId:E}),p("endobj");var Z=_();p("<<"),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p("/StemV "+h.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+M+" 0 R"),p("/Flags 96"),p("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),p("/FontName /"+Xr(h.fontName)),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p(">>"),p("endobj"),h.objectNumber=_();for(var I=0;I<h.metadata.hmtx.widths.length;I++)h.metadata.hmtx.widths[I]=parseInt(h.metadata.hmtx.widths[I]*(1e3/h.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Xr(h.fontName)+"/FontDescriptor "+Z+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),p("endobj"),h.isAlreadyPutted=!0}}(s)}]);var n=function(s){var o,h=s.text||"",p=s.x,_=s.y,B=s.options||{},x=s.mutex||{},y=x.pdfEscape,v=x.activeFontKey,M=x.fonts,E=v,Z="",I=0,j="",X=M[E].encoding;if("Identity-H"!==M[E].encoding)return{text:h,x:p,y:_,options:B,mutex:x};for(j=h,E=v,Array.isArray(h)&&(j=h[0]),I=0;I<j.length;I+=1)M[E].metadata.hasOwnProperty("cmap")&&(o=M[E].metadata.cmap.unicode.codeMap[j[I].charCodeAt(0)]),o||j[I].charCodeAt(0)<256&&M[E].metadata.hasOwnProperty("Unicode")?Z+=j[I]:Z+="";var ie="";return parseInt(E.slice(1))<14||"WinAnsiEncoding"===X?ie=y(Z,E).split("").map(function(_e){return _e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===X&&(ie=A(Z,M[E])),x.isHex=!0,{text:ie,x:p,y:_,options:B,mutex:x}};i.events.push(["postProcessText",function(s){var o=s.text||"",h=[],p={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var _=0;for(_=0;_<o.length;_+=1)Array.isArray(o[_])&&3===o[_].length?h.push([n(Object.assign({},p,{text:o[_][0]})).text,o[_][1],o[_][2]]):h.push(n(Object.assign({},p,{text:o[_]})).text);s.text=h}else s.text=n(Object.assign({},p,{text:o})).text}])}(gt),
/**
       * @license
       * jsPDF virtual FileSystem functionality
       *
       * Licensed under the MIT License.
       * http://opensource.org/licenses/mit-license
       */
function(r){var i=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(A){return i.call(this),void 0!==this.internal.vFS[A]},r.addFileToVFS=function(A,t){return i.call(this),this.internal.vFS[A]=t,this},r.getFileFromVFS=function(A){return i.call(this),void 0!==this.internal.vFS[A]?this.internal.vFS[A]:null}}(gt.API),
/**
       * @license
       * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
       * MIT License
       */
function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(t){var n,s,o,h,p,_,B,x=i,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Z=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,X=0;this.__bidiEngine__={};var ie=function(D){var P=D.charCodeAt(),$=P>>8,q=E[$];return void 0!==q?x[256*q+(255&P)]:252===$||253===$?"AL":I.test($)?"L":8===$?"R":"N"},_e=function(D){for(var P,$=0;$<D.length;$++){if("L"===(P=ie(D.charAt($))))return!1;if("R"===P)return!0}return!1},Se=function(D,P,$,q){var be,ve,ke,fe,Ue=P[q];switch(Ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Ue="AN");break;case"AL":j=!0,Ue="R";break;case"WS":case"BN":Ue="N";break;case"CS":q<1||q+1>=P.length||"EN"!==(be=$[q-1])&&"AN"!==be||"EN"!==(ve=P[q+1])&&"AN"!==ve?Ue="N":j&&(ve="AN"),Ue=ve===be?ve:"N";break;case"ES":Ue="EN"===(be=q>0?$[q-1]:"B")&&q+1<P.length&&"EN"===P[q+1]?"EN":"N";break;case"ET":if(q>0&&"EN"===$[q-1]){Ue="EN";break}if(j){Ue="N";break}for(ke=q+1,fe=P.length;ke<fe&&"ET"===P[ke];)ke++;Ue=ke<fe&&"EN"===P[ke]?"EN":"N";break;case"NSM":if(o&&!h){for(fe=P.length,ke=q+1;ke<fe&&"NSM"===P[ke];)ke++;if(ke<fe){var ze=D[q];if(be=P[ke],(ze>=1425&&ze<=2303||64286===ze)&&("R"===be||"AL"===be)){Ue="R";break}}}Ue=q<1||"B"===(be=P[q-1])?"N":$[q-1];break;case"B":j=!1,n=!0,Ue=X;break;case"S":s=!0,Ue="N"}return Ue},ue=function(D,P,$){var q=D.split("");return $&&Y(q,$,{hiLevel:X}),q.reverse(),P&&P.reverse(),q.join("")},Y=function(D,P,$){var q,be,ve,ke,fe,Ue=-1,ze=D.length,et=0,U=[],G=X?v:y,K=[];for(j=!1,n=!1,s=!1,be=0;be<ze;be++)K[be]=ie(D[be]);for(ve=0;ve<ze;ve++){if(fe=et,U[ve]=Se(D,K,U,ve),q=240&(et=G[fe][M[U[ve]]]),P[ve]=ke=G[et&=15][5],q>0)if(16===q){for(be=Ue;be<ve;be++)P[be]=1;Ue=-1}else Ue=-1;if(G[et][6])-1===Ue&&(Ue=ve);else if(Ue>-1){for(be=Ue;be<ve;be++)P[be]=ke;Ue=-1}"B"===K[ve]&&(P[ve]=0),$.hiLevel|=ke}s&&function(ne,ae,ge){for(var we=0;we<ge;we++)if("S"===ne[we]){ae[we]=X;for(var Ce=we-1;Ce>=0&&"WS"===ne[Ce];Ce--)ae[Ce]=X}}(K,P,ze)},Qe=function(D,P,$,q,be){if(!(be.hiLevel<D)){if(1===D&&1===X&&!n)return P.reverse(),void($&&$.reverse());for(var ve,ke,fe,Ue,ze=P.length,et=0;et<ze;){if(q[et]>=D){for(fe=et+1;fe<ze&&q[fe]>=D;)fe++;for(Ue=et,ke=fe-1;Ue<ke;Ue++,ke--)ve=P[Ue],P[Ue]=P[ke],P[ke]=ve,$&&(ve=$[Ue],$[Ue]=$[ke],$[ke]=ve);et=fe}et++}}},Fe=function(D,P,$){var q=D.split(""),be={hiLevel:X};return $||($=[]),Y(q,$,be),function(ve,ke,fe){if(0!==fe.hiLevel&&B)for(var Ue,ze=0;ze<ve.length;ze++)1===ke[ze]&&(Ue=Z.indexOf(ve[ze]))>=0&&(ve[ze]=Z[Ue+1])}(q,$,be),Qe(2,q,P,$,be),Qe(1,q,P,$,be),q.join("")};return this.__bidiEngine__.doBidiReorder=function(D,P,$){if(function(be,ve){if(ve)for(var ke=0;ke<be.length;ke++)ve[ke]=ke;void 0===h&&(h=_e(be)),void 0===_&&(_=_e(be))}(D,P),o||!p||_)if(o&&p&&h^_)X=h?1:0,D=ue(D,P,$);else if(!o&&p&&_)X=h?1:0,D=Fe(D,P,$),D=ue(D,P);else if(!o||h||p||_){if(o&&!p&&h^_)D=ue(D,P),h?(X=0,D=Fe(D,P,$)):(X=1,D=Fe(D,P,$),D=ue(D,P));else if(o&&h&&!p&&_)X=1,D=Fe(D,P,$),D=ue(D,P);else if(!o&&!p&&h^_){var q=B;h?(X=1,D=Fe(D,P,$),X=0,B=!1,D=Fe(D,P,$),B=q):(X=0,D=Fe(D,P,$),D=ue(D,P),X=1,B=!1,D=Fe(D,P,$),B=q,D=ue(D,P))}}else X=0,D=Fe(D,P,$);else X=h?1:0,D=Fe(D,P,$);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,p=D.isOutputVisual,h=D.isInputRtl,_=D.isOutputRtl,B=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],A=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(t){var n=t.text,s=t.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,A.setOptions(s),"[object Array]"===Object.prototype.toString.call(n)){var h=0;for(o=[],h=0;h<n.length;h+=1)"[object Array]"===Object.prototype.toString.call(n[h])?o.push([A.doBidiReorder(n[h][0]),n[h][1],n[h][2]]):o.push([A.doBidiReorder(n[h])]);t.text=o}else t.text=A.doBidiReorder(n);A.setOptions({isInputVisual:!0})}])}(gt),gt.API.TTFFont=function(){function r(i){var A;if(this.rawData=i,A=this.contents=new ki(i),this.contents.pos=4,"ttcf"===A.readString(4))throw new Error("TTCF not supported.");A.pos=0,this.parse(),this.subset=new Bu(this),this.registerTTF()}return r.open=function(i){return new r(i)},r.prototype.parse=function(){return this.directory=new Oa(this.contents),this.head=new _u(this),this.name=new Zp(this),this.cmap=new vu(this),this.toUnicode={},this.hhea=new Op(this),this.maxp=new jp(this),this.hmtx=new Xn(this),this.post=new Dp(this),this.os2=new Pp(this),this.loca=new Jp(this),this.glyf=new Rp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var A,t,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,h,p,_;for(_=[],o=0,h=(p=this.bbox).length;o<h;o++)_.push(Math.round(p[o]*this.scaleFactor));return _}.call(this),this.stemV=0,this.post.exists?(t=255&(n=this.post.italic_angle),32768&(A=n>>16)&&(A=-(1+(65535^A))),this.italicAngle=+(A+"."+t)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(i){var A;return(null!=(A=this.cmap.unicode)?A.codeMap[i]:void 0)||0},r.prototype.widthOfGlyph=function(i){var A;return A=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*A},r.prototype.widthOfString=function(i,A,t){var n,s,o,h;for(o=0,s=0,h=(i=""+i).length;0<=h?s<h:s>h;s=0<=h?++s:--s)n=i.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(n))+t*(1e3/A)||0;return o*(A/1e3)},r.prototype.lineHeight=function(i,A){return null==A&&(A=!1),(this.ascender+(A?this.lineGap:0)-this.decender)/1e3*i},r}();var gr,ki=function(){function r(i){this.data=i??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(i){return this.data[this.pos++]=i},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},r.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},r.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},r.prototype.readString=function(i){var A,t;for(t=[],A=0;0<=i?A<i:A>i;A=0<=i?++A:--A)t[A]=String.fromCharCode(this.readByte());return t.join("")},r.prototype.writeString=function(i){var A,t,n;for(n=[],A=0,t=i.length;0<=t?A<t:A>t;A=0<=t?++A:--A)n.push(this.writeByte(i.charCodeAt(A)));return n},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(i){return this.writeInt16(i)},r.prototype.readLongLong=function(){var i,A,t,n,s,o,h,p;return i=this.readByte(),A=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),h=this.readByte(),p=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^A)+1099511627776*(255^t)+4294967296*(255^n)+16777216*(255^s)+65536*(255^o)+256*(255^h)+(255^p)+1):72057594037927940*i+281474976710656*A+1099511627776*t+4294967296*n+16777216*s+65536*o+256*h+p},r.prototype.writeLongLong=function(i){var A,t;return A=Math.floor(i/4294967296),t=4294967295&i,this.writeByte(A>>24&255),this.writeByte(A>>16&255),this.writeByte(A>>8&255),this.writeByte(255&A),this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(i){return this.writeInt32(i)},r.prototype.read=function(i){var A,t;for(A=[],t=0;0<=i?t<i:t>i;t=0<=i?++t:--t)A.push(this.readByte());return A},r.prototype.write=function(i){var t,n,s;for(s=[],t=0,n=i.length;t<n;t++)s.push(this.writeByte(i[t]));return s},r}(),Oa=function(){var r;function i(A){var t,n,s;for(this.scalarType=A.readInt(),this.tableCount=A.readShort(),this.searchRange=A.readShort(),this.entrySelector=A.readShort(),this.rangeShift=A.readShort(),this.tables={},n=0,s=this.tableCount;0<=s?n<s:n>s;n=0<=s?++n:--n)t={tag:A.readString(4),checksum:A.readInt(),offset:A.readInt(),length:A.readInt()},this.tables[t.tag]=t}return i.prototype.encode=function(A){var t,n,o,h,p,_,B,x,y,v,M,E;for(E in v=Object.keys(A).length,p=Math.log(2),x=16*Math.floor(Math.log(v)/p),o=Math.floor(x/p),B=16*v-x,(n=new ki).writeInt(this.scalarType),n.writeShort(v),n.writeShort(x),n.writeShort(o),n.writeShort(B),_=n.pos+16*v,h=null,M=[],A)for(y=A[E],n.writeString(E),n.writeInt(r(y)),n.writeInt(_),n.writeInt(y.length),M=M.concat(y),"head"===E&&(h=_),_+=y.length;_%4;)M.push(0),_++;return n.write(M),t=2981146554-r(n.data),n.pos=h+8,n.writeUInt32(t),n.data},r=function(A){var t,n,s,o;for(A=Cu.call(A);A.length%4;)A.push(0);for(s=new ki(A),n=0,t=0,o=A.length;t<o;t=t+=4)n+=s.readUInt32();return 4294967295&n},i}(),Np={}.hasOwnProperty,Sr=function(r,i){for(var A in i)Np.call(i,A)&&(r[A]=i[A]);function t(){this.constructor=r}return t.prototype=i.prototype,r.prototype=new t,r.__super__=i.prototype,r};gr=function(){function r(i){var A;this.file=i,this.exists=!!(A=this.file.directory.tables[this.tag]),A&&(this.offset=A.offset,this.length=A.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var _u=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="head",i.prototype.parse=function(A){return A.pos=this.offset,this.version=A.readInt(),this.revision=A.readInt(),this.checkSumAdjustment=A.readInt(),this.magicNumber=A.readInt(),this.flags=A.readShort(),this.unitsPerEm=A.readShort(),this.created=A.readLongLong(),this.modified=A.readLongLong(),this.xMin=A.readShort(),this.yMin=A.readShort(),this.xMax=A.readShort(),this.yMax=A.readShort(),this.macStyle=A.readShort(),this.lowestRecPPEM=A.readShort(),this.fontDirectionHint=A.readShort(),this.indexToLocFormat=A.readShort(),this.glyphDataFormat=A.readShort()},i.prototype.encode=function(A){var t;return(t=new ki).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(A),t.writeShort(this.glyphDataFormat),t.data},i}(),wu=function(){function r(i,A){var t,n,s,o,h,p,_,B,x,y,v,M,E,Z,I,j,X;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=A+i.readInt(),x=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=i.readByte();break;case 4:for(v=i.readUInt16(),y=v/2,i.pos+=6,s=function(){var ie,_e;for(_e=[],p=ie=0;0<=y?ie<y:ie>y;p=0<=y?++ie:--ie)_e.push(i.readUInt16());return _e}(),i.pos+=2,E=function(){var ie,_e;for(_e=[],p=ie=0;0<=y?ie<y:ie>y;p=0<=y?++ie:--ie)_e.push(i.readUInt16());return _e}(),_=function(){var ie,_e;for(_e=[],p=ie=0;0<=y?ie<y:ie>y;p=0<=y?++ie:--ie)_e.push(i.readUInt16());return _e}(),B=function(){var ie,_e;for(_e=[],p=ie=0;0<=y?ie<y:ie>y;p=0<=y?++ie:--ie)_e.push(i.readUInt16());return _e}(),n=(this.length-i.pos+this.offset)/2,h=function(){var ie,_e;for(_e=[],p=ie=0;0<=n?ie<n:ie>n;p=0<=n?++ie:--ie)_e.push(i.readUInt16());return _e}(),p=I=0,X=s.length;I<X;p=++I)for(Z=s[p],t=j=M=E[p];M<=Z?j<=Z:j>=Z;t=M<=Z?++j:--j)0===B[p]?o=t+_[p]:0!==(o=h[B[p]/2+(t-M)-(y-p)]||0)&&(o+=_[p]),this.codeMap[t]=65535&o}i.pos=x}return r.encode=function(i,A){var t,n,s,o,h,p,_,B,x,y,v,M,E,Z,I,j,X,_e,Se,ue,Y,Qe,Fe,D,P,$,q,be,ve,ke,fe,Ue,ze,et,U,G,K,ne,ae,ge,we,Ce,Re,je,rt;switch(q=new ki,o=Object.keys(i).sort(function(at,bt){return at-bt}),A){case"macroman":for(E=0,Z=function(){var at=[];for(M=0;M<256;++M)at.push(0);return at}(),j={0:0},s={},be=0,Ue=o.length;be<Ue;be++)null==j[Ce=i[n=o[be]]]&&(j[Ce]=++E),s[n]={old:i[n],new:j[i[n]]},Z[n]=j[i[n]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(Z),{charMap:s,subtable:q.data,maxGlyphID:E+1};case"unicode":for(P=[],x=[],X=0,j={},t={},I=_=null,ve=0,ze=o.length;ve<ze;ve++)null==j[_e=i[n=o[ve]]]&&(j[_e]=++X),t[n]={old:_e,new:j[_e]},h=j[_e]-n,null!=I&&h===_||(I&&x.push(I),P.push(n),_=h),I=n;for(I&&x.push(I),x.push(65535),P.push(65535),Fe=2*(Qe=P.length),Y=2*Math.pow(Math.log(Qe)/Math.LN2,2),y=Math.log(Y/2)/Math.LN2,ue=2*Qe-Y,p=[],Se=[],v=[],M=ke=0,et=P.length;ke<et;M=++ke){if(B=x[M],65535===(D=P[M])){p.push(0),Se.push(0);break}if(D-($=t[D].new)>=32768)for(p.push(0),Se.push(2*(v.length+Qe-M)),n=fe=D;D<=B?fe<=B:fe>=B;n=D<=B?++fe:--fe)v.push(t[n].new);else p.push($-D),Se.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*Qe+2*v.length),q.writeUInt16(0),q.writeUInt16(Fe),q.writeUInt16(Y),q.writeUInt16(y),q.writeUInt16(ue),ge=0,U=x.length;ge<U;ge++)q.writeUInt16(n=x[ge]);for(q.writeUInt16(0),we=0,G=P.length;we<G;we++)q.writeUInt16(n=P[we]);for(Re=0,K=p.length;Re<K;Re++)q.writeUInt16(h=p[Re]);for(je=0,ne=Se.length;je<ne;je++)q.writeUInt16(Se[je]);for(rt=0,ae=v.length;rt<ae;rt++)q.writeUInt16(E=v[rt]);return{charMap:t,subtable:q.data,maxGlyphID:X+1}}},r}(),vu=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="cmap",i.prototype.parse=function(A){var t,n,s;for(A.pos=this.offset,this.version=A.readUInt16(),s=A.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)t=new wu(A,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},i.encode=function(A,t){var n,s;return null==t&&(t="macroman"),n=wu.encode(A,t),(s=new ki).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},i}(),Op=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="hhea",i.prototype.parse=function(A){return A.pos=this.offset,this.version=A.readInt(),this.ascender=A.readShort(),this.decender=A.readShort(),this.lineGap=A.readShort(),this.advanceWidthMax=A.readShort(),this.minLeftSideBearing=A.readShort(),this.minRightSideBearing=A.readShort(),this.xMaxExtent=A.readShort(),this.caretSlopeRise=A.readShort(),this.caretSlopeRun=A.readShort(),this.caretOffset=A.readShort(),A.pos+=8,this.metricDataFormat=A.readShort(),this.numberOfMetrics=A.readUInt16()},i}(),Pp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="OS/2",i.prototype.parse=function(A){if(A.pos=this.offset,this.version=A.readUInt16(),this.averageCharWidth=A.readShort(),this.weightClass=A.readUInt16(),this.widthClass=A.readUInt16(),this.type=A.readShort(),this.ySubscriptXSize=A.readShort(),this.ySubscriptYSize=A.readShort(),this.ySubscriptXOffset=A.readShort(),this.ySubscriptYOffset=A.readShort(),this.ySuperscriptXSize=A.readShort(),this.ySuperscriptYSize=A.readShort(),this.ySuperscriptXOffset=A.readShort(),this.ySuperscriptYOffset=A.readShort(),this.yStrikeoutSize=A.readShort(),this.yStrikeoutPosition=A.readShort(),this.familyClass=A.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(A.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(A.readInt());return n}(),this.vendorID=A.readString(4),this.selection=A.readShort(),this.firstCharIndex=A.readShort(),this.lastCharIndex=A.readShort(),this.version>0&&(this.ascent=A.readShort(),this.descent=A.readShort(),this.lineGap=A.readShort(),this.winAscent=A.readShort(),this.winDescent=A.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(A.readInt());return n}(),this.version>1))return this.xHeight=A.readShort(),this.capHeight=A.readShort(),this.defaultChar=A.readShort(),this.breakChar=A.readShort(),this.maxContext=A.readShort()},i}(),Dp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="post",i.prototype.parse=function(A){var t,n,s;switch(A.pos=this.offset,this.format=A.readInt(),this.italicAngle=A.readInt(),this.underlinePosition=A.readShort(),this.underlineThickness=A.readShort(),this.isFixedPitch=A.readInt(),this.minMemType42=A.readInt(),this.maxMemType42=A.readInt(),this.minMemType1=A.readInt(),this.maxMemType1=A.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=A.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(A.readUInt16());for(this.names=[],s=[];A.pos<this.offset+this.length;)t=A.readByte(),s.push(this.names.push(A.readString(t)));return s;case 151552:return n=A.readUInt16(),this.offsets=A.read(n);case 262144:return this.map=function(){var h,p,_;for(_=[],o=h=0,p=this.file.maxp.numGlyphs;0<=p?h<p:h>p;o=0<=p?++h:--h)_.push(A.readUInt32());return _}.call(this)}},i}(),Hp=function(r,i){this.raw=r,this.length=r.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},Zp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="name",i.prototype.parse=function(A){var t,n,s,o,h,p,_,B,x,y,v;for(A.pos=this.offset,A.readShort(),t=A.readShort(),p=A.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:A.readShort(),encodingID:A.readShort(),languageID:A.readShort(),nameID:A.readShort(),length:A.readShort(),offset:this.offset+p+A.readShort()});for(_={},o=x=0,y=n.length;x<y;o=++x)A.pos=(s=n[o]).offset,B=A.readString(s.length),h=new Hp(B,s),null==_[v=s.nameID]&&(_[v]=[]),_[s.nameID].push(h);this.strings=_,this.copyright=_[0],this.fontFamily=_[1],this.fontSubfamily=_[2],this.uniqueSubfamily=_[3],this.fontName=_[4],this.version=_[5];try{this.postscriptName=_[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=_[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=_[7],this.manufacturer=_[8],this.designer=_[9],this.description=_[10],this.vendorUrl=_[11],this.designerUrl=_[12],this.license=_[13],this.licenseUrl=_[14],this.preferredFamily=_[15],this.preferredSubfamily=_[17],this.compatibleFull=_[18],this.sampleText=_[19]},i}(),jp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="maxp",i.prototype.parse=function(A){return A.pos=this.offset,this.version=A.readInt(),this.numGlyphs=A.readUInt16(),this.maxPoints=A.readUInt16(),this.maxContours=A.readUInt16(),this.maxCompositePoints=A.readUInt16(),this.maxComponentContours=A.readUInt16(),this.maxZones=A.readUInt16(),this.maxTwilightPoints=A.readUInt16(),this.maxStorage=A.readUInt16(),this.maxFunctionDefs=A.readUInt16(),this.maxInstructionDefs=A.readUInt16(),this.maxStackElements=A.readUInt16(),this.maxSizeOfInstructions=A.readUInt16(),this.maxComponentElements=A.readUInt16(),this.maxComponentDepth=A.readUInt16()},i}(),Xn=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="hmtx",i.prototype.parse=function(A){var t,n,s,h,p,_;for(A.pos=this.offset,this.metrics=[],t=0,p=this.file.hhea.numberOfMetrics;0<=p?t<p:t>p;t=0<=p?++t:--t)this.metrics.push({advance:A.readUInt16(),lsb:A.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var B,x;for(x=[],t=B=0;0<=s?B<s:B>s;t=0<=s?++B:--B)x.push(A.readInt16());return x}(),this.widths=function(){var B,x,y,v;for(v=[],B=0,x=(y=this.metrics).length;B<x;B++)v.push(y[B].advance);return v}.call(this),n=this.widths[this.widths.length-1],_=[],t=h=0;0<=s?h<s:h>s;t=0<=s?++h:--h)_.push(this.widths.push(n));return _},i.prototype.forGlyph=function(A){return A in this.metrics?this.metrics[A]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[A-this.metrics.length]}},i}(),Cu=[].slice,Rp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(A){var t,n,s,o,h,p,_,B,x,y;return A in this.cache?this.cache[A]:(t=this.file.contents,n=(o=this.file.loca).indexOf(A),0===(s=o.lengthOf(A))?this.cache[A]=null:(t.pos=this.offset+n,h=(p=new ki(t.read(s))).readShort(),B=p.readShort(),y=p.readShort(),_=p.readShort(),x=p.readShort(),this.cache[A]=-1===h?new Kp(p,B,y,_,x):new Gp(p,h,B,y,_,x),this.cache[A]))},i.prototype.encode=function(A,t,n){var s,o,h,p,_;for(h=[],o=[],p=0,_=t.length;p<_;p++)s=A[t[p]],o.push(h.length),s&&(h=h.concat(s.encode(n)));return o.push(h.length),{table:h,offsets:o}},i}(),Gp=function(){function r(i,A,t,n,s,o){this.raw=i,this.numberOfContours=A,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),Kp=function(){function r(i,A,t,n,s){var o,h;for(this.raw=i,this.xMin=A,this.yMin=t,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;h=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&h;)o.pos+=1&h?4:2,128&h?o.pos+=8:64&h?o.pos+=4:8&h&&(o.pos+=2)}return r.prototype.encode=function(){var i,A,t;for(A=new ki(Cu.call(this.raw.data)),i=0,t=this.glyphIDs.length;i<t;++i)A.pos=this.glyphOffsets[i];return A.data},r}(),Jp=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return Sr(i,gr),i.prototype.tag="loca",i.prototype.parse=function(A){var n;return A.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=2)o.push(2*A.readUInt16());return o}.call(this):function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=4)o.push(A.readUInt32());return o}.call(this)},i.prototype.indexOf=function(A){return this.offsets[A]},i.prototype.lengthOf=function(A){return this.offsets[A+1]-this.offsets[A]},i.prototype.encode=function(A,t){for(var n=new Uint32Array(this.offsets.length),s=0,o=0,h=0;h<n.length;++h)if(n[h]=s,o<t.length&&t[o]==h){++o,n[h]=s;var _=this.offsets[h+1]-this.offsets[h];_>0&&(s+=_)}for(var B=new Array(4*n.length),x=0;x<n.length;++x)B[4*x+3]=255&n[x],B[4*x+2]=(65280&n[x])>>8,B[4*x+1]=(16711680&n[x])>>16,B[4*x]=(4278190080&n[x])>>24;return B},i}(),Bu=function(){function r(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var i,A,n,s;for(A in n=this.font.cmap.tables[0].codeMap,i={},s=this.subset)i[A]=n[s[A]];return i},r.prototype.glyphsFor=function(i){var A,t,n,s,o,h,p;for(n={},o=0,h=i.length;o<h;o++)n[s=i[o]]=this.font.glyf.glyphFor(s);for(s in A=[],n)null!=(t=n[s])&&t.compound&&A.push.apply(A,t.glyphIDs);if(A.length>0)for(s in p=this.glyphsFor(A))n[s]=t=p[s];return n},r.prototype.encode=function(i,A){var t,n,s,o,p,_,B,x,y,v,M,E,Z,I;for(n in t=vu.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(i),v={0:0},I=t.charMap)v[(p=I[n]).old]=p.new;for(M in y=t.maxGlyphID,o)M in v||(v[M]=y++);return B=function(j){var X,ie;for(X in ie={},j)ie[j[X]]=X;return ie}(v),x=Object.keys(B).sort(function(j,X){return j-X}),E=function(){var j,X,ie;for(ie=[],j=0,X=x.length;j<X;j++)ie.push(B[x[j]]);return ie}(),s=this.font.glyf.encode(o,E,v),_=this.font.loca.encode(s.offsets,E),Z={cmap:this.font.cmap.raw(),glyf:s.table,loca:_,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(A)},this.font.os2.exists&&(Z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Z)},r}();gt.API.PDFObject=function(){var r;function i(){}return r=function(A,t){return(Array(t+1).join("0")+A).slice(-t)},i.convert=function(A){var n,s;if(Array.isArray(A))return"["+function(){var h,p,_;for(_=[],h=0,p=A.length;h<p;h++)_.push(i.convert(A[h]));return _}().join(" ")+"]";if("string"==typeof A)return"/"+A;if(A?.isString)return"("+A+")";if(A instanceof Date)return"(D:"+r(A.getUTCFullYear(),4)+r(A.getUTCMonth(),2)+r(A.getUTCDate(),2)+r(A.getUTCHours(),2)+r(A.getUTCMinutes(),2)+r(A.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(A)){for(n in s=["<<"],A)s.push("/"+n+" "+i.convert(A[n]));return s.push(">>"),s.join("\n")}return""+A},i}();const gl=gt;var Yp=oe(74456),ml=oe.n(Yp),_l=oe(26857),Pa=oe(69862);let $r=(()=>{var r;class i extends _l.P{constructor(t){super(),this.http=t,this.root=`${this.API_BASE_URL}/project-insights`}getProjectOverviewData(t,n){return this._get(this.http,`${this.root}/${t}?archived=${n}`)}getLastUpdatedTasks(t,n){return this._get(this.http,`${this.root}/last-updated/${t}?archived=${n}`)}getProjectLogs(t){return this._get(this.http,`${this.root}/logs/${t}`)}getTaskStatusCounts(t,n){return this._get(this.http,`${this.root}/status-overview/${t}?archived=${n}`)}getPriorityOverview(t,n){return this._get(this.http,`${this.root}/priority-overview/${t}?archived=${n}`)}getOverdueTasks(t,n){return this._get(this.http,`${this.root}/overdue-tasks/${t}?archived=${n}`)}getTasksCompletedEarly(t,n){return this._get(this.http,`${this.root}/early-tasks/${t}?archived=${n}`)}getTasksCompletedLate(t,n){return this._get(this.http,`${this.root}/late-tasks/${t}?archived=${n}`)}getMemberInsightAStats(t,n){return this._get(this.http,`${this.root}/members/stats/${t}?archived=${n}`)}getMemberTasks(t){return this._post(this.http,`${this.root}/members/tasks`,t)}getProjectDeadlineStats(t,n){return this._get(this.http,`${this.root}/deadline/${t}?archived=${n}`)}getOverloggedTasks(t,n){return this._get(this.http,`${this.root}/overlogged-tasks/${t}?archived=${n}`)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.LFG(Pa.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var Kt=oe(975),Xe=oe(85236),Uo=oe(46619);function qp(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e._UZ(3,"img",8),e.qZA()(),e.TgZ(4,"nz-col",1)(5,"h5",9),e._uU(6,"Project Members"),e.qZA(),e.TgZ(7,"h2",10),e._uU(8),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(4),e.Oqu(A.memberStats.total_members_count)}}function wl(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e._UZ(3,"img",11),e.qZA()(),e.TgZ(4,"nz-col",1)(5,"h5",9),e._uU(6,"Assignees with overdue tasks"),e.qZA(),e.TgZ(7,"h2",10),e._uU(8),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(4),e.Oqu(A.memberStats.overdue_members)}}function Ir(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e._UZ(3,"img",12),e.qZA()(),e.TgZ(4,"nz-col",1)(5,"h5",9),e._uU(6,"Unassigned Members"),e.qZA(),e.TgZ(7,"h2",10),e._uU(8),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(4),e.Oqu(A.memberStats.unassigned_members)}}const vl=function(){return{rows:2}},Da=function(){return{size:"large",shape:"square"}};let So=(()=>{var r;class i{constructor(t,n,s){this.api=t,this.route=n,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.memberStats={},this.projectId="",this.loading=!0,this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(t){this.getProjectMemberInsights()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getProjectMemberInsights(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.api.getMemberInsightAStats(t.projectId,t.archivedTasksChoice);n.done&&(t.memberStats=n.body),t.loading=!1,t.cdr.markForCheck()}catch{t.loading=!1,t.cdr.markForCheck()}})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36($r),e.Y36(wt.gz),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-member-stats"]],inputs:{archived:"archived"},features:[e.TTD],decls:13,vars:28,consts:[[1,"mt-3","justify-content-between",3,"nzGutter"],[3,"nzSpan"],[1,"h-100"],[3,"nzLoading","nzActive","nzTitle","nzParagraph","nzAvatar"],[3,"nzGutter",4,"ngIf"],[3,"nzGutter"],[1,"d-flex","justify-content-center","align-items-center",3,"nzSpan"],[1,"icon-img-holder"],["src","/assets/images/group.png","alt","",1,"img-fluid"],["nz-typography","",1,"m-0","fw-normal"],["nz-typography","",1,"m-0"],["src","/assets/images/warning.png","alt","",1,"img-fluid"],["src","/assets/images/block-user.png","alt","",1,"img-fluid"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-row",0)(1,"nz-col",1)(2,"nz-card",2),e._UZ(3,"nz-skeleton",3),e.YNc(4,qp,9,4,"nz-row",4),e.qZA()(),e.TgZ(5,"nz-col",1)(6,"nz-card",2),e._UZ(7,"nz-skeleton",3),e.YNc(8,wl,9,4,"nz-row",4),e.qZA()(),e.TgZ(9,"nz-col",1)(10,"nz-card",2),e._UZ(11,"nz-skeleton",3),e.YNc(12,Ir,9,4,"nz-row",4),e.qZA()()()),2&t&&(e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",8),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(22,vl))("nzAvatar",e.DdM(23,Da)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzSpan",8),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(24,vl))("nzAvatar",e.DdM(25,Da)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzSpan",8),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(26,vl))("nzAvatar",e.DdM(27,Da)),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[Ie.O5,hn.t3,hn.SK,Ut.ZU,Mn.ng,DA.bd],styles:[".fs-16[_ngcontent-%COMP%]{font-size:16px}.fs-26[_ngcontent-%COMP%]{font-size:36px}.fs-50[_ngcontent-%COMP%]{font-size:50px}nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.icon-img-holder[_ngcontent-%COMP%]{width:70%}"],changeDetection:0}),i})();var Mr=oe(86825);function Vp(r,i){1&r&&e._UZ(0,"nz-spin")}function Wp(r,i){1&r&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"img",12),e.qZA(),e.TgZ(3,"span",13),e._uU(4,"The project does not have any members yet."),e.qZA()())}function Xp(r,i){1&r&&e._UZ(0,"span",23)}function $i(r,i){1&r&&e._UZ(0,"span",24)}function Cl(r,i){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Xp,1,0,"span",21),e.YNc(2,$i,1,0,"span",22),e.qZA()),2&r){const A=e.oxw(2).$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.expanded[A.id]),e.xp6(1),e.Q6J("ngIf",!t.expanded[A.id])}}function Bl(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",20),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.rowClicked(n))}),e.YNc(1,Cl,3,2,"span",3),e.qZA()}if(2&r){const A=e.oxw().$implicit,t=e.oxw(2);e.ekj("clickable",t.isRowClickable(A)),e.xp6(1),e.Q6J("ngIf",t.isRowClickable(A))}}function $p(r,i){1&r&&e._UZ(0,"div",7)}function bu(r,i){1&r&&e._UZ(0,"span",25),2&r&&e.Q6J("nzTooltipTitle","This member has overdue tasks.")("nzType","exclamation-circle")("nzTheme","outline")}function ef(r,i){1&r&&e._UZ(0,"span",25),2&r&&e.Q6J("nzTooltipTitle","This task is overdue.")("nzType","exclamation-circle")("nzTheme","outline")}function bl(r,i){if(1&r&&(e.TgZ(0,"div",31)(1,"div",28),e.YNc(2,ef,1,3,"span",17),e.qZA(),e.TgZ(3,"div",32)(4,"nz-row",33),e._uU(5),e.qZA()(),e.TgZ(6,"div",28)(7,"span",34),e._uU(8),e.qZA()(),e.TgZ(9,"div",28,35),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"div",29),e._uU(14),e.qZA(),e.TgZ(15,"div",29),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"div",29),e._uU(19),e.qZA(),e.TgZ(20,"div",29),e._uU(21),e.qZA()()),2&r){const A=i.$implicit;e.xp6(2),e.Q6J("ngIf",A.is_overdue),e.xp6(2),e.Q6J("nz-tooltip","true")("nzTooltipTitle",A.name),e.xp6(1),e.hij(" ",A.name," "),e.xp6(2),e.Udp("background-color",A.status_color),e.xp6(1),e.Oqu(A.status),e.xp6(3),e.hij(" ",e.xi3(12,12,A.end_date,"MMM dd, yyyy")," "),e.xp6(3),e.Oqu(A.days_overdue),e.xp6(2),e.Oqu(e.xi3(17,15,A.completed_at,"MMM dd, yyyy")||"N/A"),e.xp6(3),e.Oqu(A.total_minutes),e.xp6(2),e.Oqu(A.overlogged_time)}}function tf(r,i){if(1&r&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div")(3,"div",6),e._UZ(4,"div",28),e.TgZ(5,"div",28),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"div",28),e._uU(8,"Status"),e.qZA(),e.TgZ(9,"div",28),e._uU(10,"Due Date"),e.qZA(),e.TgZ(11,"div",29),e._uU(12,"Days Overdue"),e.qZA(),e.TgZ(13,"div",29),e._uU(14,"Completed Date"),e.qZA(),e.TgZ(15,"div",29),e._uU(16,"Total Allocation"),e.qZA(),e.TgZ(17,"div",29),e._uU(18,"Over Logged Time"),e.qZA()(),e.YNc(19,bl,22,18,"div",30),e.qZA()()()),2&r){const A=e.oxw().$implicit,t=e.oxw(2);e.Q6J("@detailExpand",t.expanded[A.id]?"expanded":"collapsed"),e.xp6(19),e.Q6J("ngForOf",A.tasks)}}function nf(r,i){if(1&r&&(e.TgZ(0,"div",14)(1,"div"),e.YNc(2,Bl,2,3,"div",15),e.YNc(3,$p,1,0,"div",16),e.TgZ(4,"div",7),e.YNc(5,bu,1,3,"span",17),e.qZA(),e.TgZ(6,"div",7),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e._uU(9),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"nz-progress",18),e.qZA(),e.TgZ(12,"div",7),e._uU(13),e.qZA(),e.TgZ(14,"div",7),e._uU(15),e.qZA(),e.TgZ(16,"div",7),e._uU(17),e.qZA(),e.TgZ(18,"div",7),e._UZ(19,"nz-progress",18),e.qZA(),e.YNc(20,tf,20,2,"div",19),e.qZA()()),2&r){const A=i.$implicit,t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isRowClickable(A)),e.xp6(1),e.Q6J("ngIf",!t.isRowClickable(A)),e.xp6(2),e.Q6J("ngIf",t.overdueTasksPresent(A)),e.xp6(2),e.Oqu(A.name),e.xp6(2),e.Oqu(A.task_count||0),e.xp6(2),e.Q6J("nzPercent",A.contribution),e.xp6(2),e.Oqu(A.done_task_count||0),e.xp6(2),e.Oqu(A.pending_task_count||0),e.xp6(2),e.Oqu(A.overdue_task_count||0),e.xp6(2),e.Q6J("nzPercent",A.progress),e.xp6(1),e.Q6J("ngIf",A.task_count)}}function Af(r,i){if(1&r&&(e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"div",7)(3,"div",7),e.TgZ(4,"div",7),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"div",7),e._uU(7,"Task Count"),e.qZA(),e.TgZ(8,"div",7),e._uU(9,"Contribution"),e.qZA(),e.TgZ(10,"div",7),e._uU(11,"Completed"),e.qZA(),e.TgZ(12,"div",7),e._uU(13,"Incomplete"),e.qZA(),e.TgZ(14,"div",7),e._uU(15,"Overdue"),e.qZA(),e.TgZ(16,"div",7),e._uU(17,"Progress"),e.qZA()(),e.YNc(18,Wp,5,0,"div",8),e.YNc(19,nf,21,11,"div",9),e.qZA()),2&r){const A=e.oxw();e.xp6(18),e.Q6J("ngIf",!A.projectMembers.length),e.xp6(1),e.Q6J("ngForOf",A.projectMembers)}}let rf=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.route=t,this.socket=n,this.utils=s,this.projectsApiService=o,this.projectInsightsService=h,this.cdr=p,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.projectMembers=[],this.projectId="",this.projectOverview={},this.taskStatuses=[],this.completed=0,this.pending=0,this.loading=!0,this.loadingTasks=!0,this.loadingStatuses=!1,this.expanded={},this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(t){this.init(),this.expanded={}}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}init(){this.getProjectOverview(),this.getProjectOverviewMembers()}getProjectOverview(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.projectsApiService.getOverViewById(t.projectId);n.done&&(t.projectOverview=n.body,t.completed=t.projectOverview.done_task_count?t.projectOverview.done_task_count:0,t.pending=t.projectOverview.pending_task_count?t.projectOverview.pending_task_count:0),t.loading=!1,t.cdr.markForCheck()}catch{t.loading=!1,t.cdr.markForCheck()}})()}getProjectOverviewMembers(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.projectsApiService.getOverViewMembersById(t.projectId,t.archivedTasksChoice);n.done&&(t.projectMembers=n.body),t.loading=!1,t.cdr.markForCheck()}catch{t.loading=!1,t.cdr.markForCheck()}})()}getTasksByMember(t){var n=this;return(0,ce.Z)(function*(){try{n.loadingTasks=!0;const s=yield n.projectInsightsService.getMemberTasks({member_id:t.id,project_id:n.projectId,archived:n.archivedTasksChoice});s.done&&(t.tasks=s.body),n.loadingTasks=!1,n.cdr.markForCheck()}catch{n.loadingTasks=!1,n.cdr.markForCheck()}})()}isRowClickable(t){return!!t.task_count&&t.task_count>0}overdueTasksPresent(t){return!!t.overdue_task_count&&t.overdue_task_count>0}rowClicked(t){t.task_count&&(this.expanded[t.id]||this.getTasksByMember(t),this.expanded[t.id]=!this.expanded[t.id],this.cdr.markForCheck())}trackById(t,n){return n.id}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(wt.gz),e.Y36(Kt.s),e.Y36(JA.F),e.Y36(ji.U),e.Y36($r),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-member-tasks"]],hostBindings:function(t,n){1&t&&e.NdJ("worklenz.tasks.update",function(){return n.init()},!1,e.evT)},inputs:{archived:"archived"},features:[e.TTD],decls:5,vars:3,consts:[[1,"mt-3",3,"nzTitle"],[1,"row","mx-0","mt-3","g-4","mt-0"],[1,"col-md-12","mt-0","pe-0","pd-mobile-pe-0"],[4,"ngIf"],["class","table",4,"ngIf"],[1,"table"],[1,"table-header","table-row"],[1,"td"],["class","pt-4 pb-5",4,"ngIf"],["class","table-row",4,"ngFor","ngForOf"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"mx-auto","d-block","no-data-text",2,"width","max-content"],[1,"table-row"],["class","td",3,"clickable","click",4,"ngIf"],["class","td",4,"ngIf"],["nz-tooltip","","nz-icon","","class","overdue-tasks-present",3,"nzTooltipTitle","nzType","nzTheme",4,"ngIf"],[3,"nzPercent"],["class","expanded-panel",4,"ngIf"],[1,"td",3,"click"],["nz-icon","","nzType","down","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","right","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","down","nzTheme","outline"],["nz-icon","","nzType","right","nzTheme","outline"],["nz-tooltip","","nz-icon","",1,"overdue-tasks-present",3,"nzTooltipTitle","nzType","nzTheme"],[1,"expanded-panel"],[1,"child-row"],[1,"child-td"],[1,"child-td","text-center"],["class","table-row mb-0",4,"ngFor","ngForOf"],[1,"table-row","mb-0"],[1,"child-td","mb-0"],["nz-typography","","nzEllipsis","",3,"nz-tooltip","nzTooltipTitle"],[1,"rounded-pill","custom-select","py-1","px-2"],["elementDueDate",""]],template:function(t,n){1&t&&(e.TgZ(0,"nz-card",0)(1,"div",1)(2,"div",2),e.YNc(3,Vp,1,0,"nz-spin",3),e.YNc(4,Af,20,2,"div",4),e.qZA()()()),2&t&&(e.Q6J("nzTitle","Tasks by members"),e.xp6(3),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[Ie.sg,Ie.O5,hn.SK,Wt.w,zt.Ls,Ut.ZU,ms.M,Zt.SY,DA.bd,QA.W,Ie.uU],styles:[".table[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{text-align:left}.table-header[_ngcontent-%COMP%]{font-weight:500}.table-row[_ngcontent-%COMP%]{display:block;white-space:nowrap;overflow:hidden;border-bottom:#e3e3e3 1px solid}.table-row[_ngcontent-%COMP%]:last-child{border:none}.td[_ngcontent-%COMP%]{display:inline-block;padding:12px 10px}.td[_ngcontent-%COMP%]:nth-child(1){width:1vw}.td[_ngcontent-%COMP%]:nth-child(2){width:1vw}.td[_ngcontent-%COMP%]:nth-child(3){width:11vw}.td[_ngcontent-%COMP%]:nth-child(4){width:9vw;text-align:center}.td[_ngcontent-%COMP%]:nth-child(5){width:17%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(6){width:9%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(7){width:9%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(8){width:9%;text-align:center}.td[_ngcontent-%COMP%]:nth-child(9){width:19%;text-align:center}.clickable[_ngcontent-%COMP%]{cursor:pointer}.child-row[_ngcontent-%COMP%]{padding:5px 50px 20px}.overdue-tasks-present[_ngcontent-%COMP%]{color:#f40}nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.child-td[_ngcontent-%COMP%]{display:inline-block;padding:6px 10px}.child-td[_ngcontent-%COMP%]:nth-child(1){width:3%}.child-td[_ngcontent-%COMP%]:nth-child(2){width:25%}.child-td[_ngcontent-%COMP%]:nth-child(3){width:10%}.child-td[_ngcontent-%COMP%]:nth-child(4){width:12%}.child-td[_ngcontent-%COMP%]:nth-child(5){width:8%}.child-td[_ngcontent-%COMP%]:nth-child(6){width:15%}.child-td[_ngcontent-%COMP%]:nth-child(7){width:10%}.child-td[_ngcontent-%COMP%]:nth-child(8){width:13%}.expanded-panel[_ngcontent-%COMP%]{background-color:#f0f2f5}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"],data:{animation:[(0,Mr.X$)("detailExpand",[(0,Mr.SB)("collapsed",(0,Mr.oB)({height:"0px",minHeight:"0"})),(0,Mr.SB)("expanded",(0,Mr.oB)({height:"*"})),(0,Mr.eR)("expanded <=> collapsed",(0,Mr.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),i})();const sf=["membersInsights"];let xu=(()=>{var r;class i{constructor(t){this.projectInsightsComponent=t,this.archived=!1,this.includeArchivedTasks="include-archived-tasks"}exportMembersInsight(t){this.membersInsights&&(this.projectInsightsComponent.isLoading=!0,ml()(this.membersInsights.nativeElement).then(n=>{let s=n.toDataURL("image/PNG"),o=new gl("p","mm","a4",!0);const _=o.getImageProperties(s),B=o.internal.pageSize.getWidth()-10,x=_.height*B/_.width;let y=new Image;return y.src=location.origin+"/assets/images/logo.png",o.addImage(y,"PNG",o.internal.pageSize.getWidth()/2-12,5,30,6.5),o.setFontSize(14),o.setTextColor(0,0,0,.85),o.text(["Insights - "+t+" - Members",`${(0,Ie.p6)(new Date,"yyyy-MM-dd","en")}`],105,17,{maxWidth:B,align:"center"}),o.addImage(s,"PNG",5,28,B,x),o}).then(n=>{n.save("Members Insights "+(0,Ie.p6)(new Date,"yyyy-MM-dd","en")+".pdf"),this.projectInsightsComponent.isLoading=!1}))}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Io))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-insights-member-overview"]],viewQuery:function(t,n){if(1&t&&e.Gf(sf,5),2&t){let s;e.iGM(s=e.CRH())&&(n.membersInsights=s.first)}},inputs:{archived:"archived"},decls:4,vars:2,consts:[["membersInsights",""],[3,"archived"]],template:function(t,n){1&t&&(e.TgZ(0,"div",null,0),e._UZ(2,"worklenz-member-stats",1)(3,"worklenz-member-tasks",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("archived",n.archived),e.xp6(1),e.Q6J("archived",n.archived))},dependencies:[So,rf],styles:["nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}"]}),i})();var Ha=oe(45538),yA=oe(96928);function yu(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e._UZ(3,"img",8),e.qZA()(),e.TgZ(4,"nz-col",1)(5,"h5",9),e._uU(6,"Completed tasks"),e.qZA(),e.TgZ(7,"h2",10),e._uU(8),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(4),e.Oqu(A.overviewData.completed_tasks_count||0)}}function of(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e._UZ(3,"img",11),e.qZA()(),e.TgZ(4,"nz-col",1)(5,"h5",9),e._uU(6,"Incomplete tasks"),e.qZA(),e.TgZ(7,"h2",10),e._uU(8),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(4),e.Oqu(A.overviewData.todo_tasks_count||0)}}function af(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e._UZ(3,"img",12),e.qZA()(),e.TgZ(4,"nz-col",1)(5,"h5",9),e._uU(6,"Overdue tasks "),e._UZ(7,"span",13),e.qZA(),e.TgZ(8,"h2",10),e._uU(9),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(3),e.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that are past their due date"),e.xp6(2),e.Oqu(A.overviewData.overdue_count||0)}}function cf(r,i){1&r&&e._UZ(0,"img",18)}function Tu(r,i){1&r&&e._UZ(0,"img",19)}function lf(r,i){if(1&r&&(e.TgZ(0,"table")(1,"tr")(2,"td"),e._uU(3,"Total Estimation:"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.TgZ(6,"tr")(7,"td"),e._uU(8,"Total Logged Hours:"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()()),2&r){const A=e.oxw(2);e.xp6(5),e.hij("\xa0 ",A.overviewData.total_estimated_hours_string||"Oh 0m",""),e.xp6(5),e.hij("\xa0 ",A.overviewData.total_logged_hours_string||"Oh 0m","")}}function Za(r,i){if(1&r&&(e.TgZ(0,"nz-row",5)(1,"nz-col",6)(2,"div",7),e.YNc(3,cf,1,0,"img",14),e.YNc(4,Tu,1,0,"img",15),e.qZA()(),e.TgZ(5,"nz-col",1)(6,"h5",9),e._uU(7),e._UZ(8,"span",13),e.qZA(),e.TgZ(9,"h2",16),e._uU(10),e.qZA(),e.YNc(11,lf,11,2,"ng-template",null,17,e.W1O),e.qZA()()),2&r){const A=e.MAs(12),t=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("ngIf",t.checkOverLoggedOrNot(t.overviewData)),e.xp6(1),e.Q6J("ngIf",!t.checkOverLoggedOrNot(t.overviewData)),e.xp6(1),e.Q6J("nzSpan",18),e.xp6(2),e.hij("",t.checkOverLoggedOrNot(t.overviewData)?"Over":"Under"," logged hours "),e.xp6(1),e.Q6J("nz-tooltip","true")("nzTooltipTitle","Difference between task estimation and logged time for tasks."),e.xp6(1),e.Q6J("nz-tooltip","true")("nzTooltipPlacement","top")("nzTooltipTitle",A),e.xp6(1),e.hij(" ",t.checkOverLoggedOrNot(t.overviewData)?"("+(t.overviewData.overlogged_hours||0)+")":t.overviewData.overlogged_hours," ")}}const ja=function(){return{rows:2}},Ns=function(){return{size:"large",shape:"square"}};let Ra=(()=>{var r;class i{constructor(t,n,s){this.api=t,this.route=n,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.overviewData={},this.projectId="",this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(t){this.getProjectOverviewData()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getProjectOverviewData(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.api.getProjectOverviewData(t.projectId,t.archivedTasksChoice);n.done&&(t.overviewData=n.body),t.loading=!1,t.cdr.markForCheck()}catch(n){t.loading=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}checkOverLoggedOrNot(t){return null!==t.total_estimated_hours&&null!==t.total_logged_hours&&(t.total_estimated_hours||0)<(t.total_logged_hours||0)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36($r),e.Y36(wt.gz),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-stats"]],inputs:{archived:"archived"},features:[e.TTD],decls:17,vars:37,consts:[[1,"mt-3","justify-content-between",3,"nzGutter"],[3,"nzSpan"],[1,"h-100"],[3,"nzLoading","nzActive","nzTitle","nzParagraph","nzAvatar"],[3,"nzGutter",4,"ngIf"],[3,"nzGutter"],[1,"d-flex","justify-content-center","align-items-center",3,"nzSpan"],[1,"icon-img-holder"],["src","/assets/images/insights-check.png","alt","",1,"img-fluid"],["nz-typography","",1,"m-0","fw-normal"],["nz-typography","",1,"m-0"],["src","/assets/images/clipboard.png","alt","",1,"img-fluid"],["src","/assets/images/warning.png","alt","",1,"img-fluid"],["nz-icon","","nzType","info-circle","nzTheme","outline",2,"color","#3587ff","font-size","14px",3,"nz-tooltip","nzTooltipTitle"],["src","/assets/images/clock-red.png","class","img-fluid","alt","",4,"ngIf"],["src","/assets/images/clock-green.png","class","img-fluid","alt","",4,"ngIf"],["nz-typography","",1,"m-0",3,"nz-tooltip","nzTooltipPlacement","nzTooltipTitle"],["contentTemplate",""],["src","/assets/images/clock-red.png","alt","",1,"img-fluid"],["src","/assets/images/clock-green.png","alt","",1,"img-fluid"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-row",0)(1,"nz-col",1)(2,"nz-card",2),e._UZ(3,"nz-skeleton",3),e.YNc(4,yu,9,4,"nz-row",4),e.qZA()(),e.TgZ(5,"nz-col",1)(6,"nz-card",2),e._UZ(7,"nz-skeleton",3),e.YNc(8,of,9,4,"nz-row",4),e.qZA()(),e.TgZ(9,"nz-col",1)(10,"nz-card",2),e._UZ(11,"nz-skeleton",3),e.YNc(12,af,10,6,"nz-row",4),e.qZA()(),e.TgZ(13,"nz-col",1)(14,"nz-card",2),e._UZ(15,"nz-skeleton",3),e.YNc(16,Za,13,12,"nz-row",4),e.qZA()()()),2&t&&(e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(29,ja))("nzAvatar",e.DdM(30,Ns)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(31,ja))("nzAvatar",e.DdM(32,Ns)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(33,ja))("nzAvatar",e.DdM(34,Ns)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(35,ja))("nzAvatar",e.DdM(36,Ns)),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[Ie.O5,hn.t3,hn.SK,Wt.w,xt.Uo,xt.$Z,zt.Ls,Ut.ZU,Zt.SY,Mn.ng,DA.bd],styles:[".fs-16[_ngcontent-%COMP%]{font-size:16px}.fs-26[_ngcontent-%COMP%]{font-size:36px}nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.fs-50[_ngcontent-%COMP%]{font-size:50px}.icon-img-holder[_ngcontent-%COMP%]{width:80%}"],changeDetection:0}),i})();const ku=["projectOverviewChart"],Qu=["tasksInsightsExportDiv"],df=["memberSearchInput"];function Fu(r,i){1&r&&(e._uU(0," Overdue Tasks "),e._UZ(1,"span",21)),2&r&&(e.xp6(1),e.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that are past their due date"))}function xl(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.goToList())}),e._uU(1,"See all"),e.qZA()}}function yl(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"nz-tag",23),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td",24),e._uU(10),e.qZA()()),2&r){const A=i.$implicit;e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.Q6J("nzColor",A.status_color),e.xp6(1),e.Oqu(A.status_name),e.xp6(2),e.hij(" ",e.xi3(8,5,A.end_date,"mediumDate")||"-"," "),e.xp6(3),e.Oqu(A.days_overdue)}}function zu(r,i){1&r&&(e._uU(0," Over logged Tasks "),e._UZ(1,"span",21)),2&r&&(e.xp6(1),e.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that has time logged past their estimated time"))}function Uu(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.goToList())}),e._uU(1,"See all"),e.qZA()}}const Su=function(){return[]};function Iu(r,i){if(1&r&&e._UZ(0,"worklenz-avatars",32),2&r){const A=e.oxw().$implicit;e.Q6J("names",A.names||e.DdM(1,Su))}}function Tl(r,i){1&r&&e._UZ(0,"nz-avatar",33),2&r&&e.Q6J("nzSize",28)("nzIcon","plus")}function uf(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"ul",34)(1,"li",35)(2,"input",36,37),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.memberSearchText=n)}),e.qZA()()()}if(2&r){const A=e.oxw(2);e.xp6(2),e.Q6J("ngModel",A.memberSearchText)}}function hf(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"nz-tag",23),e._uU(5),e.qZA()(),e.TgZ(6,"td",25,26)(8,"div",27),e.YNc(9,Iu,1,2,"worklenz-avatars",28),e.YNc(10,Tl,1,2,"nz-avatar",29),e.qZA(),e.TgZ(11,"nz-dropdown-menu",null,30),e.YNc(13,uf,4,1,"ul",31),e.qZA()(),e.TgZ(14,"td"),e._uU(15),e.qZA()()),2&r){const A=i.$implicit,t=e.oxw();e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.Q6J("nzColor",A.status_color),e.xp6(1),e.Oqu(A.status_name),e.xp6(1),e.Q6J("nzClickHide",!1)("nzTrigger","click"),e.xp6(3),e.Q6J("ngIf",null==A.names?null:A.names.length),e.xp6(1),e.Q6J("ngIf",!(null!=A.assignees&&A.assignees.length)),e.xp6(3),e.Q6J("ngIf",t.members.length),e.xp6(2),e.Oqu(A.overlogged_time_string)}}function pf(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.goToList())}),e._uU(1,"See all"),e.qZA()}}function ir(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"nz-tag",23),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA()()),2&r){const A=i.$implicit;e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.Q6J("nzColor",A.status_color),e.xp6(1),e.Oqu(A.status_name),e.xp6(2),e.hij(" ",e.xi3(8,5,A.end_date,"mediumDate")||"-"," "),e.xp6(3),e.Oqu(e.xi3(11,8,A.completed_at,"MMM d, y"))}}function kl(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.goToList())}),e._uU(1,"See all"),e.qZA()}}function ff(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"nz-tag",23),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA()()),2&r){const A=i.$implicit;e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.Q6J("nzColor",A.status_color),e.xp6(1),e.Oqu(A.status_name),e.xp6(2),e.hij(" ",e.xi3(8,5,A.end_date,"mediumDate")||"-"," "),e.xp6(3),e.Oqu(e.xi3(11,8,A.completed_at,"MMM d, y"))}}function gf(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"img",40),e.qZA(),e.TgZ(3,"div")(4,"span",41),e._uU(5,"All tasks completed on time."),e.qZA()()())}function mf(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"img",40),e.qZA(),e.TgZ(3,"div")(4,"span",41),e._uU(5,"All tasks completed on time."),e.qZA()()())}function _f(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"img",42),e.qZA(),e.TgZ(3,"span",41),e._uU(4,"No tasks completed early in the project."),e.qZA()())}function wf(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39),e._UZ(2,"img",40),e.qZA(),e.TgZ(3,"span",41),e._uU(4,"All tasks completed on time."),e.qZA()())}let Mu=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B,x,y){this.route=t,this.auth=n,this.router=s,this.api=o,this.statusesApi=h,this.teamMembersApi=p,this.utils=_,this.socket=B,this.projectInsightsComponent=x,this.cdr=y,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.highlight="highlight-col",this.projectId="",this.overviewData={},this.taskStatuses=[],this.members=[],this.data={},this.overdueTasks=[],this.overloggedTasks=[],this.earlyTasks=[],this.lateTasks=[],this.loadingOverdue=!0,this.loadingOverlogged=!0,this.loadingEarlyTasks=!0,this.loadingLateTasks=!0,this.loadingOverviewData=!1,this.loadingStatuses=!1,this.completed=0,this.pending=0,this.showTaskDrawer=!1,this.selectedTaskId=null,this.memberSearchText=null,this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(t){this.getData()}getData(){this.getOverdueTasks(),this.getEarlyTasks(),this.getLateTasks(),this.getProjectOverviewData(),this.getOverloggedTasks()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getOverdueTasks(){var t=this;return(0,ce.Z)(function*(){try{t.loadingOverdue=!0;const n=yield t.api.getOverdueTasks(t.projectId,t.archivedTasksChoice);n.done&&(t.overdueTasks=n.body),t.loadingOverdue=!1,t.cdr.markForCheck()}catch(n){t.loadingOverdue=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}getEarlyTasks(){var t=this;return(0,ce.Z)(function*(){try{t.loadingEarlyTasks=!0;const n=yield t.api.getTasksCompletedEarly(t.projectId,t.archivedTasksChoice);n.done&&(t.earlyTasks=n.body),t.loadingEarlyTasks=!1,t.cdr.markForCheck()}catch(n){t.loadingEarlyTasks=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}getLateTasks(){var t=this;return(0,ce.Z)(function*(){try{t.loadingLateTasks=!0;const n=yield t.api.getTasksCompletedLate(t.projectId,t.archivedTasksChoice);n.done&&(t.lateTasks=n.body),t.loadingLateTasks=!1,t.cdr.markForCheck()}catch(n){t.loadingLateTasks=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}getProjectOverviewData(){var t=this;return(0,ce.Z)(function*(){try{t.loadingOverviewData=!0;const n=yield t.api.getProjectOverviewData(t.projectId,t.archivedTasksChoice);n.done&&(t.overviewData=n.body),t.loadingOverviewData=!1,t.cdr.markForCheck()}catch(n){t.loadingOverviewData=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}getOverloggedTasks(){var t=this;return(0,ce.Z)(function*(){try{t.loadingOverlogged=!0;const n=yield t.api.getOverloggedTasks(t.projectId,t.archivedTasksChoice);n.done&&(t.overloggedTasks=n.body),t.loadingOverlogged=!1,t.cdr.markForCheck()}catch(n){t.loadingOverlogged=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}onCreateOrUpdate(){this.showTaskDrawer=!1,this.selectedTaskId=null,this.cdr.markForCheck()}trackById(t,n){return n.id}goToList(){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:"tasks-list"},queryParamsHandling:"merge"})}exportTaskInsights(t){this.tasksInsightsExportDiv&&(this.projectInsightsComponent.isLoading=!0,ml()(this.tasksInsightsExportDiv.nativeElement).then(n=>{let s=n.toDataURL("image/PNG"),o=new gl("p","mm","a4",!0);const _=o.getImageProperties(s),B=o.internal.pageSize.getWidth()-10,x=_.height*B/_.width;let y=new Image;return y.src=location.origin+"/assets/images/logo.png",o.addImage(y,"PNG",o.internal.pageSize.getWidth()/2-12,5,30,6.5),o.setFontSize(14),o.setTextColor(0,0,0,.85),o.text(["Insights - "+t+" - Tasks",`${(0,Ie.p6)(new Date,"yyyy-MM-dd","en")}`],105,17,{maxWidth:B,align:"center"}),o.addImage(s,"PNG",5,28,B,x),o}).then(n=>{n.save("Tasks Insights "+(0,Ie.p6)(new Date,"yyyy-MM-dd","en")+".pdf"),this.projectInsightsComponent.isLoading=!1}))}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(wt.gz),e.Y36(yn.e),e.Y36(wt.F0),e.Y36($r),e.Y36(Uo.w),e.Y36(Ha.B),e.Y36(JA.F),e.Y36(Kt.s),e.Y36(Io),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-task-insights"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ku,5),e.Gf(Qu,5),e.Gf(df,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.projectOverviewChart=s.first),e.iGM(s=e.CRH())&&(n.tasksInsightsExportDiv=s.first),e.iGM(s=e.CRH())&&(n.memberSearchInput=s.first)}},inputs:{archived:"archived"},features:[e.TTD],decls:89,vars:40,consts:[["tasksInsightsExportDiv",""],[3,"archived"],[1,"mt-3",3,"nzGutter"],[3,"nzSpan"],[1,"h-100",3,"nzTitle","nzExtra"],["overdueTitleTemplate",""],["lastExtraTemplate",""],["nzPaginationType","small",3,"nzData","nzHideOnSinglePage","nzLoading","nzSize","nzNoResult"],["tasksTable",""],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["titleTemplate",""],["overLogTasksTable",""],["earlyTasksTable",""],[3,"nzData","nzHideOnSinglePage","nzLoading","nzSize","nzPaginationType","nzNoResult"],["lateTasksTable",""],["noDataTemplate1",""],["noDataTemplate2",""],["noDataTemplate3",""],["noDataTemplate4",""],["nz-icon","","nzType","info-circle","nzTheme","outline",2,"color","#3587ff","font-size","14px",3,"nz-tooltip","nzTooltipTitle"],[3,"click"],[1,"text-dark","rounded-pill","task-list-label",3,"nzColor"],[1,"text-center"],["nz-dropdown","",1,"py-0","editable",3,"nzClickHide","nzTrigger"],["tr",""],[1,"d-flex"],["class","d-flex",3,"names",4,"ngIf"],["class","avatar-dashed bg-white",3,"nzSize","nzIcon",4,"ngIf"],["membersDropdown","nzDropdownMenu"],["class","members-dropdown","nz-menu","",4,"ngIf"],[1,"d-flex",3,"names"],[1,"avatar-dashed","bg-white",3,"nzSize","nzIcon"],["nz-menu","",1,"members-dropdown"],[1,"px-3","py-2"],["type","text","placeholder","Search by name","nz-input","",3,"ngModel","ngModelChange"],["memberSearchInput",""],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/confetti (1).png","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",null,0),e._UZ(2,"worklenz-project-stats",1),e.TgZ(3,"nz-row",2)(4,"nz-col",3)(5,"nz-card",4),e.YNc(6,Fu,2,2,"ng-template",null,5,e.W1O),e.YNc(8,xl,2,0,"ng-template",null,6,e.W1O),e.TgZ(10,"nz-table",7,8)(12,"thead")(13,"tr")(14,"th",9),e._uU(15,"Name"),e.qZA(),e.TgZ(16,"th",9),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th",9),e._uU(19,"End Date"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"Days overdue"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,yl,11,8,"tr",11),e.qZA()()()(),e.TgZ(24,"nz-col",3)(25,"nz-card",4),e.YNc(26,zu,2,2,"ng-template",null,12,e.W1O),e.YNc(28,Uu,2,0,"ng-template",null,6,e.W1O),e.TgZ(30,"nz-table",7,13)(32,"thead")(33,"tr")(34,"th",9),e._uU(35,"Name"),e.qZA(),e.TgZ(36,"th",9),e._uU(37,"Status"),e.qZA(),e.TgZ(38,"th",9),e._uU(39,"Members"),e.qZA(),e.TgZ(40,"th",9),e._uU(41,"Over Logged Time"),e.qZA()()(),e.TgZ(42,"tbody"),e.YNc(43,hf,16,9,"tr",11),e.qZA()()()()(),e.TgZ(44,"nz-row",2)(45,"nz-col",3)(46,"nz-card",4),e.YNc(47,pf,2,0,"ng-template",null,6,e.W1O),e.TgZ(49,"nz-table",7,14)(51,"thead")(52,"tr")(53,"th",9),e._uU(54,"Name"),e.qZA(),e.TgZ(55,"th",9),e._uU(56,"Status"),e.qZA(),e.TgZ(57,"th",9),e._uU(58,"End Date"),e.qZA(),e.TgZ(59,"th",9),e._uU(60,"Completed At"),e.qZA()()(),e.TgZ(61,"tbody"),e.YNc(62,ir,12,11,"tr",11),e.qZA()()()(),e.TgZ(63,"nz-col",3)(64,"nz-card",4),e.YNc(65,kl,2,0,"ng-template",null,6,e.W1O),e.TgZ(67,"nz-table",15,16)(69,"thead")(70,"tr")(71,"th",9),e._uU(72,"Name"),e.qZA(),e.TgZ(73,"th",9),e._uU(74,"Status"),e.qZA(),e.TgZ(75,"th",9),e._uU(76,"End Date"),e.qZA(),e.TgZ(77,"th",9),e._uU(78,"Completed At"),e.qZA()()(),e.TgZ(79,"tbody"),e.YNc(80,ff,12,11,"tr",11),e.qZA()()()()()(),e.YNc(81,gf,6,0,"ng-template",null,17,e.W1O),e.YNc(83,mf,6,0,"ng-template",null,18,e.W1O),e.YNc(85,_f,5,0,"ng-template",null,19,e.W1O),e.YNc(87,wf,5,0,"ng-template",null,20,e.W1O)),2&t){const s=e.MAs(7),o=e.MAs(9),h=e.MAs(11),p=e.MAs(27),_=e.MAs(31),B=e.MAs(50),x=e.MAs(68),y=e.MAs(82),v=e.MAs(84),M=e.MAs(86),E=e.MAs(88);e.xp6(2),e.Q6J("archived",n.archived),e.xp6(1),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle",s)("nzExtra",o),e.xp6(5),e.Q6J("nzData",n.overdueTasks)("nzHideOnSinglePage",!0)("nzLoading",n.loadingOverdue)("nzSize","small")("nzNoResult",y),e.xp6(13),e.Q6J("ngForOf",h.data),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle",p)("nzExtra",o),e.xp6(5),e.Q6J("nzData",n.overloggedTasks)("nzHideOnSinglePage",!0)("nzLoading",n.loadingOverlogged)("nzSize","small")("nzNoResult",v),e.xp6(13),e.Q6J("ngForOf",_.data),e.xp6(1),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle","Tasks completed early")("nzExtra",o),e.xp6(3),e.Q6J("nzData",n.earlyTasks)("nzHideOnSinglePage",!0)("nzLoading",n.loadingEarlyTasks)("nzSize","small")("nzNoResult",M),e.xp6(13),e.Q6J("ngForOf",B.data),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle","Tasks completed late")("nzExtra",o),e.xp6(3),e.Q6J("nzData",n.lateTasks)("nzHideOnSinglePage",!0)("nzLoading",n.loadingLateTasks)("nzSize","small")("nzPaginationType","small")("nzNoResult",E),e.xp6(13),e.Q6J("ngForOf",x.data)}},dependencies:[Ie.sg,Ie.O5,Pe.Fj,Pe.JJ,hn.t3,hn.SK,nA.Zp,Wt.w,xt.N8,xt.Uo,xt._C,xt.Om,xt.p0,xt.$Z,zt.Ls,Ut.ZU,AA.j,Pe.On,yA.Dz,Zt.SY,DA.bd,zn.wO,cn.cm,cn.RR,FA.o,Ra,Ie.uU],styles:["nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}.no-data-img-holder[_ngcontent-%COMP%]{width:64px;margin-top:42px}"],changeDetection:0}),i})();function vf(r,i){if(1&r&&e._UZ(0,"worklenz-project-overview",7),2&r){const A=e.oxw();e.Q6J("archived",A.archived)}}function Cf(r,i){if(1&r&&e._UZ(0,"worklenz-project-insights-member-overview",7),2&r){const A=e.oxw();e.Q6J("archived",A.archived)}}function Bf(r,i){if(1&r&&e._UZ(0,"worklenz-task-insights",7),2&r){const A=e.oxw();e.Q6J("archived",A.archived)}}var Ga=function(r){return r[r.overview=0]="overview",r[r.members=1]="members",r[r.tasks=2]="tasks",r}(Ga||{});let Io=(()=>{var r;class i{constructor(t){this.cdr=t,this.projectName=null,this.includeArchivedTasks="include-archived-tasks",this.options=["Overview","Members","Tasks"],this.selectedMode=Ga.overview,this.modes=Ga,this.isLoading=!1,this.includeArchived=!1,pt.s.track(Ve.l7),this.checkArchivedChoice()}get archived(){return"true"===localStorage.getItem(this.includeArchivedTasks)}checkArchivedChoice(){null===localStorage.getItem(this.includeArchivedTasks)&&localStorage.setItem(this.includeArchivedTasks,"false"),this.includeArchived=this.archived,this.cdr.markForCheck()}handleIndexChange(t){this.selectedMode=t,0===this.selectedMode?(pt.s.track(Ve.l7),this.cdr.markForCheck()):1===this.selectedMode?(pt.s.track(Ve.OO),this.cdr.markForCheck()):(pt.s.track(Ve.Gk),this.cdr.markForCheck())}exportPdf(){0==this.selectedMode&&(this.projectOverviewComponent?.exportOverview(this.projectName),this.cdr.markForCheck()),1==this.selectedMode&&(this.projectInsightsMemberOverviewComponent?.exportMembersInsight(this.projectName),this.cdr.markForCheck()),2==this.selectedMode&&(this.taskInsightsComponent?.exportTaskInsights(this.projectName),this.cdr.markForCheck())}archivedChoiceChanged(t){localStorage.setItem(this.includeArchivedTasks,t),this.cdr.markForCheck()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-insights"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ka,5),e.Gf(Mu,5),e.Gf(xu,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.projectOverviewComponent=s.first),e.iGM(s=e.CRH())&&(n.taskInsightsComponent=s.first),e.iGM(s=e.CRH())&&(n.projectInsightsMemberOverviewComponent=s.first)}},inputs:{projectName:"projectName"},decls:12,vars:8,consts:[[1,"float-start",3,"nzNoAnimation","nzOptions","nzValueChange"],[1,"float-end","ms-auto"],[1,"me-2","archived-toggler",3,"ngClass"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-icon","","nzType","download"],[3,"archived",4,"ngIf"],[3,"archived"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-row")(1,"nz-segmented",0),e.NdJ("nzValueChange",function(o){return n.handleIndexChange(o)}),e.qZA(),e.TgZ(2,"div",1)(3,"span",2)(4,"label",3),e.NdJ("ngModelChange",function(o){return n.includeArchived=o})("ngModelChange",function(o){return n.archivedChoiceChanged(o)}),e._uU(5,"Include Archived Tasks"),e.qZA()(),e.TgZ(6,"button",4),e.NdJ("click",function(){return n.exportPdf()}),e._UZ(7,"span",5),e._uU(8,"Export "),e.qZA()()(),e.YNc(9,vf,1,1,"worklenz-project-overview",6),e.YNc(10,Cf,1,1,"worklenz-project-insights-member-overview",6),e.YNc(11,Bf,1,1,"worklenz-task-insights",6)),2&t&&(e.xp6(1),e.Q6J("nzNoAnimation",!0)("nzOptions",n.options),e.xp6(2),e.Q6J("ngClass",n.includeArchived?"archived":""),e.xp6(1),e.Q6J("ngModel",n.includeArchived),e.xp6(2),e.Q6J("nzLoading",n.isLoading),e.xp6(3),e.Q6J("ngIf",n.selectedMode===n.modes.overview),e.xp6(1),e.Q6J("ngIf",n.selectedMode===n.modes.members),e.xp6(1),e.Q6J("ngIf",n.selectedMode===n.modes.tasks))},styles:['.archived-toggler[_ngcontent-%COMP%]{padding:7px 15px;font-size:14px;border-radius:4px;background:whitesmoke}.archived-toggler[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.archived-toggler[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{position:absolute;content:"";right:-5px;top:-1px;width:8px;height:8px;border-radius:10px;background:#f5222d}.archived-toggler.archived[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{background:#52c41a}'],changeDetection:0}),i})();var sr=oe(47246),Os=oe(44889);function hA(r,i){1&r&&e._UZ(0,"nz-spin")}function Mo(r,i){if(1&r&&e._UZ(0,"canvas",8),2&r){const A=e.oxw(2);e.Q6J("width",A.chartWidth)("height",300)("data",A.chartData)("options",A.chartOptions)("plugins",A.chartPlugins)("legend",!1)("type","doughnut")}}function bf(r,i){if(1&r&&(e.TgZ(0,"li",9),e._UZ(1,"nz-badge",10),e.TgZ(2,"p",11),e._uU(3),e.ALo(4,"ellipsis"),e.qZA()()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("nzColor",A.color),e.xp6(1),e.Q6J("nzTooltipTitle",A.name),e.xp6(1),e.AsE("",e.xi3(4,4,A.name,20)," (",A.y,")")}}function xf(r,i){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3),e.YNc(2,Mo,1,7,"canvas",4),e.qZA(),e.TgZ(3,"div",5)(4,"ul",6),e.YNc(5,bf,5,7,"li",7),e.qZA()()()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("ngIf",!A.isChartEmpty),e.xp6(3),e.Q6J("ngForOf",A.statusCounts)}}function Eu(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13),e._UZ(3,"img",14),e.qZA(),e.TgZ(4,"span",15),e._uU(5,"No tasks to show."),e.qZA()(),e.BQk())}let Ql=(()=>{var r;class i{constructor(t,n,s){this.api=t,this.route=n,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.isChartEmpty=!1,this.projectId="",this.statusCounts=[],this.options={},this.statusColors=[],this.chartPlugins=[],this.chartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.statusColors,hoverOffset:2}]},this.chartOptions={plugins:{datalabels:{display:!1}},responsive:!1},this.projectId=this.route.snapshot.paramMap.get("id")||""}get chartWidth(){const t=window.innerWidth;return t>1400?350:t<1400&&t>1200?275:220}ngOnChanges(t){this.getStatusCounts()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getStatusCounts(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0,t.chartData.datasets[0].data=[],t.chartData.labels=[];const n=yield t.api.getTaskStatusCounts(t.projectId,t.archivedTasksChoice);n.done&&(t.statusCounts=n.body,yield t.loadChart(t.statusCounts)),t.loading=!1,t.cdr.markForCheck()}catch(n){t.loading=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}loadChart(t){var n=this;return(0,ce.Z)(function*(){n.chartData.datasets[0].data=[],n.chartData.labels=[];for(const s of t)n.chartData.labels?.push(s.name),n.chartData.datasets[0].data.push(s.y||0),n.statusColors.push(s.color);n.chart?.update(),n.chartData.datasets[0].data.every(s=>0===s)&&(n.isChartEmpty=!0),n.cdr.markForCheck()})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36($r),e.Y36(wt.gz),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-status-overview"]],viewQuery:function(t,n){if(1&t&&e.Gf(sr.jh,5),2&t){let s;e.iGM(s=e.CRH())&&(n.chart=s.first)}},inputs:{archived:"archived"},features:[e.TTD],decls:3,vars:3,consts:[[4,"ngIf"],["class","d-flex p-3",4,"ngIf"],[1,"d-flex","p-3"],[1,"position-relative",2,"max-width","350px"],["baseChart","",3,"width","height","data","options","plugins","legend","type",4,"ngIf"],[1,"chart-details","ms-3"],[1,"ps-0"],["class","border-bottom-0 status-list list-unstyled mb-2 d-flex align-items-center",4,"ngFor","ngForOf"],["baseChart","",3,"width","height","data","options","plugins","legend","type"],[1,"border-bottom-0","status-list","list-unstyled","mb-2","d-flex","align-items-center"],[3,"nzColor"],["nz-typography","","nz-tooltip","",1,"mb-0",3,"nzTooltipTitle"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(t,n){1&t&&(e.YNc(0,hA,1,0,"nz-spin",0),e.YNc(1,xf,6,2,"div",1),e.YNc(2,Eu,6,0,"ng-container",0)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.isChartEmpty),e.xp6(1),e.Q6J("ngIf",n.isChartEmpty))},dependencies:[Ie.sg,Ie.O5,Ut.ZU,Zt.SY,QA.W,fr.x7,sr.jh,Os.p],styles:[".chart-details[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.no-data-img-holder[_ngcontent-%COMP%]{width:65px}"],changeDetection:0}),i})();const yf=["statusOverviewChart"];function Tf(r,i){1&r&&e._UZ(0,"nz-spin")}function kf(r,i){if(1&r&&(e.TgZ(0,"div",2),e._UZ(1,"canvas",3),e.qZA()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("width",A.chartWidth)("height",350)("data",A.barChartData)("options",A.barChartOptions)("plugins",A.barChartPlugins)("legend",!1)("type","bar")}}let Qf=(()=>{var r;class i{constructor(t,n,s){this.api=t,this.route=n,this.cdr=s,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.projectId="",this.priorityStats=[],this.priorityColors=[],this.options={},this.barChartPlugins=[],this.barChartData={labels:[],datasets:[{data:[],label:"Tasks",backgroundColor:this.priorityColors}]},this.barChartOptions={responsive:!1,plugins:{datalabels:{display:!1}},scales:{y:{title:{display:!0,text:"Task Count",align:"end",font:{family:"Helvetica"}}},x:{title:{display:!0,text:"Priority",align:"end",font:{family:"Helvetica"}}}}},this.projectId=this.route.snapshot.paramMap.get("id")||""}get chartWidth(){const t=window.innerWidth;return t>1400?580:t<1400&&t>1200?460:350}ngOnChanges(t){this.getPriorityBreakdown()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}getPriorityBreakdown(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0,t.barChartData.datasets[0].data=[],t.barChartData.labels=[];const n=yield t.api.getPriorityOverview(t.projectId,t.archivedTasksChoice);n.done&&(t.priorityStats=n.body,t.loadChart(t.priorityStats)),t.loading=!1,t.cdr.markForCheck()}catch(n){t.loading=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}loadChart(t){var n=this;return(0,ce.Z)(function*(){n.barChartData.datasets[0].data=[],n.barChartData.labels=[];for(const s of t)n.barChartData.labels?.push(s.name),n.barChartData.datasets[0].data.push(s.data[0]||0),n.priorityColors.push(s.color);n.barChart?.update(),n.cdr.markForCheck()})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36($r),e.Y36(wt.gz),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-priority-breakdown"]],viewQuery:function(t,n){if(1&t&&(e.Gf(sr.jh,5),e.Gf(yf,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.barChart=s.first),e.iGM(s=e.CRH())&&(n.statusOverviewChart=s.first)}},inputs:{archived:"archived"},features:[e.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["class","position-relative","style","max-width: 350px",4,"ngIf"],[1,"position-relative",2,"max-width","350px"],["baseChart","","id","chart-view",3,"width","height","data","options","plugins","legend","type"]],template:function(t,n){1&t&&(e.YNc(0,Tf,1,0,"nz-spin",0),e.YNc(1,kf,2,7,"div",1)),2&t&&(e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",n.priorityStats.length))},dependencies:[Ie.O5,QA.W,sr.jh],changeDetection:0}),i})();var Ne=oe(94489),ei=oe(34071);function Ff(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"nz-tag",6),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const A=i.$implicit,t=e.oxw();e.xp6(2),e.Oqu(A.name),e.xp6(2),e.Q6J("nzColor",A.status_color),e.xp6(1),e.Oqu(A.status),e.xp6(2),e.hij(" ",e.xi3(8,5,A.end_date,"mediumDate")||"-"," "),e.xp6(3),e.Oqu(t.formatEndDate(A.updated_at))}}function zf(r,i){1&r&&(e.TgZ(0,"div",7)(1,"div",8),e._UZ(2,"img",9),e.qZA(),e.TgZ(3,"span",10),e._uU(4,"No tasks have been updated recently in the project."),e.qZA()())}let Lu=(()=>{var r;class i{constructor(t,n,s,o,h){this.api=t,this.utils=n,this.socket=s,this.route=o,this.cdr=h,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loadingStatuses=!1,this.loadingLastUpdatedTasks=!1,this.showTaskDrawer=!1,this.projectId="",this.selectedTaskId=null,this.lastUpdatedTasks=[],this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(t){this.getLastUpdatedTasks()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_STATUS_CHANGE.toString())}getLastUpdatedTasks(){var t=this;return(0,ce.Z)(function*(){try{t.loadingLastUpdatedTasks=!0;const n=yield t.api.getLastUpdatedTasks(t.projectId,t.archivedTasksChoice);n.done&&(t.lastUpdatedTasks=n.body),t.loadingLastUpdatedTasks=!1,t.cdr.markForCheck()}catch(n){t.loadingLastUpdatedTasks=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}onCreateOrUpdate(){this.getLastUpdatedTasks(),this.showTaskDrawer=!1,this.selectedTaskId=null,this.cdr.markForCheck()}formatEndDate(t){return Id(new Date(t),new Date,{addSuffix:!0})}trackById(t,n){return n.id}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36($r),e.Y36(JA.F),e.Y36(Kt.s),e.Y36(wt.gz),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-last-updated-tasks"]],inputs:{archived:"archived"},features:[e.TTD],decls:17,vars:9,consts:[["nzPaginationType","small",3,"nzData","nzLoading","nzSize","nzHideOnSinglePage","nzNoResult"],["tasksTable",""],["scope","col"],[4,"ngFor","ngForOf"],[3,"show","projectId","taskId","showChange","taskIdChange"],["noDataTemplate",""],[1,"text-dark","rounded-pill","task-list-label",3,"nzColor"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-table",0,1)(2,"thead")(3,"tr")(4,"th",2),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th",2),e._uU(7,"Status"),e.qZA(),e.TgZ(8,"th",2),e._uU(9,"Due Date"),e.qZA(),e.TgZ(10,"th",2),e._uU(11,"Last Updated"),e.qZA()()(),e.TgZ(12,"tbody"),e.YNc(13,Ff,11,8,"tr",3),e.qZA()(),e.TgZ(14,"worklenz-task-view",4),e.NdJ("showChange",function(o){return n.showTaskDrawer=o})("taskIdChange",function(o){return n.selectedTaskId=o}),e.qZA(),e.YNc(15,zf,5,0,"ng-template",null,5,e.W1O)),2&t){const s=e.MAs(1),o=e.MAs(16);e.Q6J("nzData",n.lastUpdatedTasks)("nzLoading",n.loadingLastUpdatedTasks)("nzSize","small")("nzHideOnSinglePage",!0)("nzNoResult",o),e.xp6(13),e.Q6J("ngForOf",s.data),e.xp6(1),e.Q6J("show",n.showTaskDrawer)("projectId",n.projectId)("taskId",n.selectedTaskId)}},dependencies:[Ie.sg,xt.N8,xt.Uo,xt._C,xt.Om,xt.p0,xt.$Z,Ut.ZU,AA.j,ei.E,Ie.uU],styles:[".no-data-img-holder[_ngcontent-%COMP%]{width:64px;margin-top:42px}"],changeDetection:0}),i})();var Nu=oe(89207);function Ou(r,i){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&r){const A=e.oxw(2);e.Q6J("nzType","secondary"),e.xp6(1),e.hij(" (",A.getProjectEndDate(A.deadlineStats.project_end_date),") ")}}function Pu(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1," Project Deadline "),e.YNc(2,Ou,2,2,"span",14),e.qZA()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("ngIf",A.deadlineStats.project_end_date)}}function Fl(r,i){if(1&r&&(e.TgZ(0,"nz-row",16)(1,"nz-col",17)(2,"div",18),e._UZ(3,"img",19),e.qZA()(),e.TgZ(4,"nz-col",3)(5,"h5",20),e._uU(6,"Overdue tasks (hours) "),e._UZ(7,"span",21),e.qZA(),e.TgZ(8,"h2",22),e._uU(9),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(3),e.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that has time logged past the end date of the project"),e.xp6(2),e.Oqu(A.deadlineStats.deadline_logged_hours_string)}}function Uf(r,i){if(1&r&&(e.TgZ(0,"nz-row",16)(1,"nz-col",17)(2,"div",18),e._UZ(3,"img",19),e.qZA()(),e.TgZ(4,"nz-col",3)(5,"h5",20),e._uU(6,"Overdue tasks "),e._UZ(7,"span",21),e.qZA(),e.TgZ(8,"h2",22),e._uU(9),e.qZA()()()),2&r){const A=e.oxw();e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(3),e.Q6J("nzSpan",18),e.xp6(3),e.Q6J("nz-tooltip","true")("nzTooltipTitle","Tasks that are past the end date of the project"),e.xp6(2),e.Oqu(A.deadlineStats.deadline_tasks_count||0)}}function Sf(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"nz-tag",23),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA()()),2&r){const A=i.$implicit;e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.Q6J("nzColor",A.status_color),e.xp6(1),e.Oqu(A.status),e.xp6(2),e.hij(" ",e.xi3(8,4,A.end_date,"mediumDate")||"-"," ")}}function If(r,i){1&r&&(e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"img",26),e.qZA(),e.TgZ(3,"div")(4,"span",27),e._uU(5,"All tasks completed on time."),e.qZA()()())}const Mf=function(){return{"padding-right":0}},Eo=function(){return{rows:3}},Lo=function(){return{size:"large",shape:"square"}},Ef=function(){return[]};let Du=(()=>{var r;class i{constructor(t,n,s,o,h,p,_){this.socket=t,this.utils=n,this.api=s,this.statusesApi=o,this.route=h,this.router=p,this.cdr=_,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.loadingStatuses=!1,this.showTaskDrawer=!1,this.deadlineStats={},this.taskStatuses=[],this.selectedTaskId=null,this.projectId="",this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){}ngOnChanges(t){this.get()}get archivedTasksChoice(){return"true"===localStorage.getItem(this.includeArchivedTasks)}get(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.api.getProjectDeadlineStats(t.projectId,t.archivedTasksChoice);n.done&&(t.deadlineStats=n.body),t.loading=!1,t.cdr.markForCheck()}catch(n){t.loading=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}trackById(t,n){return n.id}getProjectEndDate(t=""){return t?(0,Nu.Z)(new Date(t),"yyyy-MM-dd"):""}back(){this.router.navigate(["/worklenz/projects"])}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(JA.F),e.Y36($r),e.Y36(Uo.w),e.Y36(wt.gz),e.Y36(wt.F0),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-deadline"]],viewQuery:function(t,n){if(1&t&&e.Gf(yr.g,5),2&t){let s;e.iGM(s=e.CRH())&&(n.projectsForm=s.first)}},inputs:{archived:"archived"},features:[e.TTD],decls:27,vars:29,consts:[[1,"h-100",3,"nzTitle"],["deadlineCardTitle",""],[1,"justify-content-between",3,"nzGutter"],[3,"nzSpan"],[1,"h-100",3,"nzBodyStyle"],[3,"nzLoading","nzActive","nzTitle","nzParagraph","nzAvatar"],[3,"nzGutter",4,"ngIf"],[1,"h-100"],["nzPaginationType","small",1,"mt-3",3,"nzData","nzLoading","nzSize","nzHideOnSinglePage","nzNoResult"],["tasksTable",""],["scope","col"],[4,"ngFor","ngForOf"],["noDataTemplate",""],[3,"onDelete","onUpdate"],["nz-typography","",3,"nzType",4,"ngIf"],["nz-typography","",3,"nzType"],[3,"nzGutter"],[1,"d-flex","justify-content-center","align-items-center",3,"nzSpan"],[1,"icon-img-holder"],["src","/assets/images/warning.png","alt","",1,"img-fluid"],["nz-typography","",1,"m-0","fw-normal"],["nz-icon","","nzType","info-circle","nzTheme","outline",2,"color","#3587ff","font-size","14px",3,"nz-tooltip","nzTooltipTitle"],["nz-typography","",1,"m-0"],[1,"text-dark","rounded-pill","task-list-label",3,"nzColor"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/confetti (1).png","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-card",0),e.YNc(1,Pu,3,1,"ng-template",null,1,e.W1O),e.TgZ(3,"nz-row",2)(4,"nz-col",3)(5,"nz-card",4),e._UZ(6,"nz-skeleton",5),e.YNc(7,Fl,10,6,"nz-row",6),e.qZA()(),e.TgZ(8,"nz-col",3)(9,"nz-card",7),e._UZ(10,"nz-skeleton",5),e.YNc(11,Uf,10,6,"nz-row",6),e.qZA()()(),e.TgZ(12,"nz-table",8,9)(14,"thead")(15,"tr")(16,"th",10),e._uU(17,"Name"),e.qZA(),e.TgZ(18,"th",10),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"End Date"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,Sf,9,7,"tr",11),e.qZA()()(),e.YNc(24,If,6,0,"ng-template",null,12,e.W1O),e.TgZ(26,"worklenz-project-form-modal",13),e.NdJ("onDelete",function(){return n.back()})("onUpdate",function(){return n.get()}),e.qZA()),2&t){const s=e.MAs(2),o=e.MAs(13),h=e.MAs(25);e.Q6J("nzTitle",s),e.xp6(3),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzBodyStyle",e.DdM(23,Mf)),e.xp6(1),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(24,Eo))("nzAvatar",e.DdM(25,Lo)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(2),e.Q6J("nzLoading",n.loading)("nzActive",!0)("nzTitle",!1)("nzParagraph",e.DdM(26,Eo))("nzAvatar",e.DdM(27,Lo)),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("nzData",n.deadlineStats.tasks||e.DdM(28,Ef))("nzLoading",n.loading)("nzSize","small")("nzHideOnSinglePage",!0)("nzNoResult",h),e.xp6(11),e.Q6J("ngForOf",o.data)}},dependencies:[Ie.sg,Ie.O5,hn.t3,hn.SK,Wt.w,xt.N8,xt.Uo,xt._C,xt.Om,xt.p0,xt.$Z,zt.Ls,Ut.ZU,AA.j,Zt.SY,Mn.ng,DA.bd,yr.g,Ie.uU],styles:[".fs-16[_ngcontent-%COMP%]{font-size:16px}.fs-26[_ngcontent-%COMP%]{font-size:26px}.fs-50[_ngcontent-%COMP%]{font-size:50px}.icon-img-holder[_ngcontent-%COMP%]{width:90%}.no-data-img-holder[_ngcontent-%COMP%]{width:64px;margin-top:42px}"],changeDetection:0}),i})();const zl=["overviewExportDiv"];function Hu(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"a",7),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.goToList())}),e._uU(1,"See all"),e.qZA()}}let Ka=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B,x){this.api=t,this.route=n,this.router=s,this.socket=o,this.utils=h,this.prioritiesApi=p,this.statusesApi=_,this.projectInsightsComponent=B,this.cdr=x,this.archived=!1,this.includeArchivedTasks="include-archived-tasks",this.loading=!1,this.loadingProjectLogs=!1,this.loadingCategories=!1,this.projectId="",this.projectLogs=[],this.categories=[],this.toDoColorCode="",this.pendingColorCode="",this.completedColorCode="",this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){this.getCategories(),this.getProjectLogs()}getCategories(){var t=this;return(0,ce.Z)(function*(){try{t.loadingCategories=!0;const n=yield t.statusesApi.getCategories();n.done&&(t.categories=n.body,t.toDoColorCode=t.categories.find(s=>"To do"===s.name)?.color_code||"",t.pendingColorCode=t.categories.find(s=>"Doing"===s.name)?.color_code||"",t.completedColorCode=t.categories.find(s=>"Done"===s.name)?.color_code||""),t.loadingCategories=!1,t.cdr.markForCheck()}catch(n){(0,st.tu)(n),t.loadingCategories=!1,t.cdr.markForCheck()}})()}getProjectLogs(){var t=this;return(0,ce.Z)(function*(){try{t.loadingProjectLogs=!0;const n=yield t.api.getProjectLogs(t.projectId);n.done&&(t.projectLogs=n.body),t.loadingProjectLogs=!1,t.cdr.markForCheck()}catch(n){t.loadingProjectLogs=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}formatEndDate(t){return Id(new Date(t),new Date,{addSuffix:!0})}goToList(){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:"tasks-list"},queryParamsHandling:"merge"})}exportOverview(t){this.overviewExportDiv&&(this.projectInsightsComponent.isLoading=!0,ml()(this.overviewExportDiv.nativeElement).then(n=>{let s=n.toDataURL("image/PNG"),o=new gl("p","mm","a4",!0);const _=o.getImageProperties(s),B=o.internal.pageSize.getWidth()-10,x=_.height*B/_.width;let y=new Image;return y.src=location.origin+"/assets/images/logo.png",o.addImage(y,"PNG",o.internal.pageSize.getWidth()/2-12,5,30,6.5),o.setFontSize(14),o.setTextColor(0,0,0,.85),o.text(["Insights - "+t+" - Overview",`${(0,Ie.p6)(new Date,"yyyy-MM-dd","en")}`],105,17,{maxWidth:B,align:"center"}),o.addImage(s,"PNG",5,28,B,x),o}).then(n=>{n.save("Overview "+(0,Ie.p6)(new Date,"yyyy-MM-dd","en")+".pdf"),this.projectInsightsComponent.isLoading=!1}),this.cdr.markForCheck())}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36($r),e.Y36(wt.gz),e.Y36(wt.F0),e.Y36(Kt.s),e.Y36(JA.F),e.Y36(Xe.s),e.Y36(Uo.w),e.Y36(Io),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-overview"]],viewQuery:function(t,n){if(1&t&&e.Gf(zl,5),2&t){let s;e.iGM(s=e.CRH())&&(n.overviewExportDiv=s.first)}},inputs:{archived:"archived"},decls:18,vars:15,consts:[["overviewExportDiv",""],[3,"archived"],[1,"mt-3",3,"nzGutter"],[3,"nzSpan"],[1,"h-100",3,"nzTitle"],[1,"h-100",3,"nzExtra","nzTitle"],["lastExtraTemplate",""],[3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",null,0),e._UZ(2,"worklenz-project-stats",1),e.TgZ(3,"nz-row",2)(4,"nz-col",3)(5,"nz-card",4),e._UZ(6,"worklenz-status-overview",1),e.qZA()(),e.TgZ(7,"nz-col",3)(8,"nz-card",4),e._UZ(9,"worklenz-priority-breakdown",1),e.qZA()()(),e.TgZ(10,"nz-row",2)(11,"nz-col",3)(12,"nz-card",5),e._UZ(13,"worklenz-last-updated-tasks",1),e.YNc(14,Hu,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(16,"nz-col",3),e._UZ(17,"worklenz-project-deadline",1),e.qZA()()()),2&t){const s=e.MAs(15);e.xp6(2),e.Q6J("archived",n.archived),e.xp6(1),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle","Status Overview"),e.xp6(1),e.Q6J("archived",n.archived),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle","Priority Overview"),e.xp6(1),e.Q6J("archived",n.archived),e.xp6(1),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzExtra",s)("nzTitle","Last Updated Tasks"),e.xp6(1),e.Q6J("archived",n.archived),e.xp6(3),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("archived",n.archived)}},dependencies:[hn.t3,hn.SK,DA.bd,Ql,Qf,Lu,Ra,Du],styles:["nz-card[_ngcontent-%COMP%]:hover{border-color:#d3d3d3;box-shadow:0 0 0 1px #f1f1f1,0 2px 10px #6d6e6f14}"],changeDetection:0}),i})();var ln=oe(81089),Lf=oe(59556),Er=oe(32181),Ja=oe(63392);const Zu=["templateNameInput"];function Nf(r,i){1&r&&(e.TgZ(0,"span",17),e._uU(1,"Name cannot be empty!"),e.qZA())}function Of(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"label",12),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.tStatusCheck=n)}),e._uU(2,"Status"),e.qZA(),e.BQk()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzChecked",A.tStatusCheck)("ngModel",A.tStatusCheck)("nzDisabled",A.checked)}}function ju(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.tPhaseCheck=n)}),e._uU(2,"Phase"),e.qZA(),e.BQk()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzChecked",A.tPhaseCheck)("ngModel",A.tPhaseCheck)}}function Ps(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.tLabelsCheck=n)}),e._uU(2,"Labels"),e.qZA(),e.BQk()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzChecked",A.tLabelsCheck)("ngModel",A.tLabelsCheck)}}function Ul(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div")(1,"nz-form-item")(2,"nz-form-label",3),e._uU(3,"Template name"),e.qZA(),e.TgZ(4,"nz-form-control",4)(5,"input",5,6),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.templateName=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.nameChange(n))}),e.qZA(),e.YNc(7,Nf,2,0,"span",7),e.qZA()(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10,"What should be included in the template from the project ?"),e.qZA(),e.TgZ(11,"div",10)(12,"div",11)(13,"label",12),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.pStatusCheck=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.projectCheckChange("pStatuses",n))}),e._uU(14,"Statuses"),e.qZA()(),e.TgZ(15,"div")(16,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.pPhasesCheck=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.projectCheckChange("pPhases",n))}),e._uU(17,"Phases"),e.qZA()(),e.TgZ(18,"div",14)(19,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.pLabelsCheck=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.projectCheckChange("pLabels",n))}),e._uU(20,"Labels"),e.qZA()()()(),e.TgZ(21,"div")(22,"span",9),e._uU(23,"What should be included in tasks ?"),e.qZA(),e.TgZ(24,"div",10)(25,"div",11)(26,"label",12),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.checked=n)}),e._uU(27,"Name"),e.qZA()(),e.TgZ(28,"div",15)(29,"label",12),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.checked=n)}),e._uU(30,"Priority"),e.qZA()(),e.TgZ(31,"div",15),e.YNc(32,Of,3,3,"ng-container",16),e.qZA(),e.TgZ(33,"div",15),e.YNc(34,ju,3,2,"ng-container",16),e.qZA(),e.TgZ(35,"div",15),e.YNc(36,Ps,3,2,"ng-container",16),e.qZA(),e.TgZ(37,"div",15),e.ynx(38),e.TgZ(39,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.tEstimationCheck=n)}),e._uU(40,"Time Estimation"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(41,"div",15),e.ynx(42),e.TgZ(43,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.tDescriptionCheck=n)}),e._uU(44,"Description"),e.qZA(),e.BQk(),e.qZA(),e.TgZ(45,"div"),e.ynx(46),e.TgZ(47,"label",13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.tSubTasksCheck=n)}),e._uU(48,"Sub Tasks"),e.qZA(),e.BQk(),e.qZA()()()()}if(2&r){const A=e.oxw();e.xp6(2),e.Q6J("nzSpan",24),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("placeholder","Enter template name")("ngClass",A.showErrorText?"error-input":"")("ngModel",A.templateName),e.xp6(2),e.Q6J("ngIf",A.showErrorText),e.xp6(6),e.Q6J("nzChecked",A.pStatusCheck)("ngModel",A.pStatusCheck)("nzDisabled",A.checked),e.xp6(3),e.Q6J("nzChecked",A.pPhasesCheck)("ngModel",A.pPhasesCheck),e.xp6(3),e.Q6J("nzChecked",A.pLabelsCheck)("ngModel",A.pLabelsCheck),e.xp6(7),e.Q6J("nzChecked",!0)("ngModel",A.checked)("nzDisabled",A.checked),e.xp6(3),e.Q6J("nzChecked",!0)("ngModel",A.checked)("nzDisabled",A.checked),e.xp6(3),e.Q6J("ngIf",A.pStatusCheck),e.xp6(2),e.Q6J("ngIf",A.pPhasesCheck),e.xp6(2),e.Q6J("ngIf",A.pLabelsCheck),e.xp6(3),e.Q6J("nzChecked",A.tEstimationCheck)("ngModel",A.tEstimationCheck),e.xp6(4),e.Q6J("nzChecked",A.tDescriptionCheck)("ngModel",A.tDescriptionCheck),e.xp6(4),e.Q6J("nzChecked",A.tSubTasksCheck)("ngModel",A.tSubTasksCheck)}}function Ya(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.close())}),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.saveTemplate())}),e._uU(4," Save "),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(3),e.Q6J("nzLoading",A.creating)("disabled",A.disableBtnActive)}}let Sl=(()=>{var r;class i{constructor(t,n,s){this.cdr=t,this.api=n,this.ngZone=s,this.projectId=null,this.templateName=null,this.show=!1,this.checked=!0,this.showErrorText=!1,this.disableBtnActive=!0,this.pStatusCheck=!0,this.pPhasesCheck=!0,this.pLabelsCheck=!0,this.tStatusCheck=!0,this.tPhaseCheck=!0,this.tEstimationCheck=!0,this.tLabelsCheck=!0,this.tDescriptionCheck=!0,this.tSubTasksCheck=!0,this.creating=!1}open(){var t=this;return(0,ce.Z)(function*(){t.show=!0,t.ngZone.runOutsideAngular(()=>{setTimeout(()=>{t.templateNameInput.nativeElement.focus()},100)}),t.cdr.markForCheck()})()}close(){this.show=!1,this.cdr.markForCheck()}nameChange(t){""!==t.trim()?(this.disableBtnActive=!1,this.showErrorText=!1,this.cdr.markForCheck()):this.showErrorText=!0}projectCheckChange(t,n){switch(t){case"pStatuses":n||(this.tStatusCheck=!1);break;case"pPhases":n||(this.tPhaseCheck=!1);break;case"pLabels":n||(this.tLabelsCheck=!1)}this.cdr.markForCheck()}saveTemplate(){var t=this;return(0,ce.Z)(function*(){if(t.templateName&&""!==t.templateName.trim()&&t.projectId)try{t.creating=!0;const n={project_id:t.projectId,templateName:t.templateName,projectIncludes:{statuses:t.pStatusCheck,phases:t.pPhasesCheck,labels:t.pLabelsCheck},taskIncludes:{status:t.tStatusCheck,phase:t.tPhaseCheck,labels:t.tLabelsCheck,estimation:t.tEstimationCheck,description:t.tDescriptionCheck,subtasks:t.tSubTasksCheck}};(yield t.api.createCustomTemplate(n)).done&&(t.creating=!1,t.show=!1),t.creating=!1,t.cdr.markForCheck()}catch(n){(0,st.tu)(n),t.cdr.markForCheck()}else t.showErrorText=!0})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Lc.I),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-template-create-drawer"]],viewQuery:function(t,n){if(1&t&&e.Gf(Zu,5),2&t){let s;e.iGM(s=e.CRH())&&(n.templateNameInput=s.first)}},inputs:{projectId:"projectId"},standalone:!0,features:[e.jDz],decls:4,vars:5,consts:[["nzPlacement","right",3,"nzClosable","nzVisible","nzWidth","nzTitle","nzFooter","nzOnClose"],[4,"nzDrawerContent"],["footer",""],["nzRequired","",3,"nzSpan"],[3,"nzSpan"],["nz-input","",1,"w-100",3,"placeholder","ngClass","ngModel","ngModelChange"],["templateNameInput",""],["class","empty-error-text",4,"ngIf"],[1,"ant-form-item"],["nz-typography",""],[1,"ms-2"],[1,"my-2"],["nz-checkbox","",3,"nzChecked","ngModel","nzDisabled","ngModelChange"],["nz-checkbox","",3,"nzChecked","ngModel","ngModelChange"],[1,"mt-2"],[1,"mb-2"],[4,"ngIf"],[1,"empty-error-text"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-drawer",0),e.NdJ("nzOnClose",function(){return n.close()}),e.YNc(1,Ul,49,28,"div",1),e.YNc(2,Ya,5,2,"ng-template",null,2,e.W1O),e.qZA()),2&t){const s=e.MAs(3);e.Q6J("nzClosable",!0)("nzVisible",n.show)("nzWidth",420)("nzTitle","Save as template")("nzFooter",s)}},dependencies:[Ie.ez,Ie.mk,Ie.O5,lA.BL,lA.Vz,lA.SQ,mn.U5,hn.t3,hn.SK,mn.Nx,mn.iK,mn.Fd,Pe.u5,Pe.Fj,Pe.JJ,Pe.On,Ut.ZJ,Ut.ZU,qA.Wr,qA.Ie,nA.o7,nA.Zp,Vt.sL,Vt.ix,Wt.w,an.dQ],styles:['.required-star[_ngcontent-%COMP%]{display:inline-block;margin-right:4px;color:#ff4d4f;font-size:14px;font-family:SimSun,sans-serif;line-height:1;content:"*"}.empty-error-text[_ngcontent-%COMP%]{color:#ff4d4f}.error-input[_ngcontent-%COMP%]{border-color:#ff4d4f;box-shadow:none}'],changeDetection:0}),i})();var No=oe(34554),Qi=oe(18223),Pf=oe(85080),Il=oe(48327),Lr=oe(74764),qa=oe(45019),Ru=oe(78066),Ml=oe(88019),ti=oe(5882),Oo=oe(81221),es=oe(79382),$n=oe(9691),Nr=oe(2919),Va=oe(93302);const Gu=["searchInput"];function Df(r,i){if(1&r&&(e.TgZ(0,"nz-form-label",2),e._uU(1),e.qZA()),2&r){const A=e.oxw();e.Q6J("nzSpan",null),e.xp6(1),e.Oqu(A.label)}}function Ku(r,i){if(1&r&&(e.TgZ(0,"nz-option",10)(1,"div",11),e._UZ(2,"nz-avatar",12),e.ALo(3,"firstCharUpper"),e.TgZ(4,"div",13)(5,"span",14),e._uU(6),e.qZA(),e.TgZ(7,"small",15),e._uU(8),e.qZA()()()()),2&r){const A=e.oxw().$implicit;e.s9C("nzLabel",A.name),e.Q6J("nzValue",A.id),e.xp6(2),e.Udp("background-color",A.avatar_url?"#ececec":A.color_code),e.Q6J("nzSize",28)("nzText",e.lcZ(3,11,A.name))("nzTooltipTitle",A.name)("nzSrc",A.avatar_url)("nzTooltipPlacement","top"),e.xp6(4),e.Oqu(A.name),e.xp6(2),e.Oqu(A.email)}}function Ju(r,i){if(1&r&&(e.ynx(0,8),e.YNc(1,Ku,9,13,"nz-option",9),e.BQk()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngIf",!A.searching)}}function Hf(r,i){1&r&&(e.TgZ(0,"nz-option",16),e._UZ(1,"span",17),e._uU(2," Loading Data... "),e.qZA())}function Zf(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.sendInvitation())}),e._UZ(1,"span",19),e._uU(2),e.qZA(),e.TgZ(3,"div",20),e._uU(4," Invitees will be added to the team and project either they accept the invitation or not. "),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("disabled",!A.isValueIsAnEmail()||A.inviting)("nzLoading",A.inviting),e.xp6(2),e.hij(" ",A.buttonText," ")}}const Ds=function(){return{"min-height":"50px"}},Yu=function(){return[]};let Sn=(()=>{var r;class i{get buttonText(){return this.isValueIsAnEmail()?"Invite as a member":"Invite a new member by email"}constructor(t,n,s,o,h,p,_,B){this.api=t,this.membersApi=n,this.fb=s,this.route=o,this.ngZone=h,this.cdr=p,this.projectsService=_,this.auth=B,this.refresh=new e.vpe,this.membersChange=new e.vpe,this.members=[],this.placeholder="Select Members",this.label="Members",this.multiple=!1,this.disabled=!1,this.autofocus=!1,this.disableTeamInvites=!1,this.loading=!1,this.searching=!1,this.inviting=!1,this.model={},this.searchingName=null,this.projectId=null,this.projectId=this.route.snapshot.paramMap.get("id"),this.form=this.fb.group({members:[]}),this.form.controls.members?.valueChanges.subscribe(x=>{this.emitChanges(x)})}ngOnInit(){var t=this;return(0,ce.Z)(function*(){t.form.controls.members.setValue(t.members||[]),yield t.init(),t.cdr.detectChanges()})()}ngAfterViewInit(){this.autofocus&&(this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.searchInput.setOpenState(!0)},Ot.GR)}),this.cdr.detectChanges())}init(){var t=this;return(0,ce.Z)(function*(){t.loading=!0,yield t.get(),t.loading=!1,t.cdr.detectChanges()})()}get(){var t=this;return(0,ce.Z)(function*(){try{const n=yield t.api.get(1,5,"name",null,t.searchingName);n.done&&(t.model=n.body),t.cdr.detectChanges()}catch(n){(0,st.tu)(n),t.cdr.detectChanges()}})()}search(t){var n=this;return(0,ce.Z)(function*(){n.searchingName=t,n.searching=!0,yield n.get(),n.searching=!1,n.cdr.detectChanges()})()}reset(){this.form.reset(),this.searchingName=null,this.init(),this.cdr.detectChanges()}emitChanges(t){this.members=t,this.membersChange.emit(t),this.cdr.detectChanges()}trackById(t,n){return n.id}isValueIsAnEmail(){return!!this.searchingName&&(0,st.PH)(this.searchingName)}resetSearchInput(){this.reset(),this.searchInput.clearInput(),this.searchInput.focus(),this.cdr.detectChanges()}handleEnterKeyPress(t){"Enter"===t.code&&this.isValueIsAnEmail()&&this.sendInvitation()}sendInvitation(){var t=this;return(0,ce.Z)(function*(){if(t.projectId&&"string"==typeof t.searchingName&&t.searchingName.length)try{const n=t.searchingName.trim().toLowerCase(),s={project_id:t.projectId,email:n};t.inviting=!0;const o=yield t.membersApi.createByEmail(s);t.inviting=!1,o.done&&(t.resetSearchInput(),t.refresh?.emit()),t.cdr.detectChanges()}catch{t.inviting=!1,t.cdr.detectChanges()}})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Ha.B),e.Y36(Va.r),e.Y36(Pe.qu),e.Y36(wt.gz),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(Qi.m),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-team-members-autocomplete"]],viewQuery:function(t,n){if(1&t&&e.Gf(Gu,5),2&t){let s;e.iGM(s=e.CRH())&&(n.searchInput=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("keydown",function(o){return n.handleEnterKeyPress(o)},!1,e.evT)},inputs:{members:"members",placeholder:"placeholder",label:"label",multiple:"multiple",disabled:"disabled",autofocus:"autofocus",disableTeamInvites:"disableTeamInvites"},outputs:{refresh:"refresh",membersChange:"membersChange"},standalone:!0,features:[e.jDz],decls:10,vars:17,consts:[["nz-form","",3,"formGroup","nzLayout"],[3,"nzSpan",4,"ngIf"],[3,"nzSpan"],["nzAllowClear","","nzServerSearch","","nzShowSearch","",1,"member-add-selector",3,"formControlName","nzDisabled","nzLoading","nzMode","nzPlaceHolder","nzNotFoundContent","nzShowArrow","nzDropdownStyle","nzOnSearch"],["searchInput",""],["style","min-height: 50px",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","","nzDisabled","",4,"ngIf"],["notFoundContentTemplate",""],[2,"min-height","50px"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel"],[1,"d-flex","align-items-center","user-select-none"],["nz-tooltip","",1,"mt-auto","mb-auto","me-2",3,"nzSize","nzText","nzTooltipTitle","nzSrc","nzTooltipPlacement"],[2,"line-height","15px"],["nz-typography","",1,"d-block"],["nz-typography","","nzType","secondary"],["nzCustomContent","","nzDisabled",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nz-button","","nzType","primary","nzBlock","",3,"disabled","nzLoading","click"],["nz-icon","","nzType","mail","nzTheme","outline"],["nz-typography","","nzType","secondary",1,"mt-2","mb-0",2,"font-size","12px"]],template:function(t,n){if(1&t&&(e.TgZ(0,"form",0)(1,"nz-form-item"),e.YNc(2,Df,2,2,"nz-form-label",1),e.TgZ(3,"nz-form-control",2)(4,"nz-select",3,4),e.NdJ("nzOnSearch",function(o){return n.search(o)}),e.YNc(6,Ju,2,1,"ng-container",5),e.YNc(7,Hf,3,0,"nz-option",6),e.qZA()()()(),e.YNc(8,Zf,5,3,"ng-template",null,7,e.W1O)),2&t){const s=e.MAs(9);e.Q6J("formGroup",n.form)("nzLayout","vertical"),e.xp6(2),e.Q6J("ngIf",n.label),e.xp6(1),e.Q6J("nzSpan",null),e.xp6(1),e.Q6J("formControlName","members")("nzDisabled",n.disabled)("nzLoading",n.loading)("nzMode",n.multiple?"multiple":"default")("nzPlaceHolder",n.placeholder)("nzNotFoundContent",n.disableTeamInvites?"":s)("nzShowArrow",!1)("nzDropdownStyle",e.DdM(15,Ds)),e.xp6(2),e.Q6J("ngForOf",n.model.data||e.DdM(16,Yu))("ngForTrackBy",n.trackById),e.xp6(1),e.Q6J("ngIf",n.searching)}},dependencies:[$n.LV,$n.Ip,$n.Vq,Ie.O5,Ut.ZJ,Ut.ZU,Pe.UX,Pe._Y,Pe.JJ,Pe.JL,Pe.sg,Pe.u,mn.U5,hn.t3,hn.SK,mn.Lr,mn.Nx,mn.iK,mn.Fd,Ie.sg,zt.PV,zt.Ls,yA.Rt,yA.Dz,Zt.cg,Zt.SY,Vt.sL,Vt.ix,Wt.w,an.dQ,Nr.I],changeDetection:0}),i})();var vA=oe(16976),mr=oe(19035);function Fi(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-list-item",8)(1,"div",9),e._UZ(2,"nz-avatar",10),e.ALo(3,"firstCharUpper"),e.ALo(4,"safeString"),e.TgZ(5,"div",11)(6,"span",12),e._uU(7),e.qZA(),e.TgZ(8,"small",13),e._uU(9),e.qZA()()(),e.TgZ(10,"button",14),e.NdJ("nzOnConfirm",function(){const s=e.CHM(A).$implicit,o=e.oxw(3);return e.KtG(o.removeMember(s.id))}),e._UZ(11,"span",15),e.qZA()()}if(2&r){const A=i.$implicit;e.xp6(2),e.Udp("background-color",A.avatar_url?"#ececec":A.color_code),e.Q6J("nzSize",28)("nzText",e.lcZ(3,15,A.name))("nzTooltipTitle",e.lcZ(4,17,A.name))("nzSrc",A.avatar_url)("nzTooltipPlacement","top"),e.xp6(5),e.Oqu(A.name),e.xp6(2),e.Oqu(A.email),e.xp6(1),e.Q6J("nzOkText","OK")("nzPopconfirmTitle","Member will also removes from assigned tasks.")("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Remove from project")("nzType","default")}}function zi(r,i){if(1&r&&(e.TgZ(0,"nz-list",6),e.YNc(1,Fi,12,19,"nz-list-item",7),e.qZA()),2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",A.members)("ngForTrackBy",A.trackById)}}function Po(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"nz-spin",2)(2,"form",3)(3,"worklenz-team-members-autocomplete",4),e.NdJ("membersChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.membersChange(n))})("refresh",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.getMembers())}),e.qZA()(),e.YNc(4,zi,2,2,"nz-list",5),e.qZA(),e.BQk()}if(2&r){const A=e.oxw();e.xp6(1),e.Q6J("nzSpinning",!1),e.xp6(1),e.Q6J("nzLayout","vertical"),e.xp6(1),e.Q6J("label","Add members by adding their name or email")("placeholder","Type name or email...")("autofocus",A.autofocus)("disableTeamInvites",A.adminAndManager()),e.xp6(1),e.Q6J("ngIf",A.members.length)}}let Or=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.api=t,this.list=n,this.projectFormService=s,this.cdr=o,this.auth=h,this.projectsService=p,this.show=!1,this.showChange=new e.vpe,this.onUpdate=new e.vpe,this.projectId=null,this.isProjectManager=!1,this.loading=!1,this.autofocus=!1,this.members=[],this.isProjectManagerAndAdmin=!1,this.list.onInviteClick$.pipe((0,Pt.sL)()).subscribe(()=>{this.autofocus=!0,this.show=!0,this.showChange.emit(!0)})}closeModal(){this.projectFormService.emitMemberAssignOrRemoveReProject(),this.autofocus=!1,this.show=!1,this.showChange.emit(!1)}adminAndManager(){return this.isProjectManager&&this.auth.isOwnerOrAdmin()?this.isProjectManagerAndAdmin=!1:!(!this.isProjectManager||this.auth.isOwnerOrAdmin())&&(this.isProjectManagerAndAdmin=!0)}getMembers(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{t.loading=!0;const n=yield t.api.getByProjectId(t.projectId);n.done&&(t.members=n.body),t.loading=!1,t.cdr.markForCheck()}catch(n){(0,st.tu)(n),t.loading=!1,t.cdr.markForCheck()}})()}addMember(t){var n=this;return(0,ce.Z)(function*(){if(t&&n.projectId)try{n.teamMembersAutocomplete.reset(),(yield n.api.create({team_member_id:t,project_id:n.projectId})).done&&(pt.s.track(Ve.ek),n.onUpdate?.emit(),n.getMembers(),n.projectFormService.emitMemberAssignOrRemoveReProject(),n.cdr.markForCheck())}catch(s){(0,st.tu)(s)}})()}onVisibleChange(t){t&&this.getMembers()}membersChange(t){if(Array.isArray(t)&&!t.length)return;const n=Array.isArray(t)&&t.length?t[0]:t;n&&(this.addMember(n),this.cdr.markForCheck())}removeMember(t){var n=this;return(0,ce.Z)(function*(){if(t)try{(yield n.api.deleteById(t,n.projectId)).done&&(n.onUpdate?.emit(),n.getMembers(),n.projectFormService.emitMemberAssignOrRemoveReProject(),n.cdr.markForCheck())}catch(s){(0,st.tu)(s)}})()}trackById(t,n){return n.id}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Va.r),e.Y36(YA.b),e.Y36(qa.s),e.Y36(e.sBO),e.Y36(yn.e),e.Y36(Qi.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-members-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Sn,5),2&t){let s;e.iGM(s=e.CRH())&&(n.teamMembersAutocomplete=s.first)}},inputs:{show:"show",projectId:"projectId",isProjectManager:"isProjectManager"},outputs:{showChange:"showChange",onUpdate:"onUpdate"},standalone:!0,features:[e.jDz],decls:2,vars:4,consts:[[3,"nzVisible","nzClosable","nzPlacement","nzTitle","nzOnClose","nzVisibleChange"],[4,"nzDrawerContent"],[3,"nzSpinning"],["nz-form","",3,"nzLayout"],[3,"label","placeholder","autofocus","disableTeamInvites","membersChange","refresh"],["class","scrollable-list mb-4","nzBordered","","nzSize","small",4,"ngIf"],["nzBordered","","nzSize","small",1,"scrollable-list","mb-4"],["class","default-list-item-p-11",4,"ngFor","ngForOf","ngForTrackBy"],[1,"default-list-item-p-11"],[1,"d-flex","align-items-center","user-select-none"],["nz-tooltip","",1,"mt-auto","mb-auto","me-2",3,"nzSize","nzText","nzTooltipTitle","nzSrc","nzTooltipPlacement"],[2,"line-height","15px"],["nz-typography","",1,"d-block"],["nz-typography","","nzType","secondary"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","nzOnConfirm"],["nz-icon","","nzType","delete"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-drawer",0),e.NdJ("nzOnClose",function(){return n.closeModal()})("nzVisibleChange",function(o){return n.show=o})("nzVisibleChange",function(o){return n.onVisibleChange(o)}),e.YNc(1,Po,5,7,"ng-container",1),e.qZA()),2&t&&e.Q6J("nzVisible",n.show)("nzClosable",!0)("nzPlacement","right")("nzTitle","Project Members")},dependencies:[QA.j,QA.W,vA.Ph,vA.n_,vA.AA,lA.BL,lA.Vz,lA.SQ,Ie.O5,Zt.cg,Zt.SY,Ut.ZJ,Ut.ZU,Ie.sg,mr._p,mr.JW,mn.U5,mn.Lr,Vt.sL,Vt.ix,Wt.w,an.dQ,zt.PV,zt.Ls,Sn,yA.Rt,yA.Dz,Nr.I,VA.m]}),i})();var Ui=oe(60804),Do=oe(66987),El=oe(82803);const Ll=["templateSelect"];function Ho(r,i){if(1&r&&(e._UZ(0,"nz-option",14),e.ALo(1,"safeString")),2&r){const A=i.$implicit;e.Q6J("nzLabel",e.lcZ(1,2,A.name))("nzValue",A.id)}}function qu(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",15)(1,"ul",16)(2,"nz-list-item-action")(3,"a",17),e.NdJ("click",function(){const s=e.CHM(A).index,o=e.oxw(2);return e.KtG(o.removeTask(s))}),e._uU(4,"Remove"),e.qZA()()(),e._uU(5),e.qZA()}if(2&r){const A=i.$implicit;e.xp6(5),e.hij(" ",A.name," ")}}function Vu(r,i){if(1&r&&(e.TgZ(0,"form",3)(1,"div",4)(2,"div",5)(3,"nz-form-item",6)(4,"nz-form-label"),e._uU(5,"Select Template"),e.qZA(),e.TgZ(6,"nz-form-control",7)(7,"nz-select",8,9),e.YNc(9,Ho,2,4,"nz-option",10),e.qZA()()(),e._UZ(10,"nz-divider"),e.TgZ(11,"span",11),e._uU(12),e.qZA(),e.TgZ(13,"ul",12),e.YNc(14,qu,6,1,"li",13),e.qZA()()()()),2&r){const A=e.oxw();e.Q6J("formGroup",A.form),e.xp6(1),e.Q6J("nzGutter",8),e.xp6(6),e.Q6J("nzPlaceHolder","Please select a template to load tasks")("formControlName","template")("nzLoading",A.loadingTemplates),e.xp6(2),e.Q6J("ngForOf",A.templates),e.xp6(3),e.hij("Selected Tasks (",A.tasks.length,")"),e.xp6(1),e.Q6J("nzDataSource",A.tasks)("nzLoading",A.loadingData)("nzNoResult","No template selected! Please select a template to load tasks."),e.xp6(1),e.Q6J("ngForOf",A.tasks)}}function Wa(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.closeDrawer())}),e._uU(2,"Cancel"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.importFromTemplate())}),e._uU(4,"Import"),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(3),e.Q6J("nzLoading",A.importing)}}const jf=function(){return{overflow:"auto"}};let Wu=(()=>{var r;class i{constructor(t,n,s,o,h){this.api=t,this.ngZone=n,this.app=s,this.fb=o,this.cdr=h,this.drawerVisible=!1,this.projectId=null,this.onImportDone=new e.vpe,this.onCancel=new e.vpe,this.selectedId=null,this.loadingTemplates=!1,this.loadingData=!1,this.importing=!1,this.templates=[],this.tasks=[],this.form=this.fb.group({template:[null,Pe.kI.required]}),this.form.get("template")?.valueChanges.subscribe(p=>{p&&(this.selectedId=p,this.templateSelected())})}ngOnDestroy(){this.reset(),this.cdr.markForCheck()}open(){this.drawerVisible=!0,this.cdr.markForCheck()}closeDrawer(){this.form.reset(),this.tasks=[],this.onCancel.emit(),this.cdr.markForCheck()}onVisibleChange(t){t&&(this.getTaskTemplate(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.selectTemplate?.focus()},Ot.GR)})),this.cdr.markForCheck()}getTaskTemplate(){var t=this;return(0,ce.Z)(function*(){try{t.loadingTemplates=!0;const n=yield t.api.get();n.done&&(t.templates=n.body,t.loadingTemplates=!1)}catch{t.loadingTemplates=!1}t.cdr.markForCheck()})()}getTemplateData(){var t=this;return(0,ce.Z)(function*(){if(t.selectedId){try{t.loadingData=!0;const n=yield t.api.getById(t.selectedId);n.done&&(t.tasks=n.body.tasks||[],t.loadingData=!1)}catch{t.loadingData=!1}t.cdr.markForCheck()}})()}templateSelected(){this.getTemplateData()}removeTask(t){this.tasks.length>1?this.tasks.splice(t,1):this.tasks=[]}validateForm(){for(const t in this.form.controls)this.form.controls[t].updateValueAndValidity();this.cdr.markForCheck()}importFromTemplate(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{if(t.validateForm(),t.form.invalid)return void t.form.markAsTouched();t.tasks.length?(t.importing=!0,(yield t.api.import(t.projectId,t.tasks)).done&&(t.api.emitOnImport(),t.onImportDone.emit(),t.reset(),t.drawerVisible=!1),t.importing=!1):t.app.notify("Incomplete request!","No tasks to import",!1)}catch{t.importing=!1}t.cdr.markForCheck()}})()}reset(){this.tasks=[],this.selectedId=null,this.form.reset(),this.cdr.markForCheck()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(El.e),e.Y36(e.R0b),e.Y36(ia.z),e.Y36(Pe.qu),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-import-tasks-template"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ll,5),2&t){let s;e.iGM(s=e.CRH())&&(n.selectTemplate=s.first)}},inputs:{drawerVisible:"drawerVisible",projectId:"projectId"},outputs:{onImportDone:"onImportDone",onCancel:"onCancel"},standalone:!0,features:[e.jDz],decls:4,vars:6,consts:[[3,"nzBodyStyle","nzWidth","nzVisible","nzTitle","nzFooter","nzOnClose","nzVisibleChange"],["nz-form","",3,"formGroup",4,"nzDrawerContent"],["footerTpl",""],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24"],[1,"mb-4"],["nzErrorTip","Please select a template!"],["name","template",3,"nzPlaceHolder","formControlName","nzLoading"],["templateSelect",""],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-typography","",1,"fw-bold"],["nz-list","","nzBordered","",1,"mt-4",3,"nzDataSource","nzLoading","nzNoResult"],["nz-list-item","",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-list-item",""],["nz-list-item-actions",""],[3,"click"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-drawer",0),e.NdJ("nzOnClose",function(){return n.closeDrawer()})("nzVisibleChange",function(o){return n.onVisibleChange(o)}),e.YNc(1,Vu,15,11,"form",1),e.YNc(2,Wa,5,1,"ng-template",null,2,e.W1O),e.qZA()),2&t){const s=e.MAs(3);e.Q6J("nzBodyStyle",e.DdM(5,jf))("nzWidth",650)("nzVisible",n.drawerVisible)("nzTitle","Import tasks")("nzFooter",s)}},dependencies:[Ie.ez,Ie.sg,lA.BL,lA.Vz,lA.SQ,hn.Jb,hn.t3,hn.SK,$n.LV,$n.Ip,$n.Vq,Vt.sL,Vt.ix,Wt.w,an.dQ,mn.U5,mn.Lr,mn.Nx,mn.iK,mn.Fd,Pe.u5,Pe._Y,Pe.JJ,Pe.JL,vA.Ph,vA.n_,vA.AA,vA.nk,vA.KC,Ui.Xo,Pe.UX,Pe.sg,Pe.u,Do.S,Do.g,VA.m,Ut.ZJ,Ut.ZU],changeDetection:0}),i})();var Rf=oe(8180),ni=oe(26236),Xa=oe(63019);class Nl{constructor(i){this.columns=i}}var Gf=oe(16676),me=oe.n(Gf),Zo=oe(78027),Kf=oe(8725),jo=oe(25335),_r=oe(52682),Ro=oe(77835),$a=oe(93903),Hs=oe(76643);let Xu=(()=>{var r;class i{constructor(t){this.utils=t}transform(t,...n){return this.utils.checkForMinDate(t)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(JA.F,16))},r.\u0275pipe=e.Yjl({name:"validateMinDate",type:r,pure:!0}),i})(),$u=(()=>{var r;class i{constructor(t,n,s){this.socket=t,this.cdr=n,this.auth=s,this.task={},this.handleResponse=o=>{o.id===this.task.id&&this.task.end_date!==o.end_date&&(this.task.end_date=o.end_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}handleEndDateChange(t,n){this.socket.emit(Ne.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,end_date:(0,st.A6)(t)||null,parent_task:n.parent_task_id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}checkForPastDate(t){return me()(t).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(t){const n=me()(t).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return n===me()().format("YYYY-MM-DD")||n===s}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-end-date"]],inputs:{task:"task"},decls:7,vars:15,consts:[[1,"h-100","d-flex","w-100",3,"ngClass"],["elementDueDate",""],["nz-typography","",1,"date-text"],[1,"bg-transparent","w-100","kanban-task-card-due-date",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1)(2,"span",2),e._uU(3),e.ALo(4,"dateFormatter"),e.qZA(),e.TgZ(5,"nz-date-picker",3),e.NdJ("ngModelChange",function(o){return n.task.end_date=o})("ngModelChange",function(o){return n.handleEndDateChange(o,n.task)}),e.ALo(6,"validateMinDate"),e.qZA()()),2&t&&(e.Q6J("ngClass",n.task.end_date?"show-def":"show-hover"),e.xp6(2),e.ekj("past-date",n.checkForPastDate(n.task.end_date))("soon-date",n.checkForSoonDate(n.task.end_date)),e.xp6(1),e.Oqu(e.lcZ(4,11,n.task.end_date)),e.xp6(2),e.Q6J("ngModel",n.task.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Due date")("nzDisabledDate",e.lcZ(6,13,n.task.start_date)))},dependencies:[Ie.mk,_r.uw,Ut.ZU,Pe.JJ,Pe.On,Hs.l,Xu],styles:["nz-date-picker[_ngcontent-%COMP%]{padding:1px 4px;max-width:105px;height:24px;margin-left:-4px;border-color:transparent!important}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.date-text[_ngcontent-%COMP%]{font-size:12px;line-height:24px}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.show-hover[_ngcontent-%COMP%]{opacity:0}.show-hover[_ngcontent-%COMP%]:hover, .show-def[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),i})();var jn=oe(78645),Pr=oe(59773);function Jf(r,i){1&r&&e._UZ(0,"span",6)}function Yf(r,i){1&r&&e._UZ(0,"span",7)}function qf(r,i){if(1&r&&(e.TgZ(0,"div",2)(1,"nz-tag",3),e._uU(2),e.YNc(3,Jf,1,0,"span",4),e.YNc(4,Yf,1,0,"span",5),e.qZA()()),2&r){const A=e.oxw(),t=e.MAs(2);e.xp6(1),e.Q6J("nzTooltipTitle",t),e.xp6(1),e.hij(" ",null==A.task.all_labels?null:A.task.all_labels.length," "),e.xp6(1),e.Q6J("ngIf",1===(null==A.task.labels?null:A.task.labels.length)),e.xp6(1),e.Q6J("ngIf",A.task.labels&&A.task.labels.length>1)}}function Ol(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"p",9),e._uU(2),e.qZA(),e.BQk()),2&r){const A=i.$implicit;e.xp6(2),e.Oqu(A.name)}}function Vf(r,i){if(1&r&&e.YNc(0,Ol,3,1,"ng-container",8),2&r){const A=e.oxw();e.Q6J("ngForOf",A.task.all_labels)}}let Pl=(()=>{var r;class i{constructor(t,n,s,o){this.cdr=t,this.socket=n,this.service=s,this.map=o,this.task={},this.alpha=Ot.Yj,this.labels=[],this.labelsCount=null,this.destroy$=new jn.x,this.handleLabelsChange=h=>{if(h&&h.id===this.task.id){if(this.task.labels=h.labels,this.task.all_labels=h.all_labels,h.new_label)if(h.is_new){const p=[...this.service.labels];p.push(h.new_label),this.service.labels=[...p]}else{const p=this.labels.find(_=>_.id===h.new_label.id);p&&(p.selected=!0)}this.cdr.markForCheck()}},this.service.onLabelsChange$.pipe((0,Pr.R)(this.destroy$)).subscribe(()=>{this.updateLabels(),this.cdr.markForCheck()})}ngOnInit(){this.updateLabels(),this.socket.on(Ne.C.TASK_LABELS_CHANGE.toString(),this.handleLabelsChange),this.socket.on(Ne.C.CREATE_LABEL.toString(),this.handleLabelsChange)}ngOnDestroy(){this.labels=[],this.destroy$.next(),this.destroy$.complete(),this.socket.removeListener(Ne.C.TASK_LABELS_CHANGE.toString(),this.handleLabelsChange),this.socket.removeListener(Ne.C.CREATE_LABEL.toString(),this.handleLabelsChange)}updateLabels(){this.labels=this.service.labels}trackById(t,n){return n.id}handleLabelChange(t){this.socket.emit(Ne.C.TASK_LABELS_CHANGE.toString(),JSON.stringify({task_id:this.task.id,label_id:t.id,parent_task:this.task.parent_task_id}))}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Kt.s),e.Y36(YA.b),e.Y36(Zo.g))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-labels"]],inputs:{task:"task"},decls:3,vars:1,consts:[["class","labels-section",4,"ngIf"],["labelsList",""],[1,"labels-section"],["nz-tooltip","",1,"ms-1",3,"nzTooltipTitle"],["nz-icon","","nzType","tag","nzTheme","outline","style","font-size: 13px;",4,"ngIf"],["nz-icon","","nzType","tags","nzTheme","outline","style","font-size: 13px;",4,"ngIf"],["nz-icon","","nzType","tag","nzTheme","outline",2,"font-size","13px"],["nz-icon","","nzType","tags","nzTheme","outline",2,"font-size","13px"],[4,"ngFor","ngForOf"],[1,"pb-0","mb-0"]],template:function(t,n){1&t&&(e.YNc(0,qf,5,4,"div",0),e.YNc(1,Vf,1,1,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",null==n.task.labels?null:n.task.labels.length)},dependencies:[Ie.sg,Ie.O5,Wt.w,zt.Ls,AA.j,Zt.SY],styles:["nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}"],changeDetection:0}),i})();function Wf(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-tag",4),e.NdJ("mouseover",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.getParentTaskName(n.task.id))})("nzTooltipVisibleChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(n?null:s.taskName)}),e._UZ(1,"span",5),e.qZA()}if(2&r){e.oxw();const A=e.MAs(5);e.Q6J("nzTooltipTitle",A)}}function We(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Loading..."),e.qZA())}function Zs(r,i){if(1&r&&(e.TgZ(0,"p",8),e._uU(1),e.qZA()),2&r){const A=e.oxw(2);e.xp6(1),e.hij("Sub-task of ",A.taskName,"")}}function ec(r,i){if(1&r&&(e.YNc(0,We,2,0,"div",6),e.YNc(1,Zs,2,1,"p",7)),2&r){const A=e.oxw();e.Q6J("ngIf",A.loadingName),e.xp6(1),e.Q6J("ngIf",!A.loadingName)}}let or=(()=>{var r;class i{constructor(t,n,s,o,h){this.socket=t,this.cdr=n,this.kanbanService=s,this.map=o,this.list=h,this.loadingName=!1,this.taskName=null,this.destroy$=new jn.x,this.handleResponse=p=>{p.id===this.task.id&&this.task.name!==p.name&&(this.task.name=p.name,this.cdr.markForCheck())},this.kanbanService.onCreateSubTask.pipe((0,Pr.R)(this.destroy$)).subscribe(p=>{})}ngOnInit(){this.socket.on(Ne.C.TASK_NAME_CHANGE.toString(),this.handleResponse)}getParentTaskName(t){var n=this;return(0,ce.Z)(function*(){if(t){try{n.loadingName=!0;const s=n.map.getGroupId(n.task.parent_task_id);if(!s||!n.task.parent_task_id)return;const o=n.list.groups.find(p=>p.id===s);if(!o)return;const h=o.tasks.find(p=>p.id===n.task.parent_task_id);n.taskName=h?.name,n.loadingName=!1}catch(s){(0,st.tu)(s),n.loadingName=!1}n.cdr.markForCheck()}})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(jo.m),e.Y36(Zo.g),e.Y36(YA.b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-name"]],inputs:{task:"task"},decls:6,vars:2,consts:[[1,"task-name-kanban"],["nz-tooltip","","style","cursor: help;","class","subtask-icon-main me-1",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange",4,"ngIf"],["nz-typography",""],["subTasksTitle",""],["nz-tooltip","",1,"subtask-icon-main","me-1",2,"cursor","help",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange"],["nz-icon","","nzType","double-right","nzTheme","outline"],[4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wf,2,1,"nz-tag",1),e.TgZ(2,"span",2),e._uU(3),e.qZA()(),e.YNc(4,ec,2,2,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.task.is_sub_task&&n.task.parent_task_id),e.xp6(2),e.hij(" ",n.task.name," "))},dependencies:[Ie.O5,Wt.w,zt.Ls,AA.j,Zt.SY,Ut.ZU],styles:["nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}.task-name-kanban[_ngcontent-%COMP%]{font-weight:500}"],changeDetection:0}),i})();function Xf(r,i){1&r&&e._UZ(0,"span",5)}function dn(r,i){1&r&&e._UZ(0,"span",6)}function kn(r,i){1&r&&e._UZ(0,"span",7)}let tc=(()=>{var r;class i{constructor(t,n,s){this.socket=t,this.cdr=n,this.service=s,this.task={},this.priorities=[],this.destroy$=new jn.x,this.handleResponse=o=>{o&&o.id===this.task.id&&(this.task.priority_color=o.color_code,this.task.priority=o.priority_id,this.cdr.markForCheck())}}ngOnInit(){this.updatePriorities(),this.socket.on(Ne.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.priorities=[],this.destroy$.next(),this.destroy$.complete(),this.socket.removeListener(Ne.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}trackById(t,n){return n.id}updatePriorities(){this.priorities=this.service.priorities}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(YA.b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-priority"]],inputs:{task:"task"},decls:5,vars:3,consts:[[1,"priority-section"],[1,"priority-tab","priority-tab-medium","me-1"],["class","high-priority","nz-icon","","nzType","double-left","nz-tooltip","",4,"ngIf"],["class","medium-priority","nz-icon","","nzType","pause","nz-tooltip","",4,"ngIf"],["class","low-priority","nz-icon","","nzType","minus","nz-tooltip","",4,"ngIf"],["nz-icon","","nzType","double-left","nz-tooltip","",1,"high-priority"],["nz-icon","","nzType","pause","nz-tooltip","",1,"medium-priority"],["nz-icon","","nzType","minus","nz-tooltip","",1,"low-priority"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Xf,1,0,"span",2),e.YNc(3,dn,1,0,"span",3),e.YNc(4,kn,1,0,"span",4),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf","#f3707069"===n.task.priority_color),e.xp6(1),e.Q6J("ngIf","#fbc84c69"===n.task.priority_color),e.xp6(1),e.Q6J("ngIf","#75c99769"===n.task.priority_color))},dependencies:[Ie.O5,Wt.w,zt.Ls,Zt.SY],styles:[".low-priority[_ngcontent-%COMP%]{color:#52c41a}.medium-priority[_ngcontent-%COMP%]{color:#faad14;transform:rotate(90deg)}.high-priority[_ngcontent-%COMP%]{color:#f5222d;transform:rotate(90deg)}"],changeDetection:0}),i})();function $f(r,i){if(1&r&&e._UZ(0,"nz-progress",2),2&r){const A=e.oxw();e.Q6J("nzPercent",A.percent)("nzType","circle")("nzStrokeWidth",8)("nzWidth",26)}}let nc=(()=>{var r;class i{constructor(t,n,s,o,h){this.socket=t,this.cdr=n,this.list=s,this.kanbanService=o,this.map=h,this.destroy$=new jn.x,this.loadingProgress=!1,this.progress=null,this.handleResponse=p=>{p&&(p.parent_task===this.task.id||p.id===this.task.id)&&(this.task.complete_ratio=+p.complete_ratio,this.task.total_tasks_count=p.total_tasks_count,this.task.completed_count=p.completed_count),this.cdr.markForCheck()}}get percent(){return this.task.complete_ratio||0}ngOnInit(){this.socket.on(Ne.C.GET_TASK_PROGRESS.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.GET_TASK_PROGRESS.toString(),this.handleResponse),this.destroy$.next(),this.destroy$.complete()}get tooltipTitle(){return(this.task.completed_count||0)+"/"+(this.task.total_tasks_count||0)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(YA.b),e.Y36(jo.m),e.Y36(Zo.g))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-progress"]],inputs:{task:"task"},decls:2,vars:2,consts:[["nz-tooltip","",1,"task-progress-section","ms-1",3,"nzTooltipTitle"],[3,"nzPercent","nzType","nzStrokeWidth","nzWidth",4,"ngIf"],[3,"nzPercent","nzType","nzStrokeWidth","nzWidth"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$f,1,4,"nz-progress",1),e.qZA()),2&t&&(e.Q6J("nzTooltipTitle",n.tooltipTitle),e.xp6(1),e.Q6J("ngIf",!n.task.is_sub_task))},dependencies:[Ie.O5,ms.M,Zt.SY],changeDetection:0}),i})();var eh=oe(38365);function Ac(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-tag",3),e.NdJ("mouseover",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.getSubTasks(n.task.id))})("nzTooltipVisibleChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(n?null:s.subTasks=[])}),e._uU(1),e._UZ(2,"span",4),e.qZA()}if(2&r){const A=e.oxw(),t=e.MAs(3);e.Q6J("nzTooltipTitle",t),e.xp6(1),e.hij("",A.task.sub_tasks_count," ")}}function eg(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Loading..."),e.qZA())}function tg(r,i){1&r&&(e.TgZ(0,"p",8),e._uU(1,"Sub-tasks"),e.qZA())}function th(r,i){if(1&r&&(e.TgZ(0,"p",9),e._uU(1),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Oqu(A.name)}}function ng(r,i){if(1&r&&(e.YNc(0,eg,2,0,"div",5),e.YNc(1,tg,2,0,"p",6),e.YNc(2,th,2,1,"p",7)),2&r){const A=e.oxw();e.Q6J("ngIf",A.loadingSubTasks),e.xp6(1),e.Q6J("ngIf",!A.loadingSubTasks),e.xp6(1),e.Q6J("ngForOf",A.subTasks)("ngForTrackBy",A.trackByFn)}}let nh=(()=>{var r;class i{constructor(t,n,s,o,h){this.subTasksApi=t,this.cdr=n,this.socket=s,this.kanbanService=o,this.service=h,this.task={},this.count=null,this.subTasks=[],this.loadingSubTasks=!1,this.destroy$=new jn.x,this.kanbanService.onDeleteSubTask.pipe((0,Pr.R)(this.destroy$)).subscribe(p=>{this.handelSubtaskDelete(p)}),this.kanbanService.onCreateSubTask.pipe((0,Pr.R)(this.destroy$)).subscribe(p=>{n.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handelSubtaskDelete(t){this.task.id===t.parent_task_id&&this.task.sub_tasks_count&&(this.task.sub_tasks_count=Math.max(+this.task.sub_tasks_count-1,0)),this.cdr.markForCheck()}getSubTasks(t){var n=this;return(0,ce.Z)(function*(){if(t){try{n.subTasks=[],n.loadingSubTasks=!0;const s=yield n.subTasksApi.getNames(t);s.done&&(n.subTasks=s.body),n.loadingSubTasks=!1}catch(s){(0,st.tu)(s),n.loadingSubTasks=!1}n.cdr.markForCheck()}})()}trackByFn(t,n){return n.id}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(eh.s),e.Y36(e.sBO),e.Y36(Kt.s),e.Y36(jo.m),e.Y36(YA.b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-subtask-count"]],inputs:{task:"task"},decls:4,vars:1,consts:[[1,"subtask-count-section"],["nz-tooltip","","nzColor","default","style","cursor: help;",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange",4,"ngIf"],["subTasksTitle",""],["nz-tooltip","","nzColor","default",2,"cursor","help",3,"nzTooltipTitle","mouseover","nzTooltipVisibleChange"],["nz-icon","","nzType","double-right","nzTheme","outline"],[4,"ngIf"],["class","mb-0 border-bottom",4,"ngIf"],["class","mb-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mb-0","border-bottom"],[1,"mb-0"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ac,3,2,"nz-tag",1),e.qZA(),e.YNc(2,ng,3,4,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.task.sub_tasks_count))},dependencies:[Ie.sg,Ie.O5,Wt.w,zt.Ls,AA.j,Zt.SY],styles:["nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}"],changeDetection:0}),i})();var Ah=oe(9172),Dl=oe(27476);const rh=["memberSearchInput"];function Hl(r,i){if(1&r&&(e._UZ(0,"worklenz-avatars",10),e.ALo(1,"wlSafeArray")),2&r){const A=e.oxw();e.Q6J("names",e.lcZ(1,1,A.task.names))}}function ih(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",11)(1,"input",12,13),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.searchText=n)})("keydown.enter",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.selectLastValue(n))}),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngModel",A.searchText)}}function Ag(r,i){1&r&&(e.TgZ(0,"small",23),e._uU(1,"(Pending Invitation)"),e.qZA())}function sh(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",16),e.NdJ("nzCheckedChange",function(n){const o=e.CHM(A).$implicit;return e.KtG(o.selected=n)})("nzCheckedChange",function(n){const o=e.CHM(A).$implicit,h=e.oxw(2);return e.KtG(h.handleMemberChange(o,n))}),e.TgZ(1,"div",17),e._UZ(2,"nz-avatar",18),e.ALo(3,"firstCharUpper"),e.TgZ(4,"div",19)(5,"span",20),e._uU(6),e.qZA(),e.TgZ(7,"small",21),e._uU(8),e.YNc(9,Ag,2,0,"small",22),e.qZA()()()()}if(2&r){const A=i.$implicit;e.Q6J("nzChecked",A.selected)("nzDisabled",A.is_pending&&!A.selected)("ngClass",A.is_pending&&!A.selected?"disable":""),e.xp6(2),e.Udp("background-color",A.avatar_url?"#ececec":A.color_code),e.Q6J("nzSize",28)("nzText",e.lcZ(3,14,A.name))("nzTooltipTitle",A.name)("nzSrc",A.avatar_url)("nzTooltipPlacement","top"),e.xp6(4),e.Oqu(A.name),e.xp6(1),e.Q6J("nzType","secondary"),e.xp6(1),e.hij(" ",A.email," "),e.xp6(1),e.Q6J("ngIf",A.is_pending)}}function rg(r,i){if(1&r&&(e.TgZ(0,"ul",14),e.YNc(1,sh,10,16,"li",15),e.ALo(2,"searchByName"),e.qZA()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,A.members,A.searchText))("ngForTrackBy",A.trackById)}}function ig(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.onInviteClick())}),e._UZ(1,"span",25),e._uU(2," Invite a new member by email "),e.qZA()}}function sg(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",26)(1,"button",27),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.closeDropdown())}),e._uU(2,"OK"),e.qZA()()}if(2&r){const A=e.oxw();e.ekj("justify-content-between",A.isOwnerOrAdmin)("justify-content-end",!A.isOwnerOrAdmin)}}let rc=(()=>{var r;class i{get avatarClass(){return this.task.assignees?.length?"add-button avatar-dashed ms-1 bg-white":"avatar-dashed bg-white"}constructor(t,n,s,o,h,p){this.service=t,this.cdr=n,this.socket=s,this.auth=o,this.utils=h,this.ngZone=p,this.task={},this.cls="flex-row task-members",this.searchText=null,this.members=[],this.session=null,this.show=!1,this.isOwnerOrAdmin=!1,this.destroy$=new jn.x,this.handleResponse=_=>{try{_&&_.id===this.task.id&&(this.task.assignees=_.assignees||[],this.task.names=_.names||[],this.cdr.markForCheck())}catch{}},this.service.onMembersChange$.pipe((0,Pr.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck(),this.updateMembers()}),this.service.onAssignMe$.pipe((0,Pr.R)(this.destroy$),(0,Er.h)(_=>_.id===this.task.id)).subscribe(_=>{this.handleResponse(_)})}ngOnInit(){this.session=this.auth.getCurrentSession(),this.isOwnerOrAdmin=this.auth.isOwnerOrAdmin(),this.updateMembers(),this.socket.on(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}ngOnDestroy(){this.members=[],this.destroy$.next(),this.destroy$.complete(),this.socket.removeListener(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}updateMembers(){this.members=this.service.members}sortMembersBySelection(t){this.utils.sortBySelection(t),this.utils.sortByPending(t)}trackById(t,n){return n.id}handleVisibleChange(t){if(this.show=t,t){const n=this.task.assignees?.map(s=>s.team_member_id)||[];for(const s of this.members)s.selected=n.includes(s.id);this.focusMemberSearchInput()}else{this.searchText=null;for(const n of this.members)n.selected=!1}this.sortMembersBySelection(this.members)}focusMemberSearchInput(){setTimeout(()=>{this.memberSearchInput?.nativeElement?.focus()},100)}handleMemberChange(t,n){if(!this.session)return;const s={team_member_id:t.id,project_id:this.projectId,task_id:this.task.id,reporter_id:this.session.id,mode:n?0:1,parent_task:this.task.parent_task_id};this.socket.emit(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(s)),this.sortMembersBySelection(this.members)}closeDropdown(){this.ngZone.runOutsideAngular(()=>{document.body.click()})}onInviteClick(){document.body.click(),this.service.emitInviteMembers()}selectLastValue(t){if(t.target.value){const n=this.members.filter(s=>s.name&&s.name.toLowerCase().includes(t.target.value.toLowerCase()));1==n.length&&(this.handleMemberChange(n[0],!n[0].selected),n[0].selected=!n[0].selected)}}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(YA.b),e.Y36(e.sBO),e.Y36(Kt.s),e.Y36(yn.e),e.Y36(JA.F),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-members"]],viewQuery:function(t,n){if(1&t&&e.Gf(rh,5),2&t){let s;e.iGM(s=e.CRH())&&(n.memberSearchInput=s.first)}},hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task",projectId:"projectId"},decls:11,vars:14,consts:[["nz-dropdown","",1,"editable","w-100","h-100","d-flex","align-items-center",3,"nzDropdownMenu","nzOverlayClassName","nzClickHide","nzTrigger","ngClass","click","nzVisibleChange"],["tr",""],[1,"d-flex"],["class","d-flex kanban-avatars",3,"names",4,"ngIf"],[3,"nzSize","nzIcon"],["membersDropdown","nzDropdownMenu"],["class","bg-white px-3 py-2 border-bottom",4,"ngIf"],["class","members-dropdown","style","box-shadow: none;min-width:300px;","nz-menu","",4,"ngIf"],["nz-button","","nzType","link","class","border-top bg-white w-100",3,"click",4,"ngIf"],["class","bg-white text-end align-items-center p-2 border-top",3,"justify-content-between","justify-content-end",4,"ngIf"],[1,"d-flex","kanban-avatars",3,"names"],[1,"bg-white","px-3","py-2","border-bottom"],["type","text","placeholder","Search by name","nz-input","",3,"ngModel","ngModelChange","keydown.enter"],["memberSearchInput",""],["nz-menu","",1,"members-dropdown",2,"box-shadow","none","min-width","300px"],["class","m-0","nz-checkbox","","nz-menu-item","",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange",4,"ngFor","ngForOf","ngForTrackBy"],["nz-checkbox","","nz-menu-item","",1,"m-0",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange"],[1,"d-flex","align-items-center","justify-content-center","user-select-none"],["nz-tooltip","",1,"mt-auto","mb-auto","me-2",3,"nzSize","nzText","nzTooltipTitle","nzSrc","nzTooltipPlacement"],[2,"line-height","15px"],["nz-typography","",1,"d-block"],["nz-typography","",3,"nzType"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-typography","","nzType","danger"],["nz-button","","nzType","link",1,"border-top","bg-white","w-100",3,"click"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],[1,"bg-white","text-end","align-items-center","p-2","border-top"],["nz-button","","nzType","primary","nzSize","small",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(o){return o.stopPropagation()})("nzVisibleChange",function(o){return n.handleVisibleChange(o)}),e.TgZ(2,"div",2),e.YNc(3,Hl,2,3,"worklenz-avatars",3),e._UZ(4,"nz-avatar",4),e.qZA()(),e.TgZ(5,"nz-dropdown-menu",null,5),e.YNc(7,ih,3,1,"div",6),e.YNc(8,rg,3,5,"ul",7),e.YNc(9,ig,3,0,"button",8),e.YNc(10,sg,3,4,"div",9),e.qZA()),2&t){const s=e.MAs(6);e.Q6J("nzDropdownMenu",s)("nzOverlayClassName","custom-shadow")("nzClickHide",!1)("nzTrigger","click")("ngClass",null!=n.task.names&&n.task.names.length?"show-def":"show-hover"),e.xp6(3),e.Q6J("ngIf",null==n.task.names?null:n.task.names.length),e.xp6(1),e.Tol(n.avatarClass),e.Q6J("nzSize",24)("nzIcon","plus"),e.xp6(3),e.Q6J("ngIf",n.show),e.xp6(1),e.Q6J("ngIf",n.show&&n.members.length),e.xp6(1),e.Q6J("ngIf",n.isOwnerOrAdmin&&n.show),e.xp6(1),e.Q6J("ngIf",n.show)}},dependencies:[Ie.mk,Ie.sg,Ie.O5,yA.Dz,Vt.ix,Wt.w,an.dQ,qA.Ie,zn.wO,zn.r9,cn.cm,cn.RR,zt.Ls,nA.Zp,Zt.SY,Ut.ZU,Pe.Fj,Pe.JJ,Pe.On,FA.o,Ah.g,Nr.I,Dl.g],styles:['.show-hover[_ngcontent-%COMP%]{opacity:0}.show-hover[_ngcontent-%COMP%]:hover, .show-def[_ngcontent-%COMP%]{opacity:1}.editable[_ngcontent-%COMP%]{border-radius:4px}.disable[_ngcontent-%COMP%]{position:relative}.disable[_ngcontent-%COMP%]:after{position:absolute;content:"";background:rgba(231,231,231,.4117647059);inset:0;width:100%}.z-top[_ngcontent-%COMP%]{z-index:9}'],changeDetection:0}),i})(),ar=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-card"]],inputs:{task:"task",projectId:"projectId"},decls:13,vars:8,consts:[[1,"grid-list"],[1,"d-flex"],[1,"mb-1","task-name","d-flex","justify-content-between"],[3,"task"],[1,"progress-container","ms-auto",2,"max-width","30px","height","30px"],[1,"task-footer","d-flex","mt-2","pt-1"],[1,"ms-auto",3,"task","projectId"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"worklenz-kanban-task-name",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"worklenz-kanban-task-progress",3),e.qZA()(),e.TgZ(6,"div",1),e._UZ(7,"worklenz-kanban-task-priority",3)(8,"worklenz-kanban-task-labels",3)(9,"worklenz-kanban-task-subtask-count",3),e.qZA(),e.TgZ(10,"div",5),e._UZ(11,"worklenz-kanban-task-end-date",3)(12,"worklenz-kanban-task-members",6),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task),e.xp6(1),e.Q6J("task",n.task),e.xp6(1),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task),e.xp6(1),e.Q6J("task",n.task)("projectId",n.projectId))},dependencies:[$u,Pl,or,tc,nc,nh,rc]}),i})();const oh=["memberSearchInput"],Go=function(){return[]};function og(r,i){if(1&r&&e._UZ(0,"worklenz-avatars",15),2&r){const A=e.oxw();e.Q6J("names",(null==A.service.model.task?null:A.service.model.task.names)||e.DdM(1,Go))}}function ag(r,i){if(1&r&&e._UZ(0,"nz-spin",16),2&r){e.oxw();const A=e.MAs(17);e.Q6J("nzIndicator",A)}}function Zl(r,i){1&r&&(e.TgZ(0,"small",26),e._uU(1,"(Pending Invitation)"),e.qZA())}function js(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",19),e.NdJ("nzCheckedChange",function(n){const o=e.CHM(A).$implicit,h=e.oxw(2);return e.KtG(h.handleMemberChange(o,n))})("nzCheckedChange",function(n){const o=e.CHM(A).$implicit;return e.KtG(o.selected=n)}),e.TgZ(1,"div",20),e._UZ(2,"nz-avatar",21),e.ALo(3,"firstCharUpper"),e.TgZ(4,"div",22)(5,"span",23),e._uU(6),e.qZA(),e.TgZ(7,"small",24),e._uU(8),e.YNc(9,Zl,2,0,"small",25),e.qZA()()()()}if(2&r){const A=i.$implicit;e.Q6J("nzChecked",A.selected)("nzDisabled",A.is_pending&&!A.selected)("ngClass",A.is_pending&&!A.selected?"disable":""),e.xp6(2),e.Udp("background-color",A.avatar_url?"#ececec":A.color_code),e.Q6J("nzSize",28)("nzText",e.lcZ(3,14,A.name))("nzTooltipTitle",A.name)("nzSrc",A.avatar_url)("nzTooltipPlacement","top"),e.xp6(4),e.Oqu(A.name),e.xp6(1),e.Q6J("nzType","secondary"),e.xp6(1),e.hij(" ",A.email," "),e.xp6(1),e.Q6J("ngIf",A.is_pending)}}function ic(r,i){if(1&r&&(e.TgZ(0,"ul",17),e.YNc(1,js,10,16,"li",18),e.ALo(2,"searchByName"),e.qZA()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,2,A.taskListService.members||e.DdM(5,Go),A.searchText))("ngForTrackBy",A.trackById)}}function cg(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.onInviteClick())}),e._UZ(1,"span",28),e._uU(2," Invite a new member by email "),e.qZA()}}function Rs(r,i){1&r&&e._UZ(0,"span",29)}let lg=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B){this.auth=t,this.projectsService=n,this.socket=s,this.ngZone=o,this.cdr=h,this.service=p,this.taskListService=_,this.utils=B,this.searchText=null,this.isOwnerOrAdmin=!1,this.handleResponse=x=>{if(this.service.model.task)try{x&&(this.service.emitOnAssignMembers(x),this.service.model.task.assignees=x.assignees||[],this.service.model.task.names=x.names||[],this.service.emitRefresh(x.id),this.sortMembersBySelection(this.taskListService.members),this.cdr.markForCheck())}catch{}}}ngOnInit(){this.isOwnerOrAdmin=this.auth.isOwnerOrAdmin(),this.socket.on(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),this.handleResponse)}sortMembersBySelection(t){this.utils.sortBySelection(t),this.utils.sortByPending(t)}handleMembersVisibleChange(t){if(!this.service.model.task)return;const n=[...this.taskListService.members];if(t){const s=this.service.model.task.assignees?.map(o=>o.team_member_id)||[];for(const o of n)o.id&&(o.selected=s.includes(o.id));this.focusMemberSearchInput()}else{this.searchText=null;for(const s of n)s.selected=!1}this.taskListService.members=n,this.sortMembersBySelection(this.taskListService.members),this.cdr.markForCheck()}focusMemberSearchInput(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.memberSearchInput?.nativeElement?.focus()},100)})}handleMemberChange(t,n){const s=this.service.model.task;if(!s)return;const o=this.auth.getCurrentSession(),h={team_member_id:t.id,project_id:this.projectsService.id,task_id:s.id,reporter_id:o?.id,mode:n?0:1,parent_task:s.parent_task_id};this.socket.emit(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(h))}trackById(t,n){return n.id}onInviteClick(){document.body.click(),this.taskListService.emitInviteMembers()}closeDropdown(){this.ngZone.runOutsideAngular(()=>{document.body.click()})}selectLastValue(t){if(t.target.value){const n=this.taskListService.members.filter(s=>s.name&&s.name.toLowerCase().includes(t.target.value.toLowerCase()));1==n.length&&(this.handleMemberChange(n[0],!n[0].selected),n[0].selected=!n[0].selected)}}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(yn.e),e.Y36(Qi.m),e.Y36(Kt.s),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(jo.m),e.Y36(YA.b),e.Y36(JA.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-task-creation-assignees"]],viewQuery:function(t,n){if(1&t&&e.Gf(oh,5),2&t){let s;e.iGM(s=e.CRH())&&(n.memberSearchInput=s.first)}},decls:18,vars:15,consts:[["nz-dropdown","",1,"w-100","h-100","d-flex","align-items-center",3,"nzDropdownMenu","nzOverlayClassName","nzClickHide","nzTrigger","nzVisibleChange"],["tr",""],[1,"d-flex"],["class","d-flex cursor-pointer  kanban-avatars",3,"names",4,"ngIf"],[1,"avatar-dashed","ms-1","bg-white",3,"nzSize","nzIcon"],["membersDropdown","nzDropdownMenu"],["nzSimple","",3,"nzIndicator",4,"ngIf"],[1,"bg-white","px-3","py-2","border-bottom"],["type","text","placeholder","Search by name","nz-input","",3,"ngModel","ngModelChange","keydown.enter"],["memberSearchInput",""],["class","members-dropdown","style","box-shadow: none;min-width:300px;","nz-menu","",4,"ngIf"],["nz-button","","nzType","link","class","border-top bg-white w-100",3,"click",4,"ngIf"],[1,"bg-white","text-end","align-items-center","p-2","border-top"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["indicatorTemplate",""],[1,"d-flex","cursor-pointer","kanban-avatars",3,"names"],["nzSimple","",3,"nzIndicator"],["nz-menu","",1,"members-dropdown",2,"box-shadow","none","min-width","300px"],["class","m-0","nz-checkbox","","nz-menu-item","",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange",4,"ngFor","ngForOf","ngForTrackBy"],["nz-checkbox","","nz-menu-item","",1,"m-0",3,"nzChecked","nzDisabled","ngClass","nzCheckedChange"],[1,"d-flex","align-items-center","justify-content-center","user-select-none"],["nz-tooltip","",1,"mt-auto","mb-auto","me-2",3,"nzSize","nzText","nzTooltipTitle","nzSrc","nzTooltipPlacement"],[2,"line-height","15px"],["nz-typography","",1,"d-block"],["nz-typography","",3,"nzType"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-typography","","nzType","danger"],["nz-button","","nzType","link",1,"border-top","bg-white","w-100",3,"click"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],["nz-icon","","nzType","loading"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0,1),e.NdJ("nzVisibleChange",function(o){return n.handleMembersVisibleChange(o)}),e.TgZ(2,"div",2),e.YNc(3,og,1,2,"worklenz-avatars",3),e._UZ(4,"nz-avatar",4),e.qZA()(),e.TgZ(5,"nz-dropdown-menu",null,5),e.YNc(7,ag,1,1,"nz-spin",6),e.TgZ(8,"div",7)(9,"input",8,9),e.NdJ("ngModelChange",function(o){return n.searchText=o})("keydown.enter",function(o){return n.selectLastValue(o)}),e.qZA()(),e.YNc(11,ic,3,6,"ul",10),e.YNc(12,cg,3,0,"button",11),e.TgZ(13,"div",12)(14,"button",13),e.NdJ("click",function(){return n.closeDropdown()}),e._uU(15,"OK"),e.qZA()()(),e.YNc(16,Rs,1,0,"ng-template",null,14,e.W1O)),2&t){const s=e.MAs(6);e.Q6J("nzDropdownMenu",s)("nzOverlayClassName","custom-shadow")("nzClickHide",!1)("nzTrigger","click"),e.xp6(3),e.Q6J("ngIf",null==n.service.model.task||null==n.service.model.task.names?null:n.service.model.task.names.length),e.xp6(1),e.Q6J("nzSize",24)("nzIcon","plus"),e.xp6(3),e.Q6J("ngIf",!n.taskListService.members),e.xp6(2),e.Q6J("ngModel",n.searchText),e.xp6(2),e.Q6J("ngIf",n.taskListService.members),e.xp6(1),e.Q6J("ngIf",n.isOwnerOrAdmin),e.xp6(1),e.ekj("justify-content-between",n.isOwnerOrAdmin)("justify-content-end",!n.isOwnerOrAdmin)}},dependencies:[Ie.mk,Ie.sg,Ie.O5,yA.Dz,Vt.ix,Wt.w,an.dQ,qA.Ie,zn.wO,zn.r9,cn.cm,cn.RR,zt.Ls,nA.Zp,QA.W,Zt.SY,Ut.ZU,Pe.Fj,Pe.JJ,Pe.On,FA.o,Ah.g,Nr.I],styles:['.disable[_ngcontent-%COMP%]{position:relative}.disable[_ngcontent-%COMP%]:after{position:absolute;content:"";background:rgba(231,231,231,.4117647059);inset:0;width:100%}.z-top[_ngcontent-%COMP%]{z-index:9}'],changeDetection:0}),i})();const dg=["inputValue"],ah=["tasksContainer"],ug=["taskCreateCard"];function ch(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"span",42),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.editColumn(n))}),e._uU(1),e.qZA()}if(2&r){const A=e.oxw(2).$implicit;e.xp6(1),e.AsE(" ",A.name," (",A.tasks.length,") ")}}function hg(r,i){if(1&r&&(e.TgZ(0,"button",43),e._UZ(1,"span",44),e.qZA()),2&r){e.oxw();const A=e.MAs(4);e.Q6J("nzDropdownMenu",A)}}function pg(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit,t=e.oxw(2).$implicit;e.Udp("font-weight",A.id===t.category_id?"bold":null),e.xp6(1),e.hij(" ",(null==A?null:A.name)||null," ")}}function fg(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",45),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw(2).$implicit,h=e.oxw();return h.changeStatusCategory(o,s.id),e.KtG(h.onBoardSettingsClick("Change category"))}),e.ALo(1,"safeString"),e._UZ(2,"nz-badge",46),e.ALo(3,"safeString"),e.YNc(4,pg,2,3,"ng-template",null,47,e.W1O),e.qZA()}if(2&r){const A=i.$implicit,t=e.MAs(5);e.Q6J("nzTooltipTitle",e.lcZ(1,4,A.description))("nzTooltipPlacement","right"),e.xp6(2),e.Q6J("nzColor",e.lcZ(3,6,A.color_code))("nzText",t)}}function gg(r,i){1&r&&(e._UZ(0,"span",48),e._uU(1," Change category "))}function mg(r,i){1&r&&e._UZ(0,"span",52)}function _g(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"span",49),e.YNc(1,mg,1,0,"span",50),e.TgZ(2,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2).$implicit;return e.KtG(s.name=n)})("keydown.enter",function(){e.CHM(A);const n=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onNameChange(n))})("blur",function(){e.CHM(A);const n=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.onNameChange(n))}),e.qZA()()}if(2&r){const A=e.oxw(2).$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isEditColProgress),e.xp6(1),e.ekj("bg-white",!t.isEditColProgress),e.Q6J("id","kanban-col-"+A.id)("disabled",t.isEditColProgress)("ngModel",A.name)}}function wg(r,i){if(1&r){const A=e.EpF();e.ynx(0,31),e.YNc(1,ch,2,2,"span",32),e.YNc(2,hg,2,1,"button",33),e.TgZ(3,"nz-dropdown-menu",null,34)(5,"ul",27)(6,"li",28),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw();return s.onBoardSettingsClick("Rename"),e.KtG(s.editColumn(n))}),e._UZ(7,"span",35),e._uU(8," Rename "),e.qZA(),e.TgZ(9,"li",36)(10,"ul"),e.YNc(11,fg,6,8,"li",37),e.qZA()(),e.TgZ(12,"li",38),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw();return s.deleteStatus(n),e.KtG(s.onBoardSettingsClick("Delete"))}),e._UZ(13,"span",39),e._uU(14," Delete "),e.qZA()()(),e.YNc(15,gg,2,0,"ng-template",null,40,e.W1O),e.YNc(17,_g,3,6,"span",41),e.BQk()}if(2&r){const A=e.MAs(16),t=e.oxw().$implicit,n=e.oxw();e.Q6J("ngSwitch",(null==n.editingColumn?null:n.editingColumn.id)===t.id),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(7),e.Q6J("nzTitle",A),e.xp6(2),e.Q6J("ngForOf",n.categories)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("nzTooltipTitle",t.tasks.length?"Move all tasks to a different section.":null),e.xp6(5),e.Q6J("ngSwitchCase",!0)}}function vg(r,i){if(1&r&&e._uU(0),2&r){const A=e.oxw().$implicit;e.AsE("",A.name," (",A.tasks.length,") ")}}function Cg(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(n){const o=e.CHM(A).$implicit,h=e.oxw(2);return e.KtG(h.editModal(o,n))})("contextmenu",function(n){const o=e.CHM(A).$implicit;e.oxw();const h=e.MAs(15),p=e.oxw();return e.KtG(p.contextMenu(n,h,o))}),e._UZ(1,"worklenz-kanban-task-card",54),e.qZA()}if(2&r){const A=i.$implicit,t=e.oxw(2);e.Q6J("cdkDragData",A),e.xp6(1),e.Q6J("task",A)("projectId",t.projectId)}}function Bg(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",69),e._UZ(2,"nz-spin",70),e.qZA(),e.BQk()),2&r){e.oxw();const A=e.MAs(4);e.xp6(2),e.Q6J("nzIndicator",A)}}function bg(r,i){1&r&&e._UZ(0,"span",71)}function xg(r,i){if(1&r&&(e.TgZ(0,"small",72),e._uU(1),e.qZA()),2&r){const A=e.oxw(3);e.xp6(1),e.hij("",null==A.newTaskName?null:A.newTaskName.length," /100")}}function yg(r,i){1&r&&e._UZ(0,"worklenz-kanban-task-creation-assignees")}function Tg(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",55,56),e.YNc(2,Bg,3,1,"ng-container",57),e.YNc(3,bg,1,0,"ng-template",null,58,e.W1O),e.TgZ(5,"input",59,60),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.newTaskName=n)})("keydown.enter",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onCreateButtonClicked(n.id))}),e.qZA(),e.YNc(7,xg,2,1,"small",61),e.TgZ(8,"div",62)(9,"div",63)(10,"span",64),e._uU(11),e.ALo(12,"dateFormatter"),e.qZA(),e.TgZ(13,"nz-date-picker",65),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.createTaskEndDate=n)}),e.qZA()(),e.TgZ(14,"div",66),e.YNc(15,yg,1,0,"worklenz-kanban-task-creation-assignees",57),e.qZA()(),e.TgZ(16,"div")(17,"button",67),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return n.deleteTask(),e.KtG(n.resetAll())}),e._uU(18,"Cancel "),e.qZA(),e.TgZ(19,"button",68),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onCreateButtonClicked(n.id))}),e._uU(20,"Add task "),e.qZA()()()}if(2&r){const A=e.oxw(2);e.xp6(2),e.Q6J("ngIf",A.creatingTask),e.xp6(3),e.Q6J("placeholder","Enter task name")("ngModel",A.newTaskName)("disabled",A.creatingTask),e.xp6(2),e.Q6J("ngIf",null==A.newTaskName?null:A.newTaskName.length),e.xp6(1),e.Q6J("ngClass",null!=A.newTaskName&&A.newTaskName.length?"visible":"invisible"),e.xp6(2),e.ekj("past-date",A.checkForPastDate(A.createTaskEndDate))("soon-date",A.checkForSoonDate(A.createTaskEndDate)),e.xp6(1),e.Oqu(e.lcZ(12,17,A.createTaskEndDate)),e.xp6(2),e.Q6J("nzPlaceHolder","Due date")("nzSuffixIcon","")("ngModel",A.createTaskEndDate),e.xp6(2),e.Q6J("ngIf",null==A.newTaskName?null:A.newTaskName.length),e.xp6(4),e.Q6J("disabled",!(null!=A.newTaskName&&A.newTaskName.length))("nzLoading",A.updatingTask)}}function l(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",28),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.archiveSelected())}),e._UZ(1,"span",29),e._uU(2," Archive "),e.qZA()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzType",A.archivingTasks?"loading":"inbox")}}function c(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16),e.YNc(3,wg,18,8,"ng-container",17),e.YNc(4,vg,1,2,"ng-template",null,18,e.W1O),e.qZA()(),e.TgZ(6,"div",19,20),e.NdJ("cdkDropListDropped",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.drop(n))}),e.YNc(8,Cg,2,3,"div",21),e.TgZ(9,"div",22),e.YNc(10,Tg,21,19,"div",23),e.TgZ(11,"button",24),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.MAs(7),h=e.oxw();return e.KtG(h.showTaskCreateInput(s.id,o))}),e._UZ(12,"span",25),e._uU(13," Create Task "),e.qZA()(),e.TgZ(14,"nz-dropdown-menu",null,26)(16,"ul",27)(17,"li",28),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.assignToMe())}),e._UZ(18,"span",29),e._uU(19," Assign to me "),e.qZA(),e.YNc(20,l,3,1,"li",30),e.TgZ(21,"li",28),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.deleteSelected())}),e._UZ(22,"span",29),e._uU(23," Delete "),e.qZA()()()()()}if(2&r){const A=i.$implicit,t=e.MAs(5),n=e.oxw();e.Q6J("cdkDragData",A.id),e.xp6(3),e.Q6J("ngIf",n.isOwnerOrAdmin()||n.isProjectManager())("ngIfElse",t),e.xp6(3),e.Q6J("id",A.id)("cdkDropListConnectedTo",n.groupIds)("cdkDropListData",A),e.xp6(2),e.Q6J("ngForOf",A.tasks)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("ngIf",n.statusesColumns[A.id]),e.xp6(1),e.Q6J("nzLoading",n.createButtons[A.id]),e.xp6(7),e.Q6J("nzType",n.assigningTasks?"loading":"user-add"),e.xp6(2),e.Q6J("ngIf",!(null!=n.contextSelectedTask&&n.contextSelectedTask.is_sub_task)),e.xp6(2),e.Q6J("nzType",n.deletingTasks?"loading":"delete")}}function u(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",73)(1,"div",74),e._UZ(2,"img",75),e.qZA(),e.TgZ(3,"span",76),e._uU(4,"There are no status groups to show in this project."),e.qZA(),e.TgZ(5,"div")(6,"span",77),e._uU(7," Click on "),e.TgZ(8,"button",78),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.openCreateStatusDrawer())}),e._UZ(9,"span",79),e.qZA(),e._uU(10," button to create status groups as you desire. "),e.qZA()()()}}function d(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.openCreateStatusDrawer())}),e._UZ(2,"span",79),e.qZA()()}}function w(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"worklenz-status-form",82),e.NdJ("onCancel",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.showStatusModal=!1)})("onCreateOrUpdate",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.onStatusCreateOrUpdate())}),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("show",A.showStatusModal)("statusId",null)("projectId",A.projectId)}}function b(r,i){if(1&r&&(e.TgZ(0,"nz-option",91),e._UZ(1,"nz-badge",46),e.qZA()),2&r){const A=i.$implicit,t=e.oxw(2);e.Q6J("nzDisabled",A.id===(null==t.selectedForDelete?null:t.selectedForDelete.id))("nzLabel",A.name||null)("nzValue",A.id),e.xp6(1),e.Udp("opacity",A.id===(null==t.selectedForDelete?null:t.selectedForDelete.id)?"0.5":null),e.Q6J("nzColor",A.color_code)("nzText",(null==A?null:A.name)||null)}}function Q(r,i){if(1&r){const A=e.EpF();e.ynx(0),e._UZ(1,"nz-alert",83),e.TgZ(2,"nz-card",84)(3,"h5",85),e._uU(4),e.qZA(),e.TgZ(5,"h4",86),e._UZ(6,"span",87),e.qZA(),e.TgZ(7,"nz-select",88),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.replacingStatus=n)}),e.YNc(8,b,2,7,"nz-option",89),e.qZA(),e.TgZ(9,"button",90),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.moveAndDelete())}),e._uU(10," Done "),e.qZA()(),e.BQk()}if(2&r){const A=e.oxw();e.xp6(1),e.Q6J("nzMessage",A.statusDeleteWarning),e.xp6(3),e.Oqu(null==A.selectedForDelete?null:A.selectedForDelete.name),e.xp6(3),e.Q6J("ngModel",A.replacingStatus)("nzDropdownMatchSelectWidth",!1),e.xp6(1),e.Q6J("ngForOf",A.service.groups)("ngForTrackBy",A.trackByFn),e.xp6(1),e.Q6J("nzLoading",A.deletingStatus)("disabled",A.deletingStatus)}}const O=function(){return{rows:12}};let N=(()=>{var r;class i{get defaultStatus(){return this.taskStatuses[0]||null}get profile(){return this.auth.getCurrentSession()}get groups(){return this.service.groups}constructor(t,n,s,o,h,p,_,B,x,y,v,M,E,Z,I,j,X){this.api=t,this.auth=n,this.statusesApi=s,this.route=o,this.contextMenuService=h,this.cdr=p,this.ngZone=_,this.socket=B,this.map=x,this.view=y,this.tmApi=v,this.labelsApi=M,this.prioritiesApi=E,this.taskTemplates=Z,this.kanbanService=I,this.service=j,this.projectsService=X,this.session=null,this.board=new Nl([]),this.taskStatuses=[],this.loaders={},this.projectId=null,this.tasks={},this.statusIds=[],this.categories=[],this.loadingStatuses=!1,this.showTaskModal=!1,this.updateLoading=!1,this.showStatusModal=!1,this.loadingTasks=!1,this.loadingSubTasks=!1,this.taskDragging=!1,this.isEditColProgress=!1,this.loadingCategories=!1,this.assigningTasks=!1,this.archivingTasks=!1,this.deletingTasks=!1,this.showStatusesReplaceModal=!1,this.deletingStatus=!1,this.taskUpdated=!1,this.creatingTask=!1,this.updatingTask=!1,this.isCreateButtonClicked=!1,this.loadingGroups=!1,this.loadingMembers=!1,this.loadingLabels=!1,this.loadingPriorities=!1,this.selectedTaskId=null,this.selectedStatusId=null,this.statusDeleteWarning=null,this.newTaskName=null,this.createdTaskId=null,this.createTaskEndDate=null,this.previousColumnName=null,this.editingColumn=null,this.selectedForDelete=null,this.createdTask=null,this.subTasks=[],this.createdMainTask=null,this.taskStatuses_=[],this.contextSelectedTask=null,this.replacingStatus=null,this.selectedTask=null,this.statusesColumns={},this.createButtons={},this.tasksContainerMain=null,this.selectedGroupFilter=null,this.handleStatusChangeResponse=ie=>{if(ie&&ie.id){const _e=this.map.getGroupId(ie.id);if(!_e||!ie.id)return;const Se=this.service.groups.find(Y=>Y.id===_e);if(!Se)return;const ue=Se.tasks.find(Y=>Y.id===ie.id);if(!ue)return;if(ue.status=ie.status_id,this.isGroupByStatus()&&(this.service.updateTaskGroup(ue,!1),ue.parent_task_id)){const Y=this.service.getGroupIdByGroupedColumn(ue),Qe=this.groups.find(Fe=>Fe.id===Y);if(!Qe)return;Qe.tasks.push(ue)}this.cdr.markForCheck()}},this.handleSortOrderResponse=ie=>{for(const _e of ie){const Se=_e.id;if(Se){const ue=this.map.tasks.get(Se);ue&&(ue.sort_order=_e.sort_order,this.map.tasks.set(Se,ue))}}},this.groupIds=[],this.handleNewTaskAssignees=ie=>{if(this.createdMainTask)try{ie&&(this.createdMainTask.assignees=(ie.assignees||[]).map(_e=>_e.team_member_id),this.createdMainTask.names=ie.names||[],this.cdr.markForCheck())}catch{}},this.projectId=this.route.snapshot.paramMap.get("id"),pt.s.track(Ve.k3),this.taskTemplates.onTemplateImport.pipe((0,Pt.sL)()).subscribe(()=>{this.getGroups()}),(0,Xa.T)(this.view.onSelectTask,this.view.onSelectSubTask).pipe((0,Pt.sL)()).subscribe(ie=>{if("string"==typeof ie){const _e=this.map.tasks.get(ie);_e&&this.handleTaskSelectFromView(_e)}else this.handleTaskSelectFromView(ie)}),this.kanbanService.onCreateStatus.pipe((0,Pt.sL)()).subscribe(ie=>{this.onStatusCreate(ie)}),this.service.onTaskAddOrDelete$.pipe((0,Pt.sL)()).subscribe(ie=>{ie&&this.handleNewTaskReceive(ie)}),this.kanbanService.onCreateSubTask.pipe((0,Pt.sL)()).subscribe(ie=>{this.onSubtaskCreate(ie)}),this.kanbanService.onAssignMembers.pipe((0,Pt.sL)()).subscribe(ie=>{this.handleNewTaskAssignees(ie)}),this.kanbanService.onDeleteTask.pipe((0,Pt.sL)()).subscribe(ie=>{this.service.deleteTask(ie.id),this.cdr.markForCheck()})}ngOnInit(){this.init(),this.socket.on(Ne.C.TASK_SORT_ORDER_CHANGE.toString(),this.handleSortOrderResponse),this.socket.on(Ne.C.TASK_STATUS_CHANGE.toString(),this.handleStatusChangeResponse),this.session=this.auth.getCurrentSession(),this.selectedGroupFilter=this.service.getCurrentGroup(),this.service.setCurrentGroup(this.service.GROUP_BY_OPTIONS[0])}init(){var t=this;return(0,ce.Z)(function*(){t.getGroups(),t.getCategories(),t.getStatuses(),t.getTeamMembers(),t.getLabels(),t.getPriorities()})()}ngOnDestroy(){this.board.columns=[],this.tasks={},this.statusIds=[],this.loaders={},this.socket.removeListener(Ne.C.TASK_SORT_ORDER_CHANGE.toString(),this.handleSortOrderResponse),this.selectedGroupFilter&&this.service.setCurrentGroup(this.selectedGroupFilter)}isProjectManager(){return!!this.projectsService.projectOwnerTeamMemberId&&this.auth.getCurrentSession()?.team_member_id===this.projectsService.projectOwnerTeamMemberId}handleNewTaskReceive(t){t.isSubTask&&this.cdr.detectChanges(),this.cdr.markForCheck()}onSubtaskCreate(t){if(t){const n=this.service.groups.find(s=>s.id===t.status);n&&n.tasks.push(t),pt.s.track(Ve.yS)}this.cdr.markForCheck()}getConf(t){const n={id:this.projectId,statuses:null,group:this.service.GROUP_BY_STATUS_VALUE,field:null,order:null,search:null,members:null,projects:null,isSubtasksInclude:!0};return t&&(n.parent_task=t),n}getGroups(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{t.map.deselectAll(),t.loadingGroups=!0;const n=t.getConf(),s=yield t.api.getTaskListV2(n);s.done&&(t.service.groups=s.body,t.groupIds=s.body.map(o=>o.id),t.mapTasks(t.service.groups))}catch{t.loadingGroups=!1}t.cdr.detectChanges()}})()}mapTasks(t){for(const n of t){this.map.registerGroup(n);for(const s of n.tasks)s.start_date&&(s.start_date=new Date(s.start_date)),s.end_date&&(s.end_date=new Date(s.end_date))}this.loadingGroups=!1}trackById(t,n){return n.id}onStatusCreate(t){this.service.groups.push({id:t.id,name:t.name,color_code:t.color_code,category_id:t.category_id,tasks:[]}),t.id&&this.groupIds.push(t.id),this.cdr.markForCheck()}onClick(t){this.taskCreateCard&&!this.taskCreateCard.nativeElement.contains(t)&&(!this.newTaskName||""===this.newTaskName.trim())&&(this.deleteTask(),this.resetAll())}handleBeforeUnload(t){this.newTaskName||this.deleteTask()}getTeamMembers(){var t=this;return(0,ce.Z)(function*(){try{t.loadingMembers=!0;const n=yield t.tmApi.getAll(t.projectId);n.done&&(t.service.members=n.body),t.loadingMembers=!1}catch{t.loadingMembers=!1}})()}getLabels(){var t=this;return(0,ce.Z)(function*(){try{t.loadingLabels=!0;const n=yield t.labelsApi.get(t.projectId);n.done&&(t.service.labels=n.body),t.loadingLabels=!1}catch{t.loadingLabels=!1}})()}getPriorities(){var t=this;return(0,ce.Z)(function*(){try{t.loadingPriorities=!0;const n=yield t.prioritiesApi.get();n.done&&(t.service.priorities=n.body),t.loadingPriorities=!1}catch{t.loadingPriorities=!1}})()}isGroupByStatus(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_STATUS_VALUE}isOwnerOrAdmin(){return this.profile?.owner||this.profile?.is_admin}openCreateTaskModal(t){pt.s.track(Ve.vm),this.selectedStatusId=t}onShowChange(t){t||(this.selectedTask=null)}editModal(t,n){var s=this;return(0,ce.Z)(function*(){t&&t.id&&!s.taskDragging&&(pt.s.track(Ve.Ot),s.selectedTask=t,s.selectedTaskId=t.id,s.showTaskModal=!0),n?.preventDefault()})()}handleTaskSelectFromView(t){this.showTaskModal=!1,this.cdr.detectChanges(),setTimeout(()=>{t&&(this.editModal(t),this.cdr.markForCheck())},Ot.GR)}drop(t){if(this.projectId){const n=t.previousIndex,s=t.currentIndex,o=t.previousContainer.data,h=t.container.data,p=t.item.data,_=h.tasks[s]?.sort_order,B={project_id:this.projectId,from_index:o.tasks[n].sort_order,to_index:_||h.tasks[h.tasks.length-1]?.sort_order||-1,to_last_index:!_,from_group:o.id,to_group:h.id,group_by:this.service.GROUP_BY_STATUS_VALUE,task:p,team_id:this.auth.getCurrentSession()?.team_id};this.socket.emit(Ne.C.TASK_SORT_ORDER_CHANGE.toString(),B),this.socket.once(Ne.C.TASK_SORT_ORDER_CHANGE.toString(),()=>{this.socket.emit(Ne.C.GET_TASK_PROGRESS.toString(),p.is_sub_task?p.parent_task_id:p.id)}),o.id===h.id?(0,ni.bA)(t.container.data.tasks,n,s):((0,ni.EA)(t.previousContainer.data.tasks,t.container.data.tasks,t.previousIndex,t.currentIndex),this.map.remove(p),this.map.add(h.id,p),this.service.emitGroupChange(h.id,p.id,h.color_code)),this.cdr.markForCheck()}pt.s.track(Ve.b$)}dropGrid(t){var n=this;return(0,ce.Z)(function*(){(0,ni.bA)(n.service.groups,t.previousIndex,t.currentIndex);const s=[];for(const h of n.service.groups)s.push(h.id);(yield n.statusesApi.updateStatus(t.item.data||"",{status_order:s},n.projectId)).done||(0,ni.bA)(n.service.groups,t.currentIndex,t.previousIndex)})()}getStatuses(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{t.loadingStatuses=!t.taskUpdated;const n=yield t.statusesApi.get(t.projectId);n.done&&(t.taskStatuses=n.body),t.loadingStatuses=!1}catch(n){(0,st.tu)(n),t.loadingStatuses=!1}t.cdr.markForCheck()}})()}getCategories(){var t=this;return(0,ce.Z)(function*(){try{t.loadingCategories=!0;const n=yield t.statusesApi.getCategories();n.done&&(t.categories=n.body),t.loadingCategories=!1}catch(n){(0,st.tu)(n),t.loadingCategories=!1}t.cdr.markForCheck()})()}onTaskCreateOrUpdate(){var t=this;return(0,ce.Z)(function*(){yield t.refresh()})()}onStatusCreateOrUpdate(){var t=this;return(0,ce.Z)(function*(){yield t.refresh()})()}isLoading(){return this.loadingGroups}onDragStart(){this.taskDragging=!0}onDragEnded(){this.taskDragging=!1}refresh(){var t=this;return(0,ce.Z)(function*(){t.updateLoading||(t.kanbanService.resetModel(),t.updateLoading=!0,t.tasks={},t.statusIds=[],t.loaders={},yield t.getStatuses(),t.updateLoading=!1,t.ngZone.runOutsideAngular(()=>{setTimeout(()=>{document.querySelectorAll(".bottom-task-add").forEach(function(n){n.classList.remove("hide")})})}))})()}editColumn(t){this.editingColumn=t,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const n=document.querySelector(`#kanban-col-${t.id}`);n&&(n.focus(),n.select(),this.previousColumnName=t.name)})})}changeStatusCategory(t,n){var s=this;return(0,ce.Z)(function*(){n&&(t.old_category_id=t.category_id,t.category_id=n,yield s.onBlurEditColumn(t),s.cdr.markForCheck())})()}onBlurEditColumn(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId&&!n.isEditColProgress){if(!t.name||!t.name.trim().length)return void(n.previousColumnName&&(t.name=n.previousColumnName));try{n.isEditColProgress=!0;const s={name:t.name,project_id:n.projectId,category_id:t.category_id},o=yield n.statusesApi.update(t.id,s,n.projectId);if(o.done){t.color_code=o.body.color_code;for(const h of t.tasks)n.socket.emit(Ne.C.GET_TASK_PROGRESS.toString(),h.id),h.parent_task_id&&n.socket.emit(Ne.C.GET_TASK_PROGRESS.toString(),h.parent_task_id)}else t.category_id=t.old_category_id;n.editingColumn=null,n.isEditColProgress=!1}catch(s){t.category_id=t.old_category_id,(0,st.tu)(s),n.isEditColProgress=!1}n.cdr.markForCheck()}})()}onNameChange(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId&&!n.isEditColProgress){if(!t.name||!t.name.trim().length)return void(n.previousColumnName&&(t.name=n.previousColumnName));try{n.isEditColProgress=!0;const s={name:t.name,project_id:n.projectId,category_id:t.category_id},o=yield n.statusesApi.updateName(t.id,s,n.projectId);o.done&&(t.color_code=o.body.color_code),n.editingColumn=null,n.isEditColProgress=!1}catch(s){(0,st.tu)(s),n.isEditColProgress=!1}n.cdr.markForCheck()}})()}assignToMe(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{t.assigningTasks=!0;const n={tasks:t.map.getSelectedTaskIds(),project_id:t.projectId},s=yield t.api.bulkAssignMe(n);s.done&&(pt.s.track(Ve.cj),t.service.emitOnAssignMe(s.body),t.map.deselectAll()),t.assigningTasks=!1}catch(n){t.assigningTasks=!1,(0,st.tu)(n)}t.cdr.markForCheck()}})()}deleteSelected(){var t=this;return(0,ce.Z)(function*(){if(t.projectId&&t.contextSelectedTask){try{if(t.deletingTasks=!0,!t.contextSelectedTask.is_sub_task&&t.map._subTasksMap.has(t.contextSelectedTask.id)){const s=t.map._subTasksMap.get(t.contextSelectedTask.id);if(s)for(const o of s)t.map.selectTask(o)}const n=yield t.api.bulkDelete({tasks:t.map.getSelectedTaskIds()},t.projectId);if(n.done){pt.s.track(Ve.Ig);for(const s of n.body.deleted_tasks)t.service.deleteTask(s),t.service.removeSubtask(s);t.contextSelectedTask.is_sub_task&&(t.kanbanService.emitDeleteSubTask({parent_task_id:t.contextSelectedTask.parent_task_id}),t.socket.emit(Ne.C.GET_TASK_PROGRESS.toString(),t.contextSelectedTask.parent_task_id))}t.deletingTasks=!1}catch(n){(0,st.tu)(n),t.deletingTasks=!1}t.contextSelectedTask=null,t.cdr.markForCheck()}})()}archiveSelected(){var t=this;return(0,ce.Z)(function*(){if(!t.archivingTasks&&t.contextSelectedTask){try{if(!t.contextSelectedTask.is_sub_task&&t.map._subTasksMap.has(t.contextSelectedTask.id)){const s=t.map._subTasksMap.get(t.contextSelectedTask.id);if(s)for(const o of s)t.map.selectTask(o)}t.archivingTasks=!0;const n=yield t.api.bulkArchive({tasks:t.map.getSelectedTaskIds(),project_id:t.projectId},!1);if(n.done){pt.s.track(Ve.Vs);for(const s of n.body)t.service.deleteTask(s)}t.archivingTasks=!1}catch{t.archivingTasks=!1}t.contextSelectedTask=null,t.cdr.markForCheck()}})()}deleteStatus(t){var n=this;return(0,ce.Z)(function*(){if(!t||!t.id||!n.projectId)return!1;try{n.selectedForDelete=t,n.deletingStatus=!0;const s=yield n.statusesApi.delete(t.id,n.projectId,n.replacingStatus||void 0);if(s.done){const o=n.groups.findIndex(h=>h.id===t.id);return n.groups?.splice(o,1),n.groupIds=n.groupIds.filter(h=>h!==t.id),yield n.refresh(),!0}"$"===s.message?.charAt(0)&&(n.replacingStatus=n.defaultStatus?.id||null,n.showStatusesReplaceModal=!0,n.statusDeleteWarning=s.message.substring(1)),n.deletingStatus=!1,n.cdr.markForCheck()}catch{n.deletingStatus=!1,n.cdr.markForCheck()}return n.cdr.markForCheck(),!1})()}contextMenu(t,n,s){this.contextMenuService.create(t,n),this.contextSelectedTask=s,this.map.selectTask(s)}closeStatusesReplaceModal(){this.showStatusesReplaceModal=!1,this.statusDeleteWarning=null,this.selectedForDelete=null,this.replacingStatus=null}moveAndDelete(){var t=this;return(0,ce.Z)(function*(){(yield t.deleteStatus(t.selectedForDelete))&&t.init(),t.closeStatusesReplaceModal(),t.cdr.markForCheck()})()}onBoardSettingsClick(t){pt.s.track(Ve.hL,{setting:t})}openCreateStatusDrawer(){pt.s.track(Ve.Qu),this.showStatusModal=!0}trackByFn(t,n){return n.id}showTaskCreateInput(t,n){var s=this;return(0,ce.Z)(function*(){yield s.resetAll(),yield s.createTempTask(t),s.tasksContainerMain=n,s.ngZone.runOutsideAngular(()=>{setTimeout(()=>{document.querySelectorAll(".bottom-task-add").forEach(function(o){o.classList.remove("hide")})})})})()}scrollBottom(){setTimeout(()=>{if(this.tasksContainerMain){const n=this.inputValue.nativeElement;this.tasksContainerMain.scrollTop=this.tasksContainer.nativeElement.scrollHeight+100,n.focus()}}),this.cdr.detectChanges()}onBlur(){var t=this;return(0,ce.Z)(function*(){setTimeout(()=>{t.newTaskName||(t.deleteTask(),t.resetAll())},150)})()}onCreateButtonClicked(t){var n=this;return(0,ce.Z)(function*(){n.isCreateButtonClicked=!0,n.newTaskName&&n.newTaskName!=Ot.qu&&""!==n.newTaskName?.trim()?yield n.updateInstantTask(t):(n.deleteTask(),n.resetAll())})()}createTempTask(t){if(this.creatingTask)return;this.creatingTask=!0,this.updatingTask=!0,this.createButtons[t]=!0;const n={name:this.newTaskName||Ot.qu,project_id:this.projectId||"",reporter_id:this.session?.id,team_id:this.session?.team_id,status_id:t};this.socket.emit(Ne.C.QUICK_TASK.toString(),JSON.stringify(n)),this.socket.once(Ne.C.QUICK_TASK.toString(),s=>{this.createdMainTask=s,this.updatingTask=!1,this.creatingTask=!1,s?.id&&(this.getInstantTask(s.id,this.projectId,t,s),pt.s.track(Ve.OE))})}getInstantTask(t,n,s,o){try{this.createButtons[s]=!1,this.statusesColumns[s]=!0,this.createdTaskId=t,this.kanbanService.model.task=o,this.scrollBottom()}catch(h){(0,st.tu)(h)}}updateInstantTask(t){var n=this;return(0,ce.Z)(function*(){if(!n.createdTaskId||!n.newTaskName||""===n.newTaskName?.trim()||n.newTaskName==Ot.qu||!n.isCreateButtonClicked)return n.deleteTask(),void n.resetAll();try{n.updatingTask=!0,n.socket.emit(Ne.C.TASK_NAME_CHANGE.toString(),JSON.stringify({task_id:n.createdTaskId,name:n.newTaskName,parent_task:""})),n.createdMainTask&&(n.createdMainTask.name=n.newTaskName),n.socket.emit(Ne.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:n.createdTaskId,end_date:(0,st.A6)(n.createTaskEndDate)||null,parent_task:"",time_zone:n.auth.getCurrentSession()?.timezone_name?n.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone})),n.createdMainTask&&n.createTaskEndDate&&(n.createdMainTask.end_date=n.createTaskEndDate),n.updatingTask=!1,n.onNewTaskReceived(t)}catch(s){(0,st.tu)(s)}n.newTaskName=null,n.createdTaskId=null,n.createTaskEndDate=null,n.creatingTask=!1,n.updatingTask=!1,n.isCreateButtonClicked=!1,n.kanbanService.resetModel(),n.createdMainTask=null,n.createTempTask(t),n.cdr.markForCheck()})()}onNewTaskReceived(t){if(t&&this.createdMainTask?.id){if(this.map.has(this.createdMainTask?.id))return;this.service.addTask(this.createdMainTask,t),pt.s.track(Ve.yS)}}deleteTask(){var t=this;return(0,ce.Z)(function*(){const n=t.kanbanService.model.task;if(n&&n.id)try{(yield t.api.delete(n.id)).done&&(t.kanbanService.model.task&&(t.kanbanService.model.task.sub_tasks_count=Math.max((t.kanbanService.model.task?.sub_tasks_count||0)-1,0)),t.kanbanService.emitDelete({id:n.id,parent_task_id:n.parent_task_id,project_id:t.projectId}),t.kanbanService.emitRefresh(n.id))}catch(s){(0,st.tu)(s)}})()}checkForPastDate(t){return me()(t).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(t){const n=me()(t).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return n===me()().format("YYYY-MM-DD")||n===s}resetAll(){for(const t in this.statusesColumns)this.statusesColumns[t]=!1;this.tasksContainerMain=null,this.newTaskName=null,this.createdTaskId=null,this.createTaskEndDate=null,this.creatingTask=!1,this.updatingTask=!1,this.isCreateButtonClicked=!1,this.createdMainTask=null,this.kanbanService.resetModel(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{document.querySelectorAll(".bottom-task-add").forEach(function(t){t.classList.remove("hide")})})})}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(No.c),e.Y36(yn.e),e.Y36(Uo.w),e.Y36(wt.gz),e.Y36(cn.Iw),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Kt.s),e.Y36(Zo.g),e.Y36(Lr.f),e.Y36(Ha.B),e.Y36(Kf.u),e.Y36(Xe.s),e.Y36(El.e),e.Y36(jo.m),e.Y36(YA.b),e.Y36(Qi.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-kanban-board"]],viewQuery:function(t,n){if(1&t&&(e.Gf(dg,5),e.Gf(ah,5),e.Gf(ug,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.inputValue=s.first),e.iGM(s=e.CRH())&&(n.tasksContainer=s.first),e.iGM(s=e.CRH())&&(n.taskCreateCard=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("click",function(o){return n.onClick(o.target)},!1,e.evT)("beforeunload",function(o){return n.handleBeforeUnload(o)},!1,e.Jf7)("worklenz.tasks.update",function(){return n.onTaskCreateOrUpdate()},!1,e.evT)("worklenz.status.update",function(){return n.onStatusCreateOrUpdate()},!1,e.evT)},decls:14,vars:16,consts:[[1,"overflow-auto"],[3,"nzLoading","nzParagraph"],[1,"root"],[1,"worklenz-kanban","overflow-auto"],[1,"board-wrapper"],[1,"board-columns"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"board-columns","justify-content-center",3,"cdkDropListDropped"],["cdkDragLockAxis","x","class","board-column","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["class","pt-5 pb-5",4,"ngIf"],["class","new-column-sec",4,"ngIf"],[3,"show","selfResetTaskId","projectId","taskId","showChange"],["action","Create",3,"show","statusId","projectId","onCancel","onCreateOrUpdate",4,"ngIf"],[3,"nzClosable","nzVisible","nzPlacement","nzTitle","nzOnClose"],[4,"nzDrawerContent"],["cdkDragLockAxis","x","cdkDrag","",1,"board-column",3,"cdkDragData"],["cdkDragHandle","",1,"column-title","m-1"],[1,"align-items-center","d-flex","mb-0","justify-content-between"],[3,"ngSwitch",4,"ngIf","ngIfElse"],["memberKanbanColHead",""],["cdkDropList","",1,"tasks-container","mt-3",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["tasksContainer",""],["class","task","cdkDrag","",3,"cdkDragData","click","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[1,"column-footer"],["class","task-create-card task",4,"ngIf"],["nz-button","","nzBlock","","nzType","default",1,"add-task-btn","bottom-task-add",3,"nzLoading","click"],["nz-icon","","nzType","plus","nzTheme","outline"],["contextMenuDropdown","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzTheme","outline",1,"me-2",3,"nzType"],["nz-menu-item","",3,"click",4,"ngIf"],[3,"ngSwitch"],["class","cursor-pointer kanban-status-label w-100",3,"click",4,"ngSwitchCase"],["nz-button","","class","p-0","nzType","text","nz-dropdown","","nzTrigger","click",3,"nzDropdownMenu",4,"ngSwitchCase"],["menu","nzDropdownMenu"],["nz-icon","","nzType","edit","nzTheme","outline",1,"me-2"],["nz-submenu","",3,"nzTitle"],["class","m-0","nz-tooltip","","nz-menu-item","",3,"nzTooltipTitle","nzTooltipPlacement","click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-tooltip","","nz-menu-item","",3,"nzTooltipTitle","click"],["nz-icon","","nzType","delete","nzTheme","outline",1,"me-2"],["titleTemplate",""],["class","d-flex align-items-center w-100",4,"ngSwitchCase"],[1,"cursor-pointer","kanban-status-label","w-100",3,"click"],["nz-button","","nzType","text","nz-dropdown","","nzTrigger","click",1,"p-0",3,"nzDropdownMenu"],["nz-icon","","nzType","ellipsis","nzTheme","outline",2,"font-size","21px"],["nz-tooltip","","nz-menu-item","",1,"m-0",3,"nzTooltipTitle","nzTooltipPlacement","click"],[3,"nzColor","nzText"],["textTmpl",""],["nz-icon","","nzType","retweet","nzTheme","outline",1,"me-1"],[1,"d-flex","align-items-center","w-100"],["nz-icon","","nzType","loading","nzTheme","outline","class","me-2",4,"ngIf"],["nz-input","","nzBorderless","",3,"id","disabled","ngModel","ngModelChange","keydown.enter","blur"],["nz-icon","","nzType","loading","nzTheme","outline",1,"me-2"],["cdkDrag","",1,"task",3,"cdkDragData","click","contextmenu"],[3,"task","projectId"],[1,"task-create-card","task"],["taskCreateCard",""],[4,"ngIf"],["indicatorTemplate",""],["nz-input","","maxlength","100",3,"placeholder","ngModel","disabled","ngModelChange","keydown.enter"],["inputValue",""],["style","position: absolute;z-index: 1;right: 15px;top: 40px;color: #00000073;font-size: 10px;",4,"ngIf"],[1,"d-flex","mt-3","mb-3",2,"max-height","24px","min-height","24px",3,"ngClass"],[1,"due-date-section"],["nz-typography","",1,"date-text"],[1,"kanban-task-create-dp","bg-transparent","kanban-task-card-due-date",3,"nzPlaceHolder","nzSuffixIcon","ngModel","ngModelChange"],[1,"assignees-section","ms-auto"],["nz-button","","nzType","default",1,"add-task-btn-card","me-2",3,"click"],["nz-button","","nzType","primary",1,"add-task-btn-card","a-t",3,"disabled","nzLoading","click"],[1,"spinner"],["nzSimple","",3,"nzIndicator"],["nz-icon","","nzType","loading"],[2,"position","absolute","z-index","1","right","15px","top","40px","color","#00000073","font-size","10px"],[1,"pt-5","pb-5"],[1,"no-data-img-holder","mx-auto","mb-4"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"mx-auto","d-block","text-center","no-data-text",2,"width","max-content"],["nz-typography","",1,"d-flex","align-items-center","no-data-text"],["nz-button","","nzType","default","nz-tooltip","","nzTooltipTitle","Add Status",1,"text-plus-btn","mx-2",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline",2,"font-size","18px"],[1,"new-column-sec"],["nz-button","","nzType","default","nz-tooltip","","nzTooltipTitle","Add Status",3,"click"],["action","Create",3,"show","statusId","projectId","onCancel","onCreateOrUpdate"],["nzType","warning",3,"nzMessage"],[1,"text-center","mt-4"],["nz-typography",""],["nz-typography","",1,"my-3"],["nz-icon","","nzType","arrow-down","nzTheme","outline"],[1,"w-100",3,"ngModel","nzDropdownMatchSelectWidth","ngModelChange"],["nzCustomContent","",3,"nzDisabled","nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],["nz-button","","nzType","primary","nzBlock","",1,"mt-3",3,"nzLoading","disabled","click"],["nzCustomContent","",3,"nzDisabled","nzLabel","nzValue"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nz-skeleton",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.NdJ("cdkDropListDropped",function(o){return n.dropGrid(o)}),e.YNc(7,c,24,13,"div",7),e.YNc(8,u,11,0,"div",8),e.YNc(9,d,3,0,"div",9),e.qZA()()()()()()(),e.TgZ(10,"worklenz-task-view",10),e.NdJ("showChange",function(o){return n.showTaskModal=o})("showChange",function(o){return n.onShowChange(o)}),e.qZA(),e.YNc(11,w,1,3,"worklenz-status-form",11),e.TgZ(12,"nz-drawer",12),e.NdJ("nzOnClose",function(){return n.closeStatusesReplaceModal()}),e.YNc(13,Q,11,8,"ng-container",13),e.qZA()),2&t&&(e.xp6(1),e.Q6J("nzLoading",n.isLoading())("nzParagraph",e.DdM(15,O)),e.xp6(6),e.Q6J("ngForOf",n.groups)("ngForTrackBy",n.trackById),e.xp6(1),e.Q6J("ngIf",!n.groups.length),e.xp6(1),e.Q6J("ngIf",n.isOwnerOrAdmin()||n.isProjectManager()),e.xp6(1),e.Q6J("show",n.showTaskModal)("selfResetTaskId",!1)("projectId",(null==n.selectedTask?null:n.selectedTask.project_id)||null)("taskId",(null==n.selectedTask?null:n.selectedTask.id)||null),e.xp6(1),e.Q6J("ngIf",n.projectId),e.xp6(1),e.Q6J("nzClosable",!0)("nzVisible",n.showStatusesReplaceModal)("nzPlacement","right")("nzTitle","You are deleting a status"))},dependencies:[Ie.mk,Ie.sg,Ie.O5,Ie.RF,Ie.n9,fr.x7,Vt.ix,Wt.w,an.dQ,_r.uw,zn.wO,zn.r9,zn.rY,cn.cm,cn.RR,cn.wA,zt.Ls,nA.Zp,$n.Ip,$n.Vq,Mn.ng,QA.W,Zt.SY,Ut.ZU,ni.Wj,ni.Zt,ni.Bh,ei.E,Ro.W,Pe.Fj,Pe.JJ,Pe.nD,Pe.On,lA.Vz,lA.SQ,$a.r,DA.bd,ar,lg,VA.m,Hs.l],styles:[".root[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.worklenz-kanban[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;min-width:0;min-height:0}.board-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;background-color:#fafafa;padding-top:6px;padding-bottom:6px}.board-columns[_ngcontent-%COMP%]{display:flex;flex-grow:1}.board-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:0;max-width:325px;width:325px;margin-right:8px;padding:8px;border-radius:4px;max-height:calc(100vh - 220px);overflow:auto;border:1px solid transparent}.board-column[_ngcontent-%COMP%]   .column-footer[_ngcontent-%COMP%]{position:sticky;bottom:-2px;box-shadow:0 0 0 4px #fafafa}.board-column[_ngcontent-%COMP%]   .column-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:1;pointer-events:none}.board-column[_ngcontent-%COMP%]:hover{border:1px solid #f0f0f0}.board-column[_ngcontent-%COMP%]:hover   .column-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.column-title[_ngcontent-%COMP%]{font-size:14px;padding-top:0}.column-title[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#000000d9;font-weight:600}.tasks-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:2px;border-radius:4px}.task[_ngcontent-%COMP%]{padding:12px;background:white;border-radius:4px;margin-bottom:12px;cursor:pointer;position:relative;overflow:hidden;transition:box-shadow .3s;box-shadow:#edeae9 0 0 0 1px,#6d6e6f14 0 1px 4px}.task[_ngcontent-%COMP%]:hover{box-shadow:#a8a8a8 0 0 0 1px,#6d6e6f14 0 1px 4px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.kanban-status[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.left-border[_ngcontent-%COMP%]{left:5px;position:absolute;width:3px;top:10px;border-radius:4px;bottom:10px;margin-top:auto;margin-bottom:auto;opacity:.8}nz-avatar-group[_ngcontent-%COMP%]{float:right}.ant-input[_ngcontent-%COMP%]{padding:2px 4px;color:#000000d9;font-weight:500;font-size:14px}.create-new-task[_ngcontent-%COMP%]{padding:4px 15px;cursor:pointer;background:#1890ff;transition:.25s all;color:#fff;font-weight:500;border-radius:4px;width:max-content;text-shadow:0 -1px 0 rgba(0,0,0,.12);box-shadow:0 2px #0000000d}.create-new-task[_ngcontent-%COMP%]:hover{border-color:#40a9ff;background:#40a9ff}.task-name[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:8px!important;line-height:24px}.column-footer[_ngcontent-%COMP%]{background:#fafafa;padding-top:7px;z-index:10}.new-column-sec[_ngcontent-%COMP%]{text-align:right;padding:0 0 4px;margin-bottom:4px;border-bottom:1px solid #f0f0f0}.new-column-sec[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .text-plus-btn[_ngcontent-%COMP%]{width:34px;height:34px;display:flex;align-items:center;justify-content:center;font-size:24px;border:transparent;background:#f4f5f7;color:#42526e}.new-board-btn[_ngcontent-%COMP%]{padding:15px 35px;height:auto;border-radius:4px;background:#f4f5f7;color:#000000d9;border:none;font-weight:500}.new-board-btn[_ngcontent-%COMP%]:hover{background:#40a9ff;color:#fff}*[_ngcontent-%COMP%]::-webkit-scrollbar-track, *[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent!important}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-color:#f4f5f7!important}.column-title[_ngcontent-%COMP%]{cursor:grab}.column-title[_ngcontent-%COMP%]:hover:active, .column-title[_ngcontent-%COMP%]:active{cursor:grabbing}.kanban-status-label[_ngcontent-%COMP%]{margin:-5px;padding:5px;border-radius:5px;font-weight:600}.kanban-status-label[_ngcontent-%COMP%]:hover{background:#f3f3f3}.kanban-category-badge[_ngcontent-%COMP%]{cursor:pointer;font-size:11px;width:16px;height:16px}nz-tag[_ngcontent-%COMP%]{border:none;color:#000000a6}.low-priority[_ngcontent-%COMP%]{color:#52c41a}.medium-priority[_ngcontent-%COMP%]{color:#faad14;transform:rotate(90deg)}.high-priority[_ngcontent-%COMP%]{color:#f5222d;transform:rotate(90deg)}.subtask-icon-main[_ngcontent-%COMP%]{font-size:12px;padding:2px}.subtask-icon-main[_ngcontent-%COMP%]   .anticon[_ngcontent-%COMP%]{margin-left:4px}.subtasks-count-tag[_ngcontent-%COMP%]{background:white}.add-task-btn[_ngcontent-%COMP%]{height:38px}.add-task-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000000a6;transition:all .3s}.add-task-btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .add-task-btn[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%]{color:#1890ff}.add-task-btn[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%]{color:#1890ff}.add-task-btn[_ngcontent-%COMP%]:focus-visible   span[_ngcontent-%COMP%]{color:#1890ff}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:72px}.task-create-card[_ngcontent-%COMP%]{min-height:110px;box-shadow:#a8a8a8 0 0 0 1px,#6d6e6f14 0 1px 4px}.add-task-btn-card[_ngcontent-%COMP%]{font-size:12px;padding:2px 7px;margin-left:auto;height:auto}.hide[_ngcontent-%COMP%]{pointer-events:none!important;opacity:.6!important;cursor:not-allowed}nz-date-picker[_ngcontent-%COMP%]{padding:1px 4px;width:100%;max-width:105px;height:24px;margin-left:-4px;border-color:transparent!important}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.date-text[_ngcontent-%COMP%]{font-size:12px;line-height:24px;position:absolute}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.spinner[_ngcontent-%COMP%]{position:absolute;z-index:9;inset:0;background:rgba(255,255,255,.65);display:flex;align-items:center;justify-content:center}.a-t[_ngcontent-%COMP%]:disabled{color:#00000040!important;border-color:#d9d9d9!important;background:#f5f5f5!important}.a-t[_ngcontent-%COMP%]:hover{background:#188fff;color:#fff}.bottom-task-add[_ngcontent-%COMP%]{background:white;border:none;transition:background,color .2s}.bottom-task-add[_ngcontent-%COMP%]:hover{background:#f3f3f3;color:#000000d9}.bottom-task-add[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#000000d9}"],changeDetection:0}),i})(),W=(()=>{var r;class i extends _l.P{constructor(t){super(),this.http=t,this.root=`${this.API_BASE_URL}/roadmap-gannt`}getGanntDates(t,n){const s=(0,st.UK)({timeZone:n});return this._get(this.http,`${this.root}/chart-dates/${t}${s}`)}getTaskGroups(t){const n=(0,st.UK)(t);return this._get(this.http,`${this.root}/task-groups/${t.id}${n}`)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.LFG(Pa.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var Ae=oe(98698);const de=["input"];function xe(r,i){1&r&&e._UZ(0,"span",10),2&r&&e.Q6J("nzType","double-right")("nzTheme","outline")}function tt(r,i){if(1&r&&(e.TgZ(0,"nz-tag",11)(1,"span",12),e._uU(2),e._UZ(3,"span",13),e.qZA()()),2&r){const A=e.oxw(3);e.Q6J("nzColor","default"),e.xp6(2),e.hij(" ",A.task.sub_tasks_count," "),e.xp6(1),e.Q6J("nzType","double-right")("nzTheme","outline")}}function Ze(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.enableEdit())}),e.TgZ(1,"div",6)(2,"div",7),e.YNc(3,xe,1,2,"span",8),e._uU(4),e.qZA(),e.YNc(5,tt,4,4,"nz-tag",9),e.qZA()()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzTooltipTitle",A.task.name),e.xp6(2),e.Q6J("ngIf",A.task.is_sub_task),e.xp6(1),e.hij(" ",A.task.name," "),e.xp6(1),e.Q6J("ngIf",!A.task.is_sub_task)}}function Je(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",14)(1,"input",15,16),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.task.name=n)})("blur",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.validateName())})("keydown.enter",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.validateName())}),e.qZA()()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("ngModel",A.task.name)}}function St(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.openTask.emit(n.task))}),e._UZ(1,"span",18),e._uU(2," Open "),e.qZA()}2&r&&(e.Q6J("nzType","text"),e.xp6(1),e.Q6J("nzType","expand-alt")("nzTheme","outline"))}function dt(r,i){if(1&r&&(e.TgZ(0,"div",1),e.YNc(1,Ze,6,4,"div",2),e.YNc(2,Je,3,1,"div",3),e.YNc(3,St,3,3,"button",4),e.qZA()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngIf",!A.isEditing),e.xp6(1),e.Q6J("ngIf",A.isEditing),e.xp6(1),e.Q6J("ngIf",!A.isEditing)}}let lt=(()=>{var r;class i{constructor(t,n,s){this.socket=t,this.cdr=n,this.service=s,this.task=null,this.openTask=new e.vpe,this.initialTaskName=null,this.isEditing=!1,this.handleResponse=o=>{o&&this.task?.id===o.id&&this.task&&this.task.name!=o.name&&(this.task.name=o.name,this.cdr.markForCheck())},(0,Xa.T)(this.service.onSubtaskAdd,this.service.onSubtaskDelete).pipe((0,Pt.sL)()).subscribe(o=>{this.cdr.detectChanges()})}ngOnInit(){this.task?.name&&(this.initialTaskName=this.task.name),this.socket.on(Ne.C.TASK_NAME_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_NAME_CHANGE.toString(),this.handleResponse)}enableEdit(){this.isEditing=!0,setTimeout(()=>{this.input&&this.input.nativeElement.focus()},250)}validateName(){if(this.task&&""===this.task.name?.trim())return this.task.name=this.initialTaskName,this.isEditing=!1,void this.cdr.markForCheck();this.changeName()}changeName(){this.task&&(this.socket.emit(Ne.C.TASK_NAME_CHANGE.toString(),JSON.stringify({task_id:this.task.id,name:this.task.name,parent_task:null})),this.isEditing=!1)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(ti.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-rm-task-name"]],viewQuery:function(t,n){if(1&t&&e.Gf(de,5),2&t){let s;e.iGM(s=e.CRH())&&(n.input=s.first)}},inputs:{task:"task"},outputs:{openTask:"openTask"},decls:1,vars:1,consts:[["class","task-name-block position-relative h-default ms-1",4,"ngIf"],[1,"task-name-block","position-relative","h-default","ms-1"],["class","name-holder h-default",3,"click",4,"ngIf"],["class","name-editor d-flex align-items-center h-default",4,"ngIf"],["nz-tooltip","","nz-button","","class","task-open-btn px-1 h-default",3,"nzType","click",4,"ngIf"],[1,"name-holder","h-default",3,"click"],["nz-tooltip","",1,"border-input","ellipsis","d-flex","align-items-center","h-default",3,"nzTooltipTitle"],[1,"d-block","task-name","ellipsis"],["nz-icon","","style","font-size: 10px; top: -1px","class","position-relative",3,"nzType","nzTheme",4,"ngIf"],["class","ms-1 px-1 double-arrow",3,"nzColor",4,"ngIf"],["nz-icon","",1,"position-relative",2,"font-size","10px","top","-1px",3,"nzType","nzTheme"],[1,"ms-1","px-1","double-arrow",3,"nzColor"],[2,"color","#6d6e6f"],["nz-icon","",2,"font-size","10px",3,"nzType","nzTheme"],[1,"name-editor","d-flex","align-items-center","h-default"],["nz-input","","placeholder","Enter task name","type","text",3,"ngModel","ngModelChange","blur","keydown.enter"],["input",""],["nz-tooltip","","nz-button","",1,"task-open-btn","px-1","h-default",3,"nzType","click"],["nz-icon","",3,"nzType","nzTheme"]],template:function(t,n){1&t&&e.YNc(0,dt,4,3,"div",0),2&t&&e.Q6J("ngIf",n.task)},dependencies:[Ie.O5,AA.j,zt.Ls,Zt.SY,Vt.ix,Wt.w,an.dQ,nA.Zp,Pe.Fj,Pe.JJ,Pe.On],styles:[".task-open-btn[_ngcontent-%COMP%]{opacity:0;position:absolute;right:0;top:0;background:whitesmoke;transition:.25s all}.task-name-block[_ngcontent-%COMP%]{position:relative}.task-name-block[_ngcontent-%COMP%]:hover   .task-open-btn[_ngcontent-%COMP%]{opacity:1}.task-name[_ngcontent-%COMP%]{max-width:240px}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.double-arrow[_ngcontent-%COMP%]{line-height:16px;border:none;max-height:16px;margin-top:4px}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"],changeDetection:0}),i})();var Xt=oe(75729);function Et(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",1,2)(2,"span",3),e._uU(3),e.ALo(4,"dateFormatter"),e.qZA(),e.TgZ(5,"nz-date-picker",4),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.task.start_date=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.handleStartDateChange(n,s.task))}),e.ALo(6,"validateMaxDate"),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,A.task.start_date)),e.xp6(2),e.Q6J("ngModel",A.task.start_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set start date")("nzDisabledDate",e.lcZ(6,8,A.task.end_date))}}let Bt=(()=>{var r;class i{constructor(t,n,s){this.socket=t,this.cdr=n,this.auth=s,this.task=null,this.group=null,this.handleResponse=o=>{this.task&&o.id===this.task.id&&this.task.start_date!==o.start_date&&(this.task.start_date=o.start_date,this.cdr.markForCheck())},this.handleDragChangeResponse=o=>{this.task&&(this.task.id===o.task_id&&(this.task.start_date=o.start_date),this.cdr.detectChanges())}}ngOnInit(){this.socket.on(Ne.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse),this.socket.on(Ne.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse),this.socket.removeListener(Ne.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}handleStartDateChange(t,n){n&&this.socket.emit(Ne.C.TASK_START_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,start_date:t||null,parent_task:n.parent_task_id?n.parent_task_id:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-rm-start-date"]],inputs:{task:"task",group:"group"},decls:1,vars:1,consts:[["class","editable d-flex w-100 h-default align-items-center",4,"ngIf"],[1,"editable","d-flex","w-100","h-default","align-items-center"],["elementStartDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"]],template:function(t,n){1&t&&e.YNc(0,Et,7,10,"div",0),2&t&&e.Q6J("ngIf",n.task)},dependencies:[Ie.O5,Ut.ZU,Pe.JJ,Pe.On,_r.uw,Hs.l,Xt.z],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:8px}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"]}),i})();var $e=oe(47053);function Jt(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",1,2)(2,"span",3),e._uU(3),e.ALo(4,"dateFormatter"),e.qZA(),e.TgZ(5,"nz-date-picker",4),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.task.end_date=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.handleEndDateChange(n,s.task))}),e.ALo(6,"validateMinDate"),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(2),e.ekj("past-date",A.checkForPastDate(A.task.end_date))("soon-date",A.checkForSoonDate(A.task.end_date)),e.xp6(1),e.Oqu(e.lcZ(4,10,A.task.end_date)),e.xp6(2),e.Q6J("ngModel",A.task.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set due date")("nzDisabledDate",e.lcZ(6,12,A.task.start_date))}}let Yt=(()=>{var r;class i{constructor(t,n,s){this.socket=t,this.cdr=n,this.auth=s,this.task=null,this.group=null,this.handleResponse=o=>{this.task&&o.id===this.task.id&&this.task.end_date!==o.end_date&&(this.task.end_date=o.end_date,this.cdr.markForCheck())},this.handleDragChangeResponse=o=>{this.task&&(this.task.id===o.task_id&&(this.task.end_date=o.end_date),this.cdr.detectChanges())}}ngOnInit(){this.socket.on(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse),this.socket.on(Ne.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse),this.socket.removeListener(Ne.C.GANNT_DRAG_CHANGE.toString(),this.handleDragChangeResponse)}handleEndDateChange(t,n){this.socket.emit(Ne.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,end_date:(0,st.A6)(t)||null,parent_task:n.parent_task_id?n.parent_task_id:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}checkForPastDate(t){return me()(t).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(t){const n=me()(t).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return n===me()().format("YYYY-MM-DD")||n===s}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-rm-end-date"]],inputs:{task:"task",group:"group"},decls:1,vars:1,consts:[["class","editable d-flex w-100 h-default align-items-center",4,"ngIf"],[1,"editable","d-flex","w-100","h-default","align-items-center"],["elementDueDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange"]],template:function(t,n){1&t&&e.YNc(0,Jt,7,14,"div",0),2&t&&e.Q6J("ngIf",n.task)},dependencies:[Ie.O5,Ut.ZU,Pe.JJ,Pe.On,_r.uw,Hs.l,$e.v],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:8px}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"],changeDetection:0}),i})(),yt=(()=>{var r;class i{constructor(t,n,s,o){this.el=t,this.renderer=n,this.service=s,this.cdr=o,this.dragged=new e.vpe,this.isResizing=!1,this.isDragging=!1,this.startX=0,this.initialLeft=0,this.finalLeft=null}throttle(t,n){let s;return function(...o){s||(t.apply(i,o),s=setTimeout(()=>{s=null},n))}}onMouseDown(t){t.target.classList.contains("resize-handle")?this.isResizing=!0:this.isDragging=!0,this.startX=t.clientX,this.initialLeft=Math.floor(this.el.nativeElement.id),this.setPlaceHolderStyles(),this.service.highlighterLeft=this.el.nativeElement.offsetLeft,this.service.highlighterWidth=this.el.nativeElement.offsetWidth,this.renderer.setStyle(this.el.nativeElement,"opacity","0"),this.renderer.setStyle(this.el.nativeElement,"transform",`translateX(${Math.floor(this.initialLeft)}px)`),this.renderer.setStyle(this.el.nativeElement,"left","0"),this.renderer.setStyle(this.el.nativeElement,"z-index","1"),this.removePlaceHolderStyles(),document.body.style.userSelect="none"}onMouseMove(t){!this.isResizing&&this.isDragging&&(this.service.transition=.15,this.throttle(()=>{requestAnimationFrame(()=>{this.renderer.setStyle(this.el.nativeElement,"transform",`translateX(${35*Math.floor((this.initialLeft+t.clientX-this.startX)/35)}px)`)}),this.finalLeft=35*Math.floor((this.initialLeft+t.clientX-this.startX)/35),this.service.highlighterLeft=this.finalLeft},200)())}onMouseUp(t){if(this.isResizing||this.isDragging){this.isResizing=!1,this.isDragging=!1,document.body.style.userSelect="auto";let n=this.finalLeft?this.finalLeft:this.initialLeft;this.setPlaceHolderStyles(),this.renderer.setStyle(this.el.nativeElement,"opacity","0"),this.renderer.setStyle(this.el.nativeElement,"transform","translateX(0px)"),this.renderer.setStyle(this.el.nativeElement,"left",`${n}px`),this.renderer.setStyle(this.el.nativeElement,"z-index","0"),this.removePlaceHolderStyles();let s=n-this.initialLeft;this.dragged.emit({finalLeft:n,dragDifference:s}),s=0,this.finalLeft=null,this.initialLeft=0}}setPlaceHolderStyles(){this.showIndicators(),this.service.transition=0,this.service.width=this.el.nativeElement.offsetWidth,this.service.top=this.el.nativeElement.offsetTop,this.service.left=this.el.nativeElement.offsetLeft,this.service.opacity=1,this.cdr.markForCheck()}removePlaceHolderStyles(){this.service.opacity=0,this.renderer.setStyle(this.el.nativeElement,"opacity","1"),this.service.width=0,this.service.left=0}showIndicators(){this.service.emitShowIndicators(this.el.nativeElement.getAttribute("task_id"))}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ti.s),e.Y36(e.sBO))},r.\u0275dir=e.lG2({type:r,selectors:[["","worklenzDragAndMove",""]],hostBindings:function(t,n){1&t&&e.NdJ("mousedown",function(o){return n.onMouseDown(o)})("mousemove",function(o){return n.onMouseMove(o)},!1,e.evT)("mouseup",function(){return n.onMouseUp()},!1,e.evT)},outputs:{dragged:"dragged"}}),i})();function Rn(r,i){1&r&&e._UZ(0,"div",8)}function IA(r,i){1&r&&e._UZ(0,"div",9)}function GA(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"div",1,2),e.NdJ("dragged",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.onElementDragged(n,s.task,s.group.id))}),e.TgZ(3,"div",3)(4,"div",4),e.NdJ("mousedown",function(n){e.CHM(A);const s=e.MAs(2),o=e.oxw();return o.onResizeStart(n,o.task,"left",s),e.KtG(n.stopPropagation())}),e.qZA(),e.TgZ(5,"div",5),e.NdJ("mousedown",function(n){e.CHM(A);const s=e.MAs(2),o=e.oxw();return o.onResizeStart(n,o.task,"right",s),e.KtG(n.stopPropagation())}),e.qZA()(),e.YNc(6,Rn,1,0,"div",6),e.YNc(7,IA,1,0,"div",7),e.qZA(),e.BQk()}if(2&r){const A=e.oxw();e.xp6(1),e.Udp("width",A.task.width+"px")("left",A.task.offset_from+"px")("transition","transform "+A.service.transition+"s ease, left "+A.service.transition+"s ease, width "+A.service.transition+"s ease"),e.Q6J("id",A.task.offset_from),e.uIk("task_id",A.task.id),e.xp6(5),e.Q6J("ngIf",A.showIndicators),e.xp6(1),e.Q6J("ngIf",A.showIndicators)}}let pn=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B){var x=this;this.api=t,this.cdr=n,this.ngZone=s,this.socket=o,this.map=h,this.service=p,this.renderer=_,this.auth=B,this.cls="h-100 d-flex align-items-center",this.task=null,this.parentTask=null,this.group=null,this.chartStart=null,this.chartEnd=null,this.openTask=new e.vpe,this.refreshChart=new e.vpe,this.scrollChange=new e.vpe,this.GANNT_COLUMN_WIDTH=35,this.isResized=!1,this.showIndicators=!1,this.handleStartDateChangeResponse=function(){var y=(0,ce.Z)(function*(v){if(x.task&&x.task.id===v.id){const M=me()(x.chartStart).format("YYYY-MM-DD"),E=me()(x.chartEnd).format("YYYY-MM-DD"),Z=me()(M),I=me()(E);x.service.handleStartDateChange(v,Z,I)}});return function(v){return y.apply(this,arguments)}}(),this.handleEndDateChangeResponse=function(){var y=(0,ce.Z)(function*(v){if(x.task&&x.task.id===v.id){const M=me()(x.chartStart).format("YYYY-MM-DD"),E=me()(x.chartEnd).format("YYYY-MM-DD"),Z=me()(M),I=me()(E);x.service.handleEndDateChange(v,Z,I)}});return function(v){return y.apply(this,arguments)}}(),this.service.onResizeEnd.pipe((0,Pt.sL)()).subscribe(y=>{this.verifyDateChanges(y)}),this.service.onShowIndicators.pipe((0,Pt.sL)()).subscribe(y=>{this.task?.id===y&&(this.showIndicators=!0,this.cdr.markForCheck())}),this.service.onRemoveIndicators.pipe((0,Pt.sL)()).subscribe(y=>{this.task?.id===y&&(this.showIndicators=!1,this.cdr.markForCheck()),this.service.highlighterLeft=0,this.service.highlighterWidth=0})}ngOnInit(){this.socket.on(Ne.C.TASK_START_DATE_CHANGE.toString(),this.handleStartDateChangeResponse),this.socket.on(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleEndDateChangeResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_START_DATE_CHANGE.toString(),this.handleStartDateChangeResponse),this.socket.removeListener(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleEndDateChangeResponse)}onElementDragged(t,n,s){var o=this;return(0,ce.Z)(function*(){if(!n)return;if(0==t.dragDifference)return o.openTask.emit(n);t.finalLeft===n.offset_from&&(n.offset_from=t.finalLeft-1);const h=t.finalLeft%o.GANNT_COLUMN_WIDTH;o.socket.emit(Ne.C.GANNT_DRAG_CHANGE.toString(),JSON.stringify({task_id:n.id,task_width:n.width,task_duration:n.width?n.width/o.GANNT_COLUMN_WIDTH:0,task_offset:t.finalLeft-h,from_start:(t.finalLeft-h)/o.GANNT_COLUMN_WIDTH,chart_start:o.chartStart,group_id:s,time_zone:o.auth.getCurrentSession()?.timezone_name?o.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone})),o.socket.once(Ne.C.GANNT_DRAG_CHANGE.toString(),p=>{me()(me()(p.end_date).format("YYYY-MM-DD")).isSameOrAfter(me()(o.chartEnd).format("YYYY-MM-DD"))||me()(me()(p.start_date).format("YYYY-MM-DD")).isBefore(me()(o.chartStart).format("YYYY-MM-DD"))?o.refreshChart.emit(!0):(o.service.handleTaskDragFinish(p),o.service.emitRemoveIndicators(p.task_id),o.scrollChange.emit(p.task_offset-2*o.GANNT_COLUMN_WIDTH),o.cdr.markForCheck())})})()}onResizeStart(t,n,s,o){if(!n||!n.width||!n.offset_from)return;this.isResized=!1,this.service.top=0,this.service.emitShowIndicators(this.task?.id);const h=t.clientX,p=n.width,_=n.offset_from,B=me()(this.chartStart).format("YYYY-MM-DD"),x=me()(B),y=M=>{const E=M.clientX-h;let Z=p,I=_;"left"===s?(Z=p-E,I=_+E):"right"===s&&(Z=p+E),this.service.highlighterLeft=I,this.service.highlighterWidth=Z,this.cdr.markForCheck(),Z>=this.GANNT_COLUMN_WIDTH-3&&(n.width=Z,n.offset_from=I,this.isResized=!0,this.cdr.markForCheck())},v=()=>{if(this.isResized=!0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),"left"===s){const Z=x.add(n.offset_from?(n.offset_from-(n.offset_from?n.offset_from%this.GANNT_COLUMN_WIDTH:0))/this.GANNT_COLUMN_WIDTH:0,"days");this.socket.emit(Ne.C.TASK_START_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,start_date:Z,parent_task:this.parentTask?this.parentTask:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}if("right"===s){const M=n.width?n.width%this.GANNT_COLUMN_WIDTH:0;let E=n.width;if(M>0&&(E=n.width?n.width+(this.GANNT_COLUMN_WIDTH-M):0),!E)return;const Z=n.offset_from?(n.offset_from+E)/this.GANNT_COLUMN_WIDTH:0,I=me()(B).add(Z-1,"days");this.socket.emit(Ne.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,end_date:I,parent_task:this.parentTask?this.parentTask:null,group_id:this.group?.id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}};document.addEventListener("mousemove",y),document.addEventListener("mouseup",v)}verifyDateChanges(t){const n=me()().format("YYYY-MM-DD"),s=me()(n);t.taskStartDate&&!t.taskEndDate?this.handleTaskPositionSTDOnly(t.taskStartDate,t.chartStartDate,t.task):!t.taskStartDate&&t.taskEndDate?this.handleTaskPositionENDOnly(t.taskEndDate,t.chartStartDate,t.task):t.taskStartDate||t.taskEndDate?t.taskStartDate&&t.taskEndDate&&this.handleTaskPositionBothHave(t.taskStartDate,t.taskEndDate,t.chartStartDate,t.task):this.handleTaskPositionBothNull(s,t.chartStartDate,t.task),this.service.emitRemoveIndicators(this.task?.id)}handleTaskPositionSTDOnly(t,n,s){const o=me()(t).format("YYYY-MM-DD"),p=me()(o).diff(n,"day");s.offset_from=p*this.GANNT_COLUMN_WIDTH,s.width=this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}handleTaskPositionENDOnly(t,n,s){const o=me()(t).format("YYYY-MM-DD"),p=me()(o).diff(n,"day");s.offset_from=p*this.GANNT_COLUMN_WIDTH,s.width=this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}handleTaskPositionBothNull(t,n,s){const o=t.diff(n,"day");s.offset_from=o*this.GANNT_COLUMN_WIDTH,s.width=this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}handleTaskPositionBothHave(t,n,s,o){const h=me()(t).format("YYYY-MM-DD"),p=me()(h),_=p.diff(s,"day"),B=me()(n).format("YYYY-MM-DD"),y=me()(B).diff(p,"day");o.offset_from=_*this.GANNT_COLUMN_WIDTH,o.width=(y+1)*this.GANNT_COLUMN_WIDTH,this.cdr.markForCheck()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(W),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Kt.s),e.Y36(Ae.L),e.Y36(ti.s),e.Y36(e.Qsj),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-task-bar"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task",parentTask:"parentTask",group:"group",chartStart:"chartStart",chartEnd:"chartEnd"},outputs:{openTask:"openTask",refreshChart:"refreshChart",scrollChange:"scrollChange"},decls:1,vars:1,consts:[[4,"ngIf"],["worklenzDragAndMove","",1,"task-bar",3,"id","dragged"],["task_bar",""],[1,"d-flex"],[1,"resize-handle","left-handle",3,"mousedown"],[1,"resize-handle","right-handle",3,"mousedown"],["class","days-indicator-left",4,"ngIf"],["class","days-indicator-right",4,"ngIf"],[1,"days-indicator-left"],[1,"days-indicator-right"]],template:function(t,n){1&t&&e.YNc(0,GA,8,10,"ng-container",0),2&t&&e.Q6J("ngIf",n.task&&n.group)},dependencies:[Ie.O5,yt],styles:['.task-bar[_ngcontent-%COMP%]{background:rgb(217,227,238);border:1px solid rgb(173,181,189);position:absolute;min-width:32px;min-height:28px;max-height:28px;border-radius:4px;z-index:0;cursor:move;will-change:trasnsform}.task-bar[_ngcontent-%COMP%]   .days-indicator-left[_ngcontent-%COMP%]{position:absolute;content:"";width:1px;background:rgb(217,227,238);left:-1px;bottom:25px;height:100vh}.task-bar[_ngcontent-%COMP%]   .days-indicator-right[_ngcontent-%COMP%]{position:absolute;content:"";width:1px;background:rgb(217,227,238);right:-1px;bottom:25px;height:100vh}.resize-handle[_ngcontent-%COMP%]{position:absolute;width:6px;height:100%;cursor:col-resize;background-color:#7cb8fb;transition:width .15s ease}.resize-handle[_ngcontent-%COMP%]:hover{width:8px}.resize-handle[_ngcontent-%COMP%]:before{position:absolute;content:":";left:1px;color:#fff}.left-handle[_ngcontent-%COMP%]{left:0}.right-handle[_ngcontent-%COMP%]{right:0}'],changeDetection:0}),i})();const pA=["taskInput"];function Si(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"form",3)(1,"input",4,5),e.NdJ("blur",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.onInputBlur())})("keyup.enter",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.addInstantTask())}),e.qZA()()}if(2&r){const A=e.oxw();e.Q6J("formGroup",A.form),e.xp6(1),e.Q6J("nzBorderless",!0)("formControlName","name")("readOnly",A.creating)}}function MA(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.focusTaskInput())}),e._UZ(1,"span",7),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&r){const A=e.oxw();e.uIk("id",A.id),e.xp6(1),e.Q6J("nzType",A.creating?"loading":"plus")("nzTheme","outline"),e.xp6(2),e.hij(" ",A.label,"")}}let EA=(()=>{var r;class i{constructor(t,n,s,o,h,p,_){this.socket=t,this.auth=n,this.fb=s,this.ngZone=o,this.cdr=h,this.service=p,this.map=_,this.subTaskInput=!1,this.projectId=null,this.parentTask=null,this.groupId=null,this.chartStart=null,this.label="Add Task",this.focusChange=new e.vpe,this.taskInputVisible=!1,this.creating=!1,this.id=(0,st.q$)(4),this._session=null,this.form=this.fb.group({name:[null,[Pe.kI.required,Pe.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]]}),this._session=this.auth.getCurrentSession()}focusTaskInput(){this.taskInputVisible=!0,this.focusChange.emit(this.taskInputVisible),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),this.taskInput?.nativeElement.select()},100)})}addTaskInputBlur(){this.taskInputVisible=!1,this.focusChange.emit(this.taskInputVisible)}onInputBlur(){var t=this;return(0,ce.Z)(function*(){t.isValidInput()?yield t.addInstantTask():t.addTaskInputBlur()})()}createRequest(){if(!this.projectId||!this._session)return null;const t=this._session,n={name:this.form.value.name,project_id:this.projectId,reporter_id:t.id,team_id:t.team_id,chart_start:this.chartStart?this.chartStart:""},s=this.service.getCurrentGroup();return s.value===this.service.GROUP_BY_STATUS_VALUE?n.status_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PRIORITY_VALUE?n.priority_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PHASE_VALUE&&(n.phase_id=this.groupId||void 0),this.parentTask&&(n.parent_task_id=this.parentTask),n}isValidInput(){return this.form.valid&&this.form.value.name.trim().length}addInstantTask(){var t=this;return(0,ce.Z)(function*(){if(!t.creating&&t.projectId&&t._session&&t.isValidInput()){try{const n=t.createRequest();if(!n)return;t.creating=!0,t.socket.emit(Ne.C.QUICK_TASK.toString(),JSON.stringify(n)),t.socket.once(Ne.C.QUICK_TASK.toString(),s=>{t.creating=!1,t.onNewTaskReceived(s),s.parent_task_id&&t.service.emitUpdateGroupProgress(s.id)})}catch{t.creating=!1}t.cdr.markForCheck()}})()}reset(t=!0){this.creating=!1,this.form.controls.name.setValue(null),this.taskInputVisible=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),t&&window.scrollTo(0,document.body.scrollHeight)},Ot.GR)}),this.cdr.markForCheck()}onNewTaskReceived(t){if(this.groupId&&t.id){if(this.map.has(t.id))return;this.service.addTask(t,this.groupId),pt.s.track(t.parent_task_id?Ve.VX:Ve.oN),this.reset(!1)}}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(yn.e),e.Y36(Pe.qu),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(ti.s),e.Y36(Ae.L))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-rm-add-task-input"]],viewQuery:function(t,n){if(1&t&&e.Gf(pA,5),2&t){let s;e.iGM(s=e.CRH())&&(n.taskInput=s.first)}},inputs:{subTaskInput:"subTaskInput",projectId:"projectId",parentTask:"parentTask",groupId:"groupId",chartStart:"chartStart",label:"label"},outputs:{focusChange:"focusChange"},decls:3,vars:3,consts:[[1,"name-input-container",3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","editable-row d-block task-name",3,"click",4,"ngSwitchCase"],[3,"formGroup"],["nz-input","","type","text","tabindex","1","placeholder","Type your task and hit enter",3,"nzBorderless","formControlName","readOnly","blur","keyup.enter"],["taskInput",""],[1,"editable-row","d-block","task-name",3,"click"],["nz-icon","",1,"input-icon",3,"nzType","nzTheme"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Si,3,4,"form",1),e.YNc(2,MA,4,4,"div",2),e.qZA()),2&t&&(e.Q6J("ngSwitch",n.taskInputVisible),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1))},dependencies:[Ie.RF,Ie.n9,zt.Ls,Wt.w,nA.Zp,Pe._Y,Pe.Fj,Pe.JJ,Pe.JL,Pe.sg,Pe.u],styles:[".input-icon[_ngcontent-%COMP%]{font-size:11px}input[_ngcontent-%COMP%]{background:white;border:1px solid #40a9ff;box-shadow:0 0 0 2px #1890ff33}.task-name[_ngcontent-%COMP%]{border:1px solid transparent}.task-name[_ngcontent-%COMP%]:hover{cursor:text;background:#fff;border:1px solid #bfbfbf;border-radius:4px}.name-input-container[_ngcontent-%COMP%]{max-width:300px;min-width:300px}"],changeDetection:0}),i})();function ts(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",8),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.changeGroup(s))}),e.TgZ(1,"span",9),e._uU(2),e.qZA()()}if(2&r){const A=i.$implicit,t=e.oxw();e.Q6J("nzSelected",A.value===t.selectedGroup.value),e.xp6(2),e.Oqu(A.label)}}let Dr=(()=>{var r;class i{get selectedGroup(){return this.service.getCurrentGroup()}constructor(t,n,s){this.cdr=t,this.ngZone=n,this.service=s,this.onGroupBy=new e.vpe}changeGroup(t){this.service.setCurrentGroup(t),this.onGroupBy.emit(t)}isGroupByPhase(){return this.selectedGroup.value===this.service.GROUP_BY_PHASE_VALUE}trackById(t,n){return n.id}reset(){this.ngZone.runOutsideAngular(()=>{document.body.click()})}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(ti.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-filters"]],inputs:{projectId:"projectId"},outputs:{onGroupBy:"onGroupBy"},decls:12,vars:11,consts:[[1,"d-block"],[1,"ms-1"],["nz-button","","nz-dropdown","",1,"ms-1",3,"nzTrigger","nzDropdownMenu","nzClickHide"],["nz-tooltip","",3,"nzTooltipTitle"],["nz-icon","",3,"nzType"],["groupByMenu",""],["nz-menu",""],["class","m-0","nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],["nz-menu-item","",1,"m-0",3,"nzSelected","click"],["nz-typography",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"Group by: "),e.qZA(),e.TgZ(3,"button",2)(4,"span",3),e._uU(5),e.ALo(6,"ellipsis"),e.qZA(),e._UZ(7,"span",4),e.qZA()(),e.TgZ(8,"nz-dropdown-menu",null,5)(10,"ul",6),e.YNc(11,ts,3,2,"li",7),e.qZA()()),2&t){const s=e.MAs(9);e.xp6(3),e.Q6J("nzTrigger","click")("nzDropdownMenu",s)("nzClickHide",!0),e.xp6(1),e.Q6J("nzTooltipTitle",n.selectedGroup.label),e.xp6(1),e.hij(" ",e.xi3(6,8,n.selectedGroup.label,15)," "),e.xp6(2),e.Q6J("nzType","caret-down"),e.xp6(4),e.Q6J("ngForOf",n.service.GROUP_BY_OPTIONS)("ngForTrackBy",n.trackById)}},dependencies:[Ie.sg,zt.Ls,Ut.ZU,Zt.SY,Vt.ix,Wt.w,an.dQ,zn.wO,zn.r9,cn.cm,cn.RR,cn.wA,Os.p],changeDetection:0}),i})();const Ii=["taskInput"];let ns=(()=>{var r;class i{constructor(t,n,s,o){this.socket=t,this.auth=n,this.cdr=s,this.service=o,this.projectId=null,this.parentTask=null,this.groupId=null,this.chartStart=null,this.openTask=new e.vpe,this.left=0,this.width=0,this._session=null,this._session=this.auth.getCurrentSession()}onDragStart(t){this.left=t.offsetX-t.offsetX%35;const n=t.pageX,s=h=>{const p=h.pageX-n;requestAnimationFrame(()=>{this.width=p,this.service.highlighterWidth=this.width,this.service.highlighterLeft=this.left,this.cdr.markForCheck()})},o=h=>{if(document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",o),n>h.pageX)return this.width=0,this.left=0,void this.cdr.markForCheck();requestAnimationFrame(()=>{this.width=this.width+(35-this.width%35),this.service.highlighterWidth=this.width,this.service.highlighterLeft=this.left,this.cdr.markForCheck(),this.createTask()})};document.addEventListener("mousemove",s),document.addEventListener("mouseup",o)}createTask(){if(!this.projectId||!this._session)return;const t=this.createRequest();try{this.socket.emit(Ne.C.QUICK_TASK.toString(),JSON.stringify(t)),this.socket.once(Ne.C.QUICK_TASK.toString(),n=>{this.onNewTaskReceived(n),n.parent_task_id&&this.service.emitUpdateGroupProgress(n.id)})}catch(n){(0,st.tu)(n)}}createRequest(){if(!this.projectId||!this._session)return null;const t=this._session,n={name:Ot.qu,project_id:this.projectId,reporter_id:t.id,team_id:t.team_id,chart_start:this.chartStart?this.chartStart:"",width:this.width,offset:this.left,is_dragged:!0},s=this.service.getCurrentGroup();return s.value===this.service.GROUP_BY_STATUS_VALUE?n.status_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PRIORITY_VALUE?n.priority_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PHASE_VALUE&&(n.phase_id=this.groupId||void 0),this.parentTask&&(n.parent_task_id=this.parentTask),n}onNewTaskReceived(t){t.width=this.width,t.offset_from=this.left;let n=this.service.getGroupIdByGroupedColumn(t);this.isGroupByPhase()&&(n||(n=Ot.k9)),n&&this.service.addTask(t,n),this.openTask.emit(t),this.cdr.markForCheck(),pt.s.track(t.parent_task_id?Ve.VX:Ve.oN),this.reset()}isGroupByPhase(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE}reset(){this.left=0,this.width=0}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(yn.e),e.Y36(e.sBO),e.Y36(ti.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-add-task-row"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ii,5),2&t){let s;e.iGM(s=e.CRH())&&(n.taskInput=s.first)}},inputs:{projectId:"projectId",parentTask:"parentTask",groupId:"groupId",chartStart:"chartStart"},outputs:{openTask:"openTask"},decls:3,vars:4,consts:[[1,"w-100","h-default","d-flex","align-items-center",3,"mousedown"],["task_add_row",""],[1,"indicator"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("mousedown",function(o){return n.onDragStart(o)}),e._UZ(2,"div",2),e.qZA()),2&t&&(e.xp6(2),e.Udp("width",n.width+"px")("left",n.left+"px"))},styles:[".indicator[_ngcontent-%COMP%]{height:30px;background:rgb(217,227,238);border:1px solid rgb(173,181,189);border-radius:4px;position:absolute;z-index:9;transition:.15s all}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}"],changeDetection:0}),i})();var As=oe(91607),Ai=oe(55736);const rs=["scroller"],ri=["fixed_right_column"],Gs=["fixed_left_column"],Ko=["task_elem"];function J1(r,i){1&r&&(e.TgZ(0,"div",22),e.ynx(1),e.TgZ(2,"div",23)(3,"div",24),e._UZ(4,"img",25),e.qZA(),e.TgZ(5,"span",26),e._uU(6,"No groups."),e.qZA()(),e.BQk(),e.qZA())}function Y1(r,i){1&r&&(e.TgZ(0,"div",35)(1,"span",36),e._uU(2,"No tasks available"),e.qZA()())}function q1(r,i){if(1&r&&(e._UZ(0,"span",51),e.ALo(1,"subTasksArrowIcon")),2&r){const A=e.oxw(2).$implicit;e.Q6J("nzType",e.lcZ(1,2,A.show_sub_tasks))("nzTheme","outline")}}function V1(r,i){1&r&&e._UZ(0,"span",52),2&r&&e.Q6J("nzType","loading")}function W1(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",47),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(2).$implicit;return e.oxw().displaySubTasks(s,o.id),e.KtG(n.stopPropagation())}),e.ynx(1),e.TgZ(2,"span",48),e.ALo(3,"subTasksArrowColor"),e.YNc(4,q1,2,4,"span",49),e.YNc(5,V1,1,1,"span",50),e.qZA(),e.BQk(),e.qZA()}if(2&r){const A=e.oxw().$implicit;e.xp6(2),e.Udp("color",e.lcZ(3,6,A)),e.ekj("hidden-arrow",!A.sub_tasks_count&&!A.show_sub_tasks),e.xp6(2),e.Q6J("ngIf",!A.sub_tasks_loading),e.xp6(1),e.Q6J("ngIf",A.sub_tasks_loading)}}function X1(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",57)(1,"div",39)(2,"div",42)(3,"worklenz-rm-task-name",43),e.NdJ("openTask",function(n){e.CHM(A);const s=e.oxw(5);return e.KtG(s.openTask(n))}),e.qZA()(),e.TgZ(4,"div",44),e._UZ(5,"worklenz-rm-start-date",45),e.qZA(),e.TgZ(6,"div",46),e._UZ(7,"worklenz-rm-end-date",45),e.qZA()()()}if(2&r){const A=i.$implicit,t=e.oxw(4).$implicit;e.xp6(3),e.Q6J("task",A),e.xp6(2),e.Q6J("task",A)("group",t),e.xp6(2),e.Q6J("task",A)("group",t)}}function $1(r,i){if(1&r&&(e.TgZ(0,"div")(1,"nz-skeleton",53),e.YNc(2,X1,8,5,"div",54),e.qZA(),e.TgZ(3,"div",55),e._UZ(4,"worklenz-rm-add-task-input",56),e.qZA()()),2&r){const A=e.oxw().$implicit,t=e.oxw(2).$implicit,n=e.oxw();e.xp6(1),e.Q6J("nzActive",!0)("nzLoading",!!A.sub_tasks_loading),e.xp6(1),e.Q6J("ngForOf",A.sub_tasks),e.xp6(2),e.Q6J("label","Add Subtask")("projectId",n.projectId)("parentTask",A.id?A.id:"")("groupId",t.id)("chartStart",n.chartStart)}}const e_=function(r){return{hidden:r}};function t_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",37,38)(2,"div",39)(3,"div",40),e.YNc(4,W1,6,8,"div",41),e.qZA(),e.TgZ(5,"div",42)(6,"worklenz-rm-task-name",43),e.NdJ("openTask",function(n){e.CHM(A);const s=e.oxw(3);return e.KtG(s.openTask(n))}),e.qZA()(),e.TgZ(7,"div",44),e._UZ(8,"worklenz-rm-start-date",45),e.qZA(),e.TgZ(9,"div",46),e._UZ(10,"worklenz-rm-end-date",45),e.qZA()(),e.YNc(11,$1,5,8,"div",30),e.qZA()}if(2&r){const A=i.$implicit,t=e.MAs(1),n=e.oxw(2).$implicit,s=e.oxw();e.Q6J("ngClass",e.VKq(8,e_,!s.isVisible(t))),e.xp6(4),e.Q6J("ngIf",!A.is_sub_task),e.xp6(2),e.Q6J("task",A),e.xp6(2),e.Q6J("task",A)("group",n),e.xp6(2),e.Q6J("task",A)("group",n),e.xp6(1),e.Q6J("ngIf",A.sub_tasks&&A.show_sub_tasks)}}function n_(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Y1,3,0,"div",31),e.YNc(2,t_,12,10,"div",32),e.TgZ(3,"div",33),e._UZ(4,"worklenz-rm-add-task-input",34),e.qZA()()),2&r){const A=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",!A.tasks.length),e.xp6(1),e.Q6J("ngForOf",A.tasks),e.xp6(2),e.Q6J("projectId",t.projectId)("groupId",A.id)("chartStart",t.chartStart)}}function A_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",27)(1,"div",28),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.toggleCollapse(s.id))}),e._UZ(2,"span",29),e._uU(3),e.qZA(),e.YNc(4,n_,5,5,"div",30),e.qZA()}if(2&r){const A=i.$implicit;e.xp6(1),e.Udp("background-color",A.color_code),e.Q6J("ngClass",A.is_expanded?"active":""),e.xp6(1),e.Q6J("nzType",A.is_expanded?"down":"right"),e.xp6(1),e.AsE(" ",A.name," (",A.tasks.length,") "),e.xp6(1),e.Q6J("ngIf",A.is_expanded)}}function r_(r,i){if(1&r&&(e.TgZ(0,"div",4)(1,"div",58),e._uU(2),e.qZA()()),2&r){const A=i.$implicit,t=e.oxw();e.xp6(1),e.Udp("min-width",A.days.length*t.GANNT_COLUMN_WIDTH+"px"),e.xp6(1),e.hij(" ",A.month," ")}}const Pm=function(r,i){return[r,i]};function i_(r,i){if(1&r&&(e.TgZ(0,"div",60)(1,"div",61)(2,"div",62),e._uU(3),e.qZA(),e.TgZ(4,"div",63),e._uU(5),e.qZA()()()),2&r){const A=i.$implicit,t=e.oxw(2);e.Udp("min-width",t.GANNT_COLUMN_WIDTH+"px")("max-width",t.GANNT_COLUMN_WIDTH+"px"),e.xp6(1),e.Q6J("ngClass",e.WLB(7,Pm,A.isWeekend?"weekend":"",A.isToday?"today today-bg":"")),e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.hij(" ",A.day," ")}}function s_(r,i){if(1&r&&(e.TgZ(0,"div",4),e.YNc(1,i_,6,10,"div",59),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("ngForOf",A.days)}}function o_(r,i){if(1&r&&e._UZ(0,"div",65),2&r){const A=i.$implicit,t=e.oxw(2);e.Udp("min-width",t.GANNT_COLUMN_WIDTH+"px"),e.Q6J("ngClass",e.WLB(3,Pm,A.isWeekend?"weekend":"",A.isToday?"today":""))}}function a_(r,i){if(1&r&&(e.TgZ(0,"div",4),e.YNc(1,o_,1,6,"div",64),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("ngForOf",A.days)}}function c_(r,i){1&r&&e._UZ(0,"div",35)}function l_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",57)(1,"div",39)(2,"worklenz-task-bar",78),e.NdJ("openTask",function(n){e.CHM(A);const s=e.oxw(5);return e.KtG(s.openTask(n))})("refreshChart",function(n){e.CHM(A);const s=e.oxw(5);return e.KtG(s.init(n))})("scrollChange",function(n){e.CHM(A);const s=e.oxw(5);return e.KtG(s.afterViewScrollHandler(n))}),e.qZA()()()}if(2&r){const A=i.$implicit,t=e.oxw(2).$implicit,n=e.oxw(2).$implicit,s=e.oxw();e.xp6(2),e.Q6J("task",A)("parentTask",t.id?t.id:null)("group",n)("chartStart",s.chartStart)("chartEnd",s.chartEnd)}}function d_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div")(1,"nz-skeleton",53),e.YNc(2,l_,3,5,"div",54),e.qZA(),e.TgZ(3,"div",76)(4,"worklenz-add-task-row",77),e.NdJ("openTask",function(n){e.CHM(A);const s=e.oxw(4);return e.KtG(s.openTask(n))}),e.qZA()()()}if(2&r){const A=e.oxw().$implicit,t=e.oxw(2).$implicit,n=e.oxw();e.xp6(1),e.Q6J("nzActive",!0)("nzLoading",!!A.sub_tasks_loading),e.xp6(1),e.Q6J("ngForOf",A.sub_tasks),e.xp6(2),e.Q6J("projectId",n.projectId)("groupId",t.id)("parentTask",A.id?A.id:null)("chartStart",n.chartStart)}}function u_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",73)(1,"div",39)(2,"worklenz-task-bar",74,75),e.NdJ("openTask",function(n){e.CHM(A);const s=e.oxw(3);return e.KtG(s.openTask(n))})("refreshChart",function(n){e.CHM(A);const s=e.oxw(3);return e.KtG(s.init(n))})("scrollChange",function(n){e.CHM(A);const s=e.oxw(3);return e.KtG(s.afterViewScrollHandler(n))}),e.qZA()(),e.YNc(4,d_,5,7,"div",30),e.qZA()}if(2&r){const A=i.$implicit,t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Q6J("task",A)("group",t)("chartStart",n.chartStart)("chartEnd",n.chartEnd),e.xp6(2),e.Q6J("ngIf",A.sub_tasks&&A.show_sub_tasks)}}function h_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",69),e.YNc(1,c_,1,0,"div",31),e.YNc(2,u_,5,5,"div",70),e.TgZ(3,"div",71)(4,"worklenz-add-task-row",72),e.NdJ("openTask",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.openTask(n))}),e.qZA()()()}if(2&r){const A=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",!A.tasks.length),e.xp6(1),e.Q6J("ngForOf",A.tasks)("ngForTrackBy",t.trackById),e.xp6(2),e.Q6J("projectId",t.projectId)("groupId",A.id)("chartStart",t.chartStart)}}function p_(r,i){if(1&r&&(e.TgZ(0,"div",66),e._UZ(1,"div",67),e.YNc(2,h_,5,6,"div",68),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Udp("background-color",A.color_code),e.Q6J("ngClass",A.is_expanded?"active":""),e.xp6(1),e.Q6J("ngIf",A.is_expanded)}}let f_=(()=>{var r;class i{get groups(){return this.service.groups}get expandedGroups(){return this.groups.filter(s=>s.is_expanded).map(s=>s.id)||[]}isGroupByPhase(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE}constructor(t,n,s,o,h,p,_,B,x){this.api=t,this.cdr=n,this.ngZone=s,this.map=o,this.service=h,this.taskViewService=p,this.projectService=_,this.route=B,this.auth=x,this.Number=Number,this.GANNT_COLUMN_WIDTH=35,this.showTaskModal=!1,this.loading=!1,this.initialScroll=0,this.numberOfDays=0,this.projectId=null,this.chartStart=null,this.chartEnd=null,this.months=[],this.groupIds=[],this.selectedTask=null,this.service.onReCreateChart.pipe((0,Pt.sL)()).subscribe(y=>{this.init(y)}),this.projectService.onNewTaskCreated.pipe((0,Pt.sL)()).subscribe(y=>{const v=this.isGroupByPhase()?Ot.k9:this.service.getGroupIdByGroupedColumn(y);v&&this.service.addTask(y,v)}),this.taskViewService.onViewBackFrom.pipe((0,Pt.sL)()).subscribe(y=>{this.handleTaskSelectFromView({id:y.parent_task_id,project_id:y.project_id})}),this.taskViewService.onDelete.pipe((0,Pt.sL)()).subscribe(y=>{y.parent_task_id?this.map._subTasksMap.has(y.parent_task_id)&&this.deleteSubtask(y):(this.map.selectTask(y),this.service.deleteTask(y.id),this.cdr.detectChanges())}),this.projectId=this.route.snapshot.paramMap.get("id"),this.service.setCurrentGroup(this.service.GROUP_BY_OPTIONS[0])}ngOnInit(){var t=this;return(0,ce.Z)(function*(){yield t.init(!0)})()}ngOnDestroy(){var t=this;return(0,ce.Z)(function*(){t.service.reset()})()}init(t){var n=this;return(0,ce.Z)(function*(){yield n.createChart(t),yield n.getGroups(!0)})()}createChart(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId)try{n.loading=t;const s=n.auth.getCurrentSession()?.timezone_name?n.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone,o=yield n.api.getGanntDates(n.projectId,s);o.done&&(n.months=o.body.date_data,n.numberOfDays=o.body.width,n.initialScroll=o.body.scroll_by,n.service.offset=o.body.scroll_by,n.chartStart=o.body.chart_start,n.chartEnd=o.body.chart_end,n.service.chartStartDate=o.body.chart_start),n.cdr.markForCheck()}catch(s){(0,st.tu)(s)}})()}onGroupByChange(t){var n=this;return(0,ce.Z)(function*(){n.loading=!0,n.service.setCurrentGroup(t),yield n.getGroups(!1),setTimeout(()=>{n.cdr.markForCheck()},100)})()}getConf(t){const n={id:this.projectId,group:this.service.getCurrentGroup().value,timezone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone,isSubtasksInclude:!1,expandedGroups:this.expandedGroups};return t&&(n.parent_task=t),n}getGroups(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId)try{n.map.deselectAll();const s=n.getConf();t||(s.expandedGroups=[]),s.isSubtasksInclude=n.service.isSubtasksIncluded;const o=yield n.api.getTaskGroups(s);if(o.done){const h=(0,st.I8)(o.body);n.groupIds=h.map(p=>p.id),n.mapTasks(h),n.service.groups=h,n.loading=!1,n.cdr.markForCheck(),yield n.initScrollHandler(!0)}}catch(s){(0,st.tu)(s),n.loading=!1,n.cdr.markForCheck()}})()}getSubTasks(t){var n=this;return(0,ce.Z)(function*(){let s=[];if(t?.id)try{const o=n.getConf(t.id),h=yield n.api.getTaskGroups(o);h.done&&(s=h.body)}catch{}return s})()}mapTasks(t){for(const n of t){this.map.registerGroup(n);for(const s of n.tasks)s.start_date&&(s.start_date=new Date(s.start_date)),s.end_date&&(s.end_date=new Date(s.end_date))}}toggleCollapse(t){var n=this;return(0,ce.Z)(function*(){n.service.toggleGroupExpansion(t),n.cdr.detectChanges()})()}trackById(t,n){return n.id}onShowChange(t){t||(this.service.emitRemoveIndicators(this.selectedTask?.id),this.selectedTask=null,this.cdr.markForCheck())}openTask(t){this.selectedTask=null,this.selectedTask=t,this.showTaskModal=!0,this.cdr.markForCheck()}scrollListner(){this.ngZone.runOutsideAngular(()=>{this.fixed_left_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.scrollTop=this.fixed_left_column?.nativeElement.scrollTop)}),this.fixed_right_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_left_column&&(this.fixed_left_column.nativeElement.scrollTop=this.fixed_right_column?.nativeElement.scrollTop)})})}initScrollHandler(t){var n=this;return(0,ce.Z)(function*(){n.ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.fixed_right_column&&t&&(n.fixed_right_column.nativeElement.scrollLeft=n.initialScroll-2*n.GANNT_COLUMN_WIDTH,n.scrollListner())},100)}),n.cdr.markForCheck()})()}afterViewScrollHandler(t){this.ngZone.runOutsideAngular(()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.classList.add("scroll-animation"),this.fixed_right_column.nativeElement.scrollLeft=t-2*this.GANNT_COLUMN_WIDTH,setTimeout(()=>{this.fixed_right_column&&this.fixed_right_column.nativeElement.classList.remove("scroll-animation")},125))}),this.cdr.markForCheck()}displaySubTasks(t,n){var s=this;return(0,ce.Z)(function*(){if(t.id||!t.sub_tasks_loading){if(!t.show_sub_tasks&&0===t.sub_tasks_count)return t.show_sub_tasks=!0,void(t.sub_tasks=[]);if(t.sub_tasks_loading=!0,t.show_sub_tasks=!t.show_sub_tasks,t.show_sub_tasks){t.sub_tasks=yield s.getSubTasks(t);for(const o of t.sub_tasks)s.map.add(n,o)}else{for(const o of t.sub_tasks||[])s.map.deselectTask(o);t.sub_tasks=[]}t.sub_tasks_loading=!1,s.cdr.detectChanges()}})()}deleteSubtask(t){if(!t)return;const n=this.map._subTasksMap.get(t.parent_task_id);if(!n)return;const s=n.find(h=>h.id===t.id);s&&(this.map.selectTask(s),this.service.deleteTask(s.id),this.handleTaskSelectFromView({id:t.parent_task_id,project_id:t.project_id}),this.cdr.detectChanges())}isVisible(t){return!!t}handleTaskSelectFromView(t){this.showTaskModal=!1,setTimeout(()=>{t&&this.openTask(t)},Ot.GR),this.cdr.detectChanges()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(W),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Ae.L),e.Y36(ti.s),e.Y36(Lr.f),e.Y36(Qi.m),e.Y36(wt.gz),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-roadmap-v2-custom"]],viewQuery:function(t,n){if(1&t&&(e.Gf(rs,5),e.Gf(ri,5),e.Gf(Gs,5),e.Gf(Ko,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.scroller=s.first),e.iGM(s=e.CRH())&&(n.fixed_right_column=s.first),e.iGM(s=e.CRH())&&(n.fixed_left_column=s.first),e.iGM(s=e.CRH())&&(n.taskElements=s)}},decls:24,vars:32,consts:[[3,"onGroupBy"],[3,"nzActive","nzLoading"],["class","d-block mt-3 px-3",4,"ngIf"],[1,"gannt","mt-3"],[1,"d-flex"],[1,"fixed-left-column"],["fixed_left_column",""],[1,"top-left-placeholder"],[1,"tasks"],["class","task-name-row cursor-pointer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fixed-right-column"],["fixed_right_column",""],[1,"top"],[1,"highlighter"],[1,"d-flex","month-name"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex",2,"min-height","45px","max-height","45px"],[1,"middle"],[1,"day-cells","d-flex"],[1,"placeholder-drag"],["class","task-name-row",4,"ngFor","ngForOf","ngForTrackBy"],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"d-block","mt-3","px-3"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],[1,"task-name-row","cursor-pointer"],[1,"single-group","d-flex","align-items-center",3,"ngClass","click"],["nz-icon","","nzTheme","outline",1,"me-2",3,"nzType"],[4,"ngIf"],["class","no-tasks",4,"ngIf"],["class","single-group-task",3,"ngClass",4,"ngFor","ngForOf"],[1,"add-parent-task-section","d-flex","align-items-center","ps-1"],[3,"projectId","groupId","chartStart"],[1,"no-tasks"],["nz-typography","","nzType","secondary"],[1,"single-group-task",3,"ngClass"],["elm",""],[1,"d-flex","align-items-center","h-default"],[1,"subtasks-arrow"],["class","d-flex align-items-center justify-content-center sub-tasks-arrow dropdown-highlight",3,"click",4,"ngIf"],[1,"t-name","h-default"],[3,"task","openTask"],[1,"t-start-date","h-default"],[3,"task","group"],[1,"t-end-date","h-default"],[1,"d-flex","align-items-center","justify-content-center","sub-tasks-arrow","dropdown-highlight",3,"click"],[1,"align-items-center","align-self-center","cursor-pointer","d-flex","sub-arrow"],["style","font-size: 12px","nz-icon","",3,"nzType","nzTheme",4,"ngIf"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",2,"font-size","12px",3,"nzType","nzTheme"],["nz-icon","",3,"nzType"],[2,"box-shadow","0px -1px #f0f0f0",3,"nzActive","nzLoading"],["class","single-group-task-subtasks",4,"ngFor","ngForOf"],[1,"add-parent-task-section","d-flex","align-items-center","ps-2","add-subtask"],[3,"label","projectId","parentTask","groupId","chartStart"],[1,"single-group-task-subtasks"],[1,"month-boundary"],["class","day-boundary",3,"min-width","max-width",4,"ngFor","ngForOf"],[1,"day-boundary"],[1,"d-block","text-center",3,"ngClass"],[1,"d-name"],[1,"d-day"],["class","inner-day-cell",3,"ngClass","min-width",4,"ngFor","ngForOf"],[1,"inner-day-cell",3,"ngClass"],[1,"task-name-row"],[1,"single-group","d-flex","align-items-center",3,"ngClass"],["class","single-group-tasks",4,"ngIf"],[1,"single-group-tasks"],["class","single-group-task",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-parent-task-section"],[3,"projectId","groupId","chartStart","openTask"],[1,"single-group-task"],[1,"parent-task-element",3,"task","group","chartStart","chartEnd","openTask","refreshChart","scrollChange"],["task_elem",""],[1,"add-parent-task-section","add-subtask"],[3,"projectId","groupId","parentTask","chartStart","openTask"],[3,"task","parentTask","group","chartStart","chartEnd","openTask","refreshChart","scrollChange"]],template:function(t,n){1&t&&(e.TgZ(0,"worklenz-filters",0),e.NdJ("onGroupBy",function(o){return n.onGroupByChange(o)}),e.qZA(),e.TgZ(1,"nz-skeleton",1),e.YNc(2,J1,7,0,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5,6),e._UZ(7,"div",7),e.TgZ(8,"div",8),e.YNc(9,A_,5,7,"div",9),e.qZA()(),e.TgZ(10,"div",10,11)(12,"div",12),e._UZ(13,"div",13),e.TgZ(14,"div",14),e.YNc(15,r_,3,3,"div",15),e.qZA(),e.TgZ(16,"div",16),e.YNc(17,s_,2,1,"div",15),e.qZA()(),e.TgZ(18,"div",17)(19,"div",18),e.YNc(20,a_,2,1,"div",15),e.qZA(),e._UZ(21,"div",19),e.YNc(22,p_,3,4,"div",20),e.qZA()()()()(),e.TgZ(23,"worklenz-task-view",21),e.NdJ("showChange",function(o){return n.showTaskModal=o})("showChange",function(o){return n.onShowChange(o)}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("nzActive",!0)("nzLoading",n.loading),e.xp6(1),e.Q6J("ngIf",!n.groups.length),e.xp6(7),e.Q6J("ngForOf",n.groups)("ngForTrackBy",n.trackById),e.xp6(3),e.Udp("width",n.numberOfDays*n.GANNT_COLUMN_WIDTH+"px"),e.xp6(1),e.Udp("transform","translateX("+n.service.highlighterLeft+"px)")("width",n.service.highlighterWidth+"px")("min-width",n.service.highlighterWidth>0?"32px":"0px"),e.xp6(2),e.Q6J("ngForOf",n.months),e.xp6(2),e.Q6J("ngForOf",n.months),e.xp6(1),e.Udp("width",n.numberOfDays*n.GANNT_COLUMN_WIDTH+"px"),e.xp6(2),e.Q6J("ngForOf",n.months),e.xp6(1),e.Udp("width",n.service.width+"px")("left",n.service.left+"px")("top",n.service.top+"px")("opacity",n.service.opacity),e.xp6(1),e.Q6J("ngForOf",n.groups)("ngForTrackBy",n.trackById),e.xp6(1),e.Q6J("show",n.showTaskModal)("selfResetTaskId",!1)("projectId",(null==n.selectedTask?null:n.selectedTask.project_id)||null)("taskId",(null==n.selectedTask?null:n.selectedTask.id)||null))},dependencies:[Ie.mk,Ie.sg,Ie.O5,zt.Ls,ei.E,Ut.ZU,Mn.ng,Wt.w,lt,Bt,Yt,pn,EA,Dr,ns,As.g,Ai.U],styles:['.gannt[_ngcontent-%COMP%]{min-width:95vw;max-width:95.5vw;border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0;border-radius:4px;overflow:hidden;border-right:1px solid #f0f0f0}.top[_ngcontent-%COMP%], .top-left-placeholder[_ngcontent-%COMP%]{max-height:70px;min-height:70px;position:sticky;top:0;z-index:1;background:white}.top-left-placeholder[_ngcontent-%COMP%]{width:100%;right:0;box-shadow:0 1px #f0f0f0;background:#fafafa}.fixed-left-column[_ngcontent-%COMP%], .fixed-right-column[_ngcontent-%COMP%]{overflow-y:auto;min-height:calc(100vh - 265px);max-height:calc(100vh - 265px);will-change:transform;transition:scroll-behavior .125s ease}.fixed-left-column[_ngcontent-%COMP%]{min-width:520px;max-width:520px;overflow-x:scroll;box-shadow:10px 0 8px -8px #00000026;border-left:1px solid #f0f0f0;z-index:9}.scroll-animation[_ngcontent-%COMP%]{scroll-behavior:smooth}.fixed-right-column[_ngcontent-%COMP%]{position:relative;overflow-x:scroll;box-shadow:1px 0 #f0f0f0}.h-default[_ngcontent-%COMP%]{min-height:42px;max-height:42px}.day-boundary[_ngcontent-%COMP%]{position:relative;box-shadow:-1px 1px #f0f0f0}.month-boundary[_ngcontent-%COMP%]{box-shadow:-1px 0 #f0f0f0;padding-left:14px;background:#e6f7ff}.resize-handle[_ngcontent-%COMP%]{position:absolute;width:5px;height:100%;cursor:col-resize;background-color:#ccc}.left-handle[_ngcontent-%COMP%]{left:0}.right-handle[_ngcontent-%COMP%]{right:0}.active-hover-bg[_ngcontent-%COMP%]{cursor:pointer}.weekend[_ngcontent-%COMP%]{background:linear-gradient(-45deg,rgba(230,230,230,.5) 12.5%,transparent 12.5%,transparent 50%,rgba(230,230,230,.5) 50%,rgba(230,230,230,.5) 62.5%,transparent 62.5%,transparent) 0% 0%/5px 5px}.middle[_ngcontent-%COMP%]{position:relative}.day-cells[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;height:100%;z-index:-1}.inner-day-cell[_ngcontent-%COMP%]{box-shadow:-1px 1px #f0f0f0;height:100%}.bar-top[_ngcontent-%COMP%]{padding-top:11px}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.today[_ngcontent-%COMP%]{position:relative}.today[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;bottom:0;width:2px;z-index:-1;background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]{background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]:after{display:none}.today-bg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.d-name[_ngcontent-%COMP%]{font-size:13px}.d-day[_ngcontent-%COMP%]{line-height:25px}.month-name[_ngcontent-%COMP%]{min-height:25px;max-height:25px}.no-data-img-holder[_ngcontent-%COMP%]{max-width:100px}.single-group[_ngcontent-%COMP%]{min-height:36px;max-height:36px;border-bottom:1px solid #f0f0f0;padding-left:7px;color:hwb(0 0% 100%/.85);font-weight:500}.t-name[_ngcontent-%COMP%]{min-width:260px;max-width:260px;box-shadow:1px 0 #f0f0f0}.t-start-date[_ngcontent-%COMP%]{box-shadow:1px 0 #f0f0f0}.t-start-date[_ngcontent-%COMP%], .t-end-date[_ngcontent-%COMP%]{min-width:110px;max-width:110px}.add-parent-task-section[_ngcontent-%COMP%]{min-height:42px;max-height:42px;box-shadow:0 0 0 1px #d9d9d9;background:rgba(247,247,247,.3098039216)}.single-group-task-subtasks[_ngcontent-%COMP%]{box-shadow:inset 0 -1px #f5f5f5;padding-left:18px}.single-group-task[_ngcontent-%COMP%]{box-shadow:1px 1px #f0f0f0}.single-group-task[_ngcontent-%COMP%]:hover   .hidden-arrow[_ngcontent-%COMP%]{display:flex!important}.hidden-arrow[_ngcontent-%COMP%]{display:none!important}.hidden[_ngcontent-%COMP%]{visibility:hidden}.subtasks-arrow[_ngcontent-%COMP%]{width:20px}.placeholder-drag[_ngcontent-%COMP%]{background:rgb(217,227,238);border:1px solid rgb(173,181,189);position:absolute;min-height:28px;max-height:28px;border-radius:4px;z-index:9;cursor:move}.highlighter[_ngcontent-%COMP%]{position:absolute;top:25px;bottom:0;z-index:-1;background:rgb(217,227,238);transition:.15s all;will-change:transform}.no-tasks[_ngcontent-%COMP%]{width:100%;height:42px;background:#fafafa;display:flex;align-items:center;padding-left:12px}'],changeDetection:0}),i})();function g_(r,i){if(1&r&&(e._UZ(0,"nz-avatar",21),e.ALo(1,"firstCharUpper")),2&r){const A=e.oxw().$implicit,t=e.oxw();e.Udp("background-color",A.avatar_url?"#ececec":t.getColor(A.name)),e.Q6J("nzSize",28)("nzText",e.lcZ(1,5,A.name))("nzSrc",A.avatar_url)}}function m_(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Oqu(A.email)}}function __(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function w_(r,i){if(1&r&&(e.TgZ(0,"em",22),e._uU(1),e.TgZ(2,"span",23),e._uU(3,"(Pending Invitation)"),e.qZA()()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.hij(" ",A.email," ")}}function v_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",26),e.NdJ("nzOnConfirm",function(){e.CHM(A);const n=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.removeMember(n.id))}),e._UZ(1,"span",27),e.qZA()}if(2&r){const A=e.oxw(2).$implicit,t=e.oxw();let n;e.Q6J("nzOkText","OK")("nzPopconfirmTitle","Member will also removes from assigned tasks.")("nzSize","small")("nzTooltipPlacement","top")("nzTooltipTitle","Remove from project")("nzType","default")("disabled",A.team_member_id===(null==(n=t.auth.getCurrentSession())?null:n.team_member_id))}}function C_(r,i){1&r&&(e.TgZ(0,"div",24)(1,"nz-space"),e.YNc(2,v_,2,7,"button",25),e.qZA()())}function B_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"tr",12)(1,"td",13),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.selectMember(s.team_member_id))}),e.YNc(2,g_,2,7,"nz-avatar",14),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",13),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.selectMember(s.team_member_id))}),e.YNc(7,m_,2,1,"span",15),e.YNc(8,__,2,0,"span",15),e.YNc(9,w_,4,1,"em",16),e.qZA(),e.TgZ(10,"td",17),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.selectMember(s.team_member_id))}),e._uU(11),e.qZA(),e.TgZ(12,"td",13),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.selectMember(s.team_member_id))}),e._UZ(13,"nz-progress",18),e.qZA(),e.TgZ(14,"td",13),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.selectMember(s.team_member_id))}),e._uU(15),e.qZA(),e.TgZ(16,"td",19),e.YNc(17,C_,3,0,"div",20),e.qZA()()}if(2&r){const A=i.$implicit,t=e.oxw();e.xp6(2),e.Q6J("ngIf",A.name),e.xp6(1),e.hij(" ",A.name," "),e.xp6(2),e.Oqu(A.job_title||"-"),e.xp6(2),e.Q6J("ngIf",A.email&&!A.pending_invitation),e.xp6(1),e.Q6J("ngIf",!A.email&&!A.pending_invitation),e.xp6(1),e.Q6J("ngIf",A.email&&A.pending_invitation),e.xp6(2),e.AsE(" ",A.completed_tasks_count||0,"/",A.all_tasks_count||0," "),e.xp6(2),e.Q6J("nzPercent",A.progress),e.xp6(2),e.Oqu(A.access||"-"),e.xp6(2),e.Q6J("ngIf",t.isOwnerOrAdmin()||t.isProjectManager())}}function b_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.get())}),e._UZ(1,"span",30),e.qZA()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzSpin",A.loading)}}function x_(r,i){1&r&&(e.TgZ(0,"nz-space"),e.YNc(1,b_,2,1,"button",28),e.qZA())}function y_(r,i){1&r&&(e.TgZ(0,"div",31)(1,"div",32),e._UZ(2,"img",33),e.qZA(),e.TgZ(3,"span",34),e._uU(4,"No members found in the project."),e.qZA()())}const T_=function(){return[]};let k_=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B,x,y){this.auth=t,this.api=n,this.fb=s,this.route=o,this.router=h,this.projectMembersApi=p,this.utilsService=_,this.projectFormService=B,this.cdr=x,this.projectsService=y,this.model={},this.loading=!0,this.showTaskDrawer=!1,this.total=0,this.pageSize=Ot.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.projectId=null,this.selectedTaskId=null,pt.s.track(Ve.$W),this.projectId=this.route.snapshot.paramMap.get("id"),this.searchForm=this.fb.group({search:[]}),this.searchForm.valueChanges.subscribe(()=>this.searchMembers()),this.projectFormService.onMemberAssignOrRemoveReProject.pipe((0,Pt.sL)()).subscribe(()=>{this.get()})}get title(){return`${this.total||0} Members`}get(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{t.loading=!0;const n=yield t.api.getMembers(t.projectId,t.pageIndex,t.pageSize,t.sortField,t.sortOrder,t.searchForm.value.search||null);n.done&&(t.model=n.body,t.total=t.model.total||0,t.utilsService.handleLastIndex(t.total,t.model.data?.length||0,t.pageIndex,s=>{t.pageIndex=s,t.get()})),t.loading=!1,t.cdr.detectChanges()}catch(n){(0,st.tu)(n),t.loading=!1,t.cdr.detectChanges()}})()}searchMembers(){var t=this;return(0,ce.Z)(function*(){yield t.get()})()}isOwnerOrAdmin(){return this.auth.getCurrentSession()?.owner||this.auth.getCurrentSession()?.is_admin}isProjectManager(){return!!this.projectsService.projectOwnerTeamMemberId&&this.auth.getCurrentSession()?.team_member_id===this.projectsService.projectOwnerTeamMemberId}removeMember(t){var n=this;return(0,ce.Z)(function*(){if(t)try{(yield n.projectMembersApi.deleteById(t,n.projectId)).done&&n.get()}catch(s){(0,st.tu)(s)}})()}getColor(t){return Ot.Lj[t?.charAt(0).toUpperCase()||"A"]}onQueryParamsChange(t){var n=this;return(0,ce.Z)(function*(){const{pageSize:s,pageIndex:o,sort:h}=t;n.pageIndex=o,n.pageSize=s;const p=h.find(_=>null!==_.value);n.sortField=p&&p.key||null,n.sortOrder=p&&p.value||null,yield n.get()})()}selectMember(t){}onShowChange(t){t||(this.selectedTaskId=null)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(yn.e),e.Y36(ji.U),e.Y36(Pe.qu),e.Y36(wt.gz),e.Y36(wt.F0),e.Y36(Va.r),e.Y36(JA.F),e.Y36(qa.s),e.Y36(e.sBO),e.Y36(Qi.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-members"]],hostBindings:function(t,n){1&t&&e.NdJ("worklenz.tasks.update",function(){return n.get()},!1,e.evT)},decls:25,vars:29,consts:[[3,"nzActive","nzLoading"],[3,"nzExtra","nzTitle"],["nzShowSizeChanger","",1,"custom-table",3,"nzData","nzFrontPagination","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzSize","nzNoResult","nzQueryParams"],["table",""],["scope","col",3,"nzSortFn","nzColumnKey"],["scope","col",3,"nzAlign"],["scope","col",3,"nzWidth"],["colspan","2","scope","col",3,"nzSortFn","nzAlign","nzColumnKey"],["class","actions-row",4,"ngFor","ngForOf"],["projectMembersForm",""],["noDataTemplate",""],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"actions-row"],[3,"click"],["class","me-2",3,"nzSize","nzText","background-color","nzSrc",4,"ngIf"],[4,"ngIf"],["nz-typography","",4,"ngIf"],["nzAlign","center",3,"click"],[3,"nzPercent"],[1,"actions-col"],["class","actions",4,"ngIf"],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-typography",""],["nz-typography","","nzType","secondary"],[1,"actions"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","disabled","nzOnConfirm",4,"nzSpaceItem"],["nz-button","","nz-popconfirm","","nz-tooltip","",3,"nzOkText","nzPopconfirmTitle","nzSize","nzTooltipPlacement","nzTooltipTitle","nzType","disabled","nzOnConfirm"],["nz-icon","","nzType","delete"],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh members","nzType","default",3,"click",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzShape","circle","nzTooltipTitle","Refresh members","nzType","default",3,"click"],["nz-icon","","nzTheme","outline","nzType","sync",3,"nzSpin"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-skeleton",0)(1,"nz-card",1)(2,"nz-table",2,3),e.NdJ("nzQueryParams",function(o){return n.onQueryParamsChange(o)}),e.TgZ(4,"thead")(5,"tr")(6,"th",4),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th",4),e._uU(9,"Job Title"),e.qZA(),e.TgZ(10,"th",4),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"th",5),e._uU(13,"Tasks"),e.qZA(),e.TgZ(14,"th",6),e._uU(15,"Tasks Progress"),e.qZA(),e.TgZ(16,"th",7),e._uU(17,"Access"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,B_,18,11,"tr",8),e.qZA()()()(),e.YNc(20,x_,2,0,"ng-template",null,9,e.W1O),e.YNc(22,y_,5,0,"ng-template",null,10,e.W1O),e.TgZ(24,"worklenz-task-view",11),e.NdJ("showChange",function(o){return n.showTaskDrawer=o})("showChange",function(o){return n.onShowChange(o)}),e.qZA()),2&t){const s=e.MAs(3),o=e.MAs(21),h=e.MAs(23);e.Q6J("nzActive",!0)("nzLoading",n.loading),e.xp6(1),e.Q6J("nzExtra",o)("nzTitle",n.title),e.xp6(1),e.Q6J("nzData",n.model.data||e.DdM(28,T_))("nzFrontPagination",!1)("nzPageIndex",n.pageIndex)("nzPageSizeOptions",n.paginationSizes)("nzPageSize",n.pageSize)("nzTotal",n.total)("nzSize","small")("nzNoResult",h),e.xp6(4),e.Q6J("nzSortFn",!0)("nzColumnKey","name"),e.xp6(2),e.Q6J("nzSortFn",!0)("nzColumnKey","job_title"),e.xp6(2),e.Q6J("nzSortFn",!0)("nzColumnKey","email"),e.xp6(2),e.Q6J("nzAlign","center"),e.xp6(2),e.Q6J("nzWidth","200px"),e.xp6(2),e.Q6J("nzSortFn",!0)("nzAlign","left")("nzColumnKey","access"),e.xp6(3),e.Q6J("ngForOf",s.data),e.xp6(5),e.Q6J("show",n.showTaskDrawer)("selfResetTaskId",!1)("projectId",n.projectId||null)("taskId",n.selectedTaskId)}},dependencies:[Ie.sg,Ie.O5,Vt.ix,Wt.w,an.dQ,xt.N8,xt.qD,xt.Uo,xt._C,xt.Om,xt.p0,xt.$Z,xt.UX,zt.Ls,Ut.ZU,ms.M,mr.JW,yA.Dz,Zt.SY,Mn.ng,DA.bd,HA.NU,HA.$1,ei.E,Nr.I],styles:[".no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"],changeDetection:0}),i})();var Q_=oe(44568),F_=oe(34302);function z_(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.AsE("[",A.task_key,"] ",A.task_name,"")}}function U_(r,i){1&r&&(e.TgZ(0,"span",22),e._uU(1,"Unassigned"),e.qZA())}function S_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",23),e.NdJ("nzOnConfirm",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.delete(n.id))}),e._UZ(1,"span",24),e.qZA()}}function I_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.download(n.id,n.name))}),e._UZ(1,"span",26),e.qZA()}}function M_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"tr",11)(1,"td",12),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.open(s.url))}),e._UZ(2,"img",13),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"td",14),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.open(s.url))}),e.YNc(6,z_,2,2,"span",15),e.YNc(7,U_,2,0,"span",16),e.qZA(),e.TgZ(8,"td",14),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.open(s.url))}),e._uU(9),e.qZA(),e.TgZ(10,"td",14),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.open(s.url))}),e._uU(11),e.qZA(),e.TgZ(12,"td",17),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.open(s.url))}),e.ALo(13,"date"),e._uU(14),e.ALo(15,"fromNow"),e.qZA(),e.TgZ(16,"td",18)(17,"div",19)(18,"nz-space"),e.YNc(19,S_,2,0,"button",20),e.YNc(20,I_,2,0,"button",21),e.qZA()()()()}if(2&r){const A=i.$implicit,t=e.oxw();e.xp6(2),e.Q6J("src","/assets/images/files/"+t.getFileIcon(A.type),e.LSH),e.xp6(2),e.Oqu(A.name),e.xp6(2),e.Q6J("ngIf",A.task_name),e.xp6(1),e.Q6J("ngIf",!A.task_name),e.xp6(2),e.Oqu(A.size),e.xp6(2),e.Oqu(A.uploader_name),e.xp6(1),e.Q6J("nzTooltipTitle",e.xi3(13,8,A.created_at,"medium")),e.xp6(2),e.hij(" ",e.lcZ(15,11,A.created_at)," ")}}function E_(r,i){1&r&&(e.TgZ(0,"p",29),e._uU(1,"Coming soon!"),e.qZA(),e.TgZ(2,"p",29),e._uU(3,"Switch between list view and thumbnail view."),e.qZA())}function L_(r,i){if(1&r&&(e._UZ(0,"nz-segmented",27),e.YNc(1,E_,4,0,"ng-template",null,28,e.W1O)),2&r){const A=e.MAs(2),t=e.oxw();e.Q6J("nzDisabled",!0)("nzOptions",t.options)("nzTooltipTitle",A)}}function N_(r,i){1&r&&(e.TgZ(0,"small",22),e._UZ(1,"span",30),e._uU(2," All attachments to tasks in this project will appear here. "),e.qZA())}function O_(r,i){1&r&&(e.TgZ(0,"div",31)(1,"div",32),e._UZ(2,"img",33),e.qZA(),e.TgZ(3,"span",34),e._uU(4,"There are no attachments in the project."),e.qZA()())}const P_=function(){return{rows:5}},D_=function(){return[]};let H_=(()=>{var r;class i{constructor(t,n,s,o,h){this.api=t,this.route=n,this.cdr=s,this.http=o,this.ngZone=h,this.projectId=null,this.selectedTaskId=null,this.total=0,this.pageSize=Ot.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.attachments={},this.loading=!0,this.showTaskDrawer=!1,this.downloading=!1,this.options=[{label:"",value:"List",icon:"bars"},{label:"",value:"Kanban",icon:"appstore"}],this.projectId=this.route.snapshot.paramMap.get("id"),pt.s.track(Ve.Ls)}ngOnInit(){this.get()}get(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{t.loading=!0;const n=yield t.api.getProjectAttachment(t.projectId,t.pageIndex,t.pageSize);n.done&&(t.attachments=n.body,t.total=t.attachments.total||0),t.loading=!1}catch(n){t.loading=!1,(0,st.tu)(n)}t.cdr.markForCheck()}})()}onQueryParamsChange(t){var n=this;return(0,ce.Z)(function*(){const{pageSize:s,pageIndex:o}=t;n.pageIndex=o,n.pageSize=s,yield n.get()})()}download(t,n){var s=this;return(0,ce.Z)(function*(){if(t&&n){try{s.downloading=!0;const o=yield s.api.download(t,n);o&&o.done&&s.ngZone.runOutsideAngular(()=>{const h=document.createElement("a");h.href=o.body,h.download=n,h.click(),h.remove()})}catch(o){(0,st.tu)(o)}s.downloading=!1}})()}getFileIcon(t){return(0,st.LP)(t)}delete(t){var n=this;return(0,ce.Z)(function*(){if(t){try{(yield n.api.deleteTaskAttachment(t)).done&&n.get()}catch(s){(0,st.tu)(s)}n.cdr.markForCheck()}})()}open(t){t&&this.ngZone.runOutsideAngular(()=>{const n=document.createElement("a");n.href=t,n.target="_blank",n.style.display="none",n.click()})}onCreateOrUpdate(){this.showTaskDrawer=!1,this.selectedTaskId=null}onShowChange(t){t||(this.selectedTaskId=null)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Q_.J),e.Y36(wt.gz),e.Y36(e.sBO),e.Y36(Pa.eN),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-all-tasks-attachments"]],decls:25,vars:20,consts:[[3,"nzExtra","nzTitle"],[3,"nzActive","nzLoading","nzParagraph"],["nzShowSizeChanger","","nzSize","small",1,"custom-table",3,"nzData","nzFrontPagination","nzPageIndex","nzPageSizeOptions","nzPageSize","nzTotal","nzSize","nzNoResult","nzQueryParams"],["table",""],["nzAlign","left","scope","col"],["colSpan","2","nzAlign","left","scope","col"],["class","actions-row",4,"ngFor","ngForOf"],["attachmentsHeadTemplate",""],["titleTemplate",""],["noDataTemplate",""],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"actions-row"],[1,"cursor-pointer","d-flex",3,"click"],["alt","",1,"file-icon","me-2",3,"src"],[1,"cursor-pointer",3,"click"],[4,"ngIf"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-tooltip","",1,"cursor-pointer",3,"nzTooltipTitle","click"],[1,"actions-col"],[1,"actions"],["nz-button","","nz-popconfirm","","nz-tooltip","","nzOkText","Yes","nzPopconfirmTitle","Are you sure?","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Delete","nzType","default",3,"nzOnConfirm",4,"nzSpaceItem"],["nz-button","","nz-tooltip","","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Download","nzType","default",3,"click",4,"nzSpaceItem"],["nz-typography","","nzType","secondary"],["nz-button","","nz-popconfirm","","nz-tooltip","","nzOkText","Yes","nzPopconfirmTitle","Are you sure?","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Delete","nzType","default",3,"nzOnConfirm"],["nz-icon","","nzType","delete"],["nz-button","","nz-tooltip","","nzSize","small","nzTooltipPlacement","top","nzTooltipTitle","Download","nzType","default",3,"click"],["nz-icon","","nzType","cloud-download","nzTheme","outline"],["nz-tooltip","",3,"nzDisabled","nzOptions","nzTooltipTitle"],["segmentTitleTemplate",""],[1,"mb-0"],["nz-icon","","nzType","info-circle","nzTheme","outline"],[1,"pt-4","pb-5"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-card",0)(1,"nz-skeleton",1)(2,"nz-table",2,3),e.NdJ("nzQueryParams",function(o){return n.onQueryParamsChange(o)}),e.TgZ(4,"thead")(5,"tr")(6,"th",4),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th",4),e._uU(9,"Attached Task"),e.qZA(),e.TgZ(10,"th",4),e._uU(11,"Size"),e.qZA(),e.TgZ(12,"th",4),e._uU(13,"Uploaded by"),e.qZA(),e.TgZ(14,"th",5),e._uU(15,"Uploaded at"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,M_,21,13,"tr",6),e.qZA()()()(),e.YNc(18,L_,3,3,"ng-template",null,7,e.W1O),e.YNc(20,N_,3,0,"ng-template",null,8,e.W1O),e.YNc(22,O_,5,0,"ng-template",null,9,e.W1O),e.TgZ(24,"worklenz-task-view",10),e.NdJ("showChange",function(o){return n.showTaskDrawer=o})("showChange",function(o){return n.onShowChange(o)}),e.qZA()),2&t){const s=e.MAs(3),o=e.MAs(19),h=e.MAs(21),p=e.MAs(23);e.Q6J("nzExtra",o)("nzTitle",h),e.xp6(1),e.Q6J("nzActive",!0)("nzLoading",n.loading)("nzParagraph",e.DdM(18,P_)),e.xp6(1),e.Q6J("nzData",n.attachments.data||e.DdM(19,D_))("nzFrontPagination",!1)("nzPageIndex",n.pageIndex)("nzPageSizeOptions",n.paginationSizes)("nzPageSize",n.pageSize)("nzTotal",n.total)("nzSize","small")("nzNoResult",p),e.xp6(15),e.Q6J("ngForOf",s.data),e.xp6(7),e.Q6J("show",n.showTaskDrawer)("selfResetTaskId",!1)("projectId",n.projectId||null)("taskId",n.selectedTaskId)}},dependencies:[Ie.sg,Ie.O5,Vt.ix,Wt.w,an.dQ,xt.N8,xt.Uo,xt._C,xt.Om,xt.p0,xt.$Z,xt.UX,zt.Ls,Ut.ZU,mr.JW,Zt.SY,Mn.ng,DA.bd,HA.NU,HA.$1,Ri.wY,ei.E,Ie.uU,F_.d],styles:[".file-icon[_ngcontent-%COMP%]{width:25px;display:flex}.no-data-img-holder[_ngcontent-%COMP%]{width:100px;margin-top:42px}"],changeDetection:0}),i})();var Z_=oe(94409),j_=oe(22078);const R_=["updatesTemplate"],G_=["projectManagerUpdateTemplate"];function K_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.applyUpdates())}),e._uU(1," Apply Updates "),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("nzType","dashed")("nzTooltipTitle",A.UPDATES_MESSAGE)}}function J_(r,i){1&r&&e._UZ(0,"nz-divider",7),2&r&&e.Q6J("nzType","vertical")}function Y_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",8),e._UZ(2,"span",9)(3,"worklenz-avatars",10),e.ALo(4,"wlSafeArray"),e.qZA(),e.BQk()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("nzTooltipTitle","Members who are active on this project will be displayed here."),e.xp6(1),e.Q6J("names",e.lcZ(4,3,A.members))("showDot",!0)}}function q_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",11)(1,"div")(2,"div",12),e._uU(3,"Project Updated"),e.qZA(),e.TgZ(4,"div",13),e._uU(5),e.qZA(),e.TgZ(6,"span",14)(7,"button",15),e.NdJ("click",function(){const s=e.CHM(A).$implicit;return e.oxw().applyUpdates(),e.KtG(s.close())}),e.TgZ(8,"span"),e._uU(9,"Refresh Project"),e.qZA()()()()()}if(2&r){const A=e.oxw();e.xp6(5),e.Oqu(A.UPDATES_MESSAGE),e.xp6(2),e.Q6J("nzLoading",A.refreshing)}}function V_(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",11)(1,"div")(2,"div",12),e._uU(3,"Project Information Updated"),e.qZA(),e.TgZ(4,"div",13),e._uU(5),e.qZA(),e.TgZ(6,"span",14)(7,"button",15),e.NdJ("click",function(){const s=e.CHM(A).$implicit;return e.oxw().applyPMUpdate(),e.KtG(s.close())}),e.TgZ(8,"span"),e._uU(9,"Refresh Now"),e.qZA()()()()()}if(2&r){const A=e.oxw();e.xp6(5),e.Oqu(A.UPDATES_MESSAGE),e.xp6(2),e.Q6J("nzLoading",A.refreshing)}}let W_=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.socket=t,this.socketService=n,this.notification=s,this.cdr=o,this.ngZone=h,this.auth=p,this.refreshing=!1,this.projectId=null,this.refresh=new e.vpe,this.refreshAll=new e.vpe,this.JOIN_TXT="join",this.LEAVE_TXT="leave",this.UPDATES_MESSAGE="Other members have made updates to the project. Would you like to apply them?",this.notificationRef=null,this.members=[],this.disconnected=!1,this.updatesAvailable=!1,this.PDUpdateAvailable=!1,this.destroy$=new jn.x,this.handleMembersView=_=>{this.members=_,this.cdr.detectChanges()},this.handleProjectUpdates=()=>{this.updatesAvailable=!0,this.notificationRef||(this.notificationRef=this.notification.template(this.updatesTemplate,{nzDuration:-1}),this.notificationRef.onClose.subscribe(()=>{this.notificationRef=null})),this.cdr.detectChanges()},this.handleProjectDataChange=_=>{this.PDUpdateAvailable=!0,this.notificationRef||(this.notificationRef=this.notification.template(this.projectManagerUpdateTemplate,{nzDuration:-1}),this.notificationRef.onClose.subscribe(()=>{this.notificationRef=null})),this.cdr.detectChanges()},this.socketService.onSocketLoginSuccess$.pipe((0,Pr.R)(this.destroy$)).subscribe(()=>{this.emitJoinOrLeave(this.JOIN_TXT)}),this.socketService.onSocketDisconnect$.pipe((0,Pr.R)(this.destroy$)).subscribe(()=>{this.disconnected=!0,this.cdr.detectChanges()}),this.socketService.onSocketConnect$.pipe((0,Pr.R)(this.destroy$)).subscribe(()=>{this.disconnected&&(this.disconnected=!1,this.emitJoinOrLeave(this.JOIN_TXT),this.cdr.detectChanges())})}ngOnInit(){this.emitJoinOrLeave(this.JOIN_TXT),this.socket.on(Ne.C.JOIN_OR_LEAVE_PROJECT_ROOM.toString(),this.handleMembersView),this.socket.on(Ne.C.PROJECT_UPDATES_AVAILABLE.toString(),this.handleProjectUpdates),this.socket.on(Ne.C.PROJECT_DATA_CHANGE.toString(),this.handleProjectDataChange)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.emitJoinOrLeave(this.LEAVE_TXT),this.socket.removeListener(Ne.C.JOIN_OR_LEAVE_PROJECT_ROOM.toString(),this.handleMembersView),this.socket.removeListener(Ne.C.PROJECT_UPDATES_AVAILABLE.toString(),this.handleProjectUpdates),this.socket.removeListener(Ne.C.PROJECT_DATA_CHANGE.toString(),this.handleProjectDataChange)}emitJoinOrLeave(t){this.socket.emit(Ne.C.JOIN_OR_LEAVE_PROJECT_ROOM.toString(),{type:t,id:this.projectId})}onFocusChange(){this.ngZone.runOutsideAngular(()=>{"visible"===document.visibilityState?this.emitJoinOrLeave(this.JOIN_TXT):this.emitJoinOrLeave(this.LEAVE_TXT)})}applyUpdates(){this.updatesAvailable=!1,this.cdr.detectChanges(),setTimeout(()=>{this.PDUpdateAvailable&&this.applyPMUpdate(),this.refresh.emit()})}applyPMUpdate(){this.PDUpdateAvailable=!1,this.updatesAvailable=!1,this.cdr.detectChanges(),setTimeout(()=>{this.refreshAll.emit()})}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(Z_.$),e.Y36(j_.zb),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-view-extra"]],viewQuery:function(t,n){if(1&t&&(e.Gf(R_,5),e.Gf(G_,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.updatesTemplate=s.first),e.iGM(s=e.CRH())&&(n.projectManagerUpdateTemplate=s.first)}},hostBindings:function(t,n){1&t&&e.NdJ("visibilitychange",function(){return n.onFocusChange()},!1,e.evT)},inputs:{refreshing:"refreshing",projectId:"projectId"},outputs:{refresh:"refresh",refreshAll:"refreshAll"},decls:8,vars:3,consts:[[1,"d-flex","align-items-center"],["nz-button","","nz-tooltip","","nzDanger","",3,"nzType","nzTooltipTitle","click",4,"ngIf"],[3,"nzType",4,"ngIf"],[4,"ngIf"],["updatesTemplate",""],["projectManagerUpdateTemplate",""],["nz-button","","nz-tooltip","","nzDanger","",3,"nzType","nzTooltipTitle","click"],[3,"nzType"],[1,"position-relative",2,"top","3px"],["nz-tooltip","","nz-icon","","nzType","question-circle","nzTheme","outline",1,"online-members-help",3,"nzTooltipTitle"],[3,"names","showDot"],[1,"ant-notification-notice-content"],[1,"ant-notification-notice-message"],[1,"ant-notification-notice-description"],[1,"ant-notification-notice-btn"],["nz-button","","nzType","primary",3,"nzLoading","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,K_,2,2,"button",1),e.YNc(2,J_,1,1,"nz-divider",2),e.YNc(3,Y_,5,5,"ng-container",3),e.qZA(),e.YNc(4,q_,10,2,"ng-template",null,4,e.W1O),e.YNc(6,V_,10,2,"ng-template",null,5,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.updatesAvailable||n.PDUpdateAvailable),e.xp6(1),e.Q6J("ngIf",n.members.length&&n.updatesAvailable),e.xp6(1),e.Q6J("ngIf",n.members.length))},dependencies:[Ie.O5,Do.g,Vt.ix,Wt.w,an.dQ,zt.Ls,Zt.SY,FA.o,Dl.g],styles:[".online-members-help[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;z-index:1}"],changeDetection:0}),i})();var Dm=oe(63577);let X_=(()=>{var r;class i{constructor(t){this.route=t,this.projectId=null,this.selectedTaskId=null,this.showTaskDrawer=!1,this.projectId=this.route.snapshot.paramMap.get("id")}onShowChange(t){t||(this.selectedTaskId=null)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(wt.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-updates"]],decls:2,vars:5,consts:[[3,"projectId"],[3,"show","selfResetTaskId","projectId","taskId","showChange"]],template:function(t,n){1&t&&(e._UZ(0,"worklenz-project-updates-list",0),e.TgZ(1,"worklenz-task-view",1),e.NdJ("showChange",function(o){return n.showTaskDrawer=o})("showChange",function(o){return n.onShowChange(o)}),e.qZA()),2&t&&(e.Q6J("projectId",n.projectId),e.xp6(1),e.Q6J("show",n.showTaskDrawer)("selfResetTaskId",!1)("projectId",n.projectId||null)("taskId",n.selectedTaskId))},dependencies:[ei.E,Dm.D],styles:[".mentions[_ngcontent-%COMP%]{background:#f7f7f7;font-weight:500;border-radius:4px}"],changeDetection:0}),i})(),kg=(()=>{var r;class i extends _l.P{constructor(t){super(),this.http=t,this.root=`${this.API_BASE_URL}/workload-gannt`}getGanntDates(t,n){const s=(0,st.UK)({timeZone:n});return this._get(this.http,`${this.root}/chart-dates/${t}${s}`)}getWorkloadMembers(t,n){const s=(0,st.UK)({timeZone:n});return this._get(this.http,`${this.root}/workload-members/${t}${s}`)}getTasksByMember(t){const n=(0,st.UK)(t);return this._get(this.http,`${this.root}/workload-tasks-by-member/${t.id}${n}`)}getMemberOverview(t,n){const s=(0,st.UK)({team_member_id:n});return this._get(this.http,`${this.root}/workload-overview-by-member/${t}${s}`)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.LFG(Pa.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var $_=oe(65619);let jl=(()=>{var r;class i{constructor(){this._selectSbj$=new jn.x,this._deselectSbj$=new jn.x,this._deselectAllSbj$=new jn.x,this._groupTaskMap=new Map,this._taskGroupIdsMap=new Map,this._selectedTasksMap=new Map,this._allTasksMap=new Map,this._subTasksMap=new Map,this._selectedCount=0}get tasks(){return this._allTasksMap}get onSelect$(){return this._selectSbj$.asObservable()}get onDeselect$(){return this._deselectSbj$.asObservable()}get onDeselectAll$(){return this._deselectAllSbj$.asObservable()}reset(){this._groupTaskMap.clear(),this._taskGroupIdsMap.clear(),this._selectedTasksMap.clear(),this._allTasksMap.clear(),this._subTasksMap.clear(),this._selectedCount=0}registerGroup(t){for(const n of t.tasks)this.add(t.id,n)}add(t,n){n.id&&(this.updateGroupTaskMap(t,n.id),this._taskGroupIdsMap.set(n.id,t),this._allTasksMap.set(n.id,n),n.parent_task_id&&this.updateSubtasksMap(n.parent_task_id,n))}addGroupTask(t,n){n.id&&this._taskGroupIdsMap.set(n.id,t)}has(t){return this._allTasksMap.has(t)}remove(t){t.id&&(this.deselectTask(t),this._taskGroupIdsMap.get(t.id),this._allTasksMap.delete(t.id))}updateGroupTaskMap(t,n,s){const o=this._groupTaskMap.get(t);o?("boolean"==typeof s?o[n]=s:delete o[n],this._groupTaskMap.set(t,o)):this._groupTaskMap.set(t,{[n]:s||!1})}updateSubtasksMap(t,n,s){const o=this._subTasksMap.get(t)||[];o.some(p=>p.id===n.id)||(o.push(n),this._subTasksMap.set(t,o))}selectTask(t){this._selectedTasksMap.get(t.id)||(this._selectedTasksMap.set(t.id,t),this._selectedCount++,this.updateGroupTaskMap(this._taskGroupIdsMap.get(t.id),t.id,!0),this._selectSbj$.next(t))}deselectTask(t){this._selectedTasksMap.has(t.id)&&(this._selectedTasksMap.delete(t.id),this._selectedCount--,this.updateGroupTaskMap(this._taskGroupIdsMap.get(t.id),t.id,!1),this._deselectSbj$.next(t))}deselectLocalGroups(){for(const[t,n]of this._groupTaskMap)for(const s in n)this.updateGroupTaskMap(t,s,!1)}deselectAll(){this._selectedTasksMap.size&&(this.deselectLocalGroups(),this._selectedTasksMap.clear(),this._selectedCount=0,this._deselectAllSbj$.next())}getGroupId(t){return this._taskGroupIdsMap.get(t)}getSelectedTasks(){const t=[];for(const[,n]of this._selectedTasksMap.entries())t.push(n);return t}}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})(),ii=(()=>{var r;class i{get _currentGroup(){const t=localStorage.getItem("worklenz.wltasklist.group_by");if(t){const n=this.GROUP_BY_OPTIONS.find(s=>s.value===t);if(n)return n}return this.GROUP_BY_OPTIONS[0]}set _currentGroup(t){localStorage.setItem("worklenz.wltasklist.group_by",t.value)}set members(t){this._members=t,this.membersSbj$.next()}get members(){return this._members}set priorities(t){this._priorities=t,this.prioritiesSbj$.next()}get priorities(){return this._priorities}set phases(t){this._phases=t,this.phasesSbj$.next()}get phases(){return this._phases}get onStatusesChange$(){return this.statusesSbj$.asObservable()}get onPrioritiesChange$(){return this.prioritiesSbj$.asObservable()}get onContextMenu$(){return this.contextMenuSbj$.asObservable()}get onPhaseChange$(){return this.phasesSbj$.asObservable()}set statuses(t){this._statuses=t,this.statusesSbj$.next()}get statuses(){return this._statuses}get updateOverviewCharts(){return this.updateOverviewChartsSbj$.asObservable()}get onRemoveMembersTask(){return this.removeMembersTaskSbj$.asObservable()}constructor(t,n){this.socket=t,this.map=n,this.membersSbj$=new jn.x,this.statusesSbj$=new jn.x,this.prioritiesSbj$=new jn.x,this.contextMenuSbj$=new jn.x,this.taskAddOrDeleteSbj$=new $_.X(null),this.phasesSbj$=new jn.x,this.updateOverviewChartsSbj$=new jn.x,this.removeMembersTaskSbj$=new jn.x,this.refreshOnlyMembersSbj$=new jn.x,this.refreshSubtasksIncludedSbj$=new jn.x,this.HIGHLIGHT_COL_CLS="highlight-col",this.GROUP_BY_STATUS_VALUE="status",this.GROUP_BY_PRIORITY_VALUE="priority",this.GROUP_BY_PHASE_VALUE="phase",this.GROUP_BY_OPTIONS=[{label:"Status",value:this.GROUP_BY_STATUS_VALUE},{label:"Priority",value:this.GROUP_BY_PRIORITY_VALUE},{label:"Phase",value:this.GROUP_BY_PHASE_VALUE}],this.groups=[],this._members=[],this._statuses=[],this._priorities=[],this._phases=[],this.isSubtasksIncluded=!1,this.currentTab=""}setCurrentGroup(t){this._currentGroup=t}getCurrentGroup(){return this._currentGroup}onRefreshMembers(){return this.refreshOnlyMembersSbj$.asObservable()}emitRefreshMembers(){this.refreshOnlyMembersSbj$.next()}emitRefreshSubtasksIncluded(){this.refreshSubtasksIncludedSbj$.next()}emitOnContextMenu(t,n){this.contextMenuSbj$.next({event:t,task:n})}emitTaskAddOrDelete(t,n){this.taskAddOrDeleteSbj$.next({taskId:t,isSubTask:n})}emitUpdateOverviewCharts(){this.updateOverviewChartsSbj$.next()}emitRemoveMembersTask(t){this.removeMembersTaskSbj$.next(t)}getGroupIdByGroupedColumn(t){const n=this.getCurrentGroup().value;return n===this.GROUP_BY_STATUS_VALUE?t.status:n===this.GROUP_BY_PRIORITY_VALUE?t.priority:n===this.GROUP_BY_PHASE_VALUE?t.phase_id:null}updateTaskGroup(t,n=!0){if(!t.id)return;const s=this.getGroupIdByGroupedColumn(t);s&&(this.deleteTask(t.id),this.addTask(t,s,n))}deleteTask(t,n=null){const s=this.map.getGroupId(t);if(!s||!t)return;const o=this.groups.find(p=>p.id===s);if(!o)return;const h=this.map.getSelectedTasks().find(p=>p.id===t);if(h?.is_sub_task){const p=o.tasks.find(_=>_.id===h.parent_task_id);if(p){const _=p.sub_tasks?.findIndex(B=>B.id===h.id);typeof _<"u"&&-1!==_&&(p.sub_tasks_count||(p.sub_tasks_count=0),p.sub_tasks_count=Math.max(+p.sub_tasks_count-1,0),p.sub_tasks?.splice(_,1),this.emitTaskAddOrDelete(p.id,!0))}this.socket.emit(Ne.C.GET_TASK_PROGRESS.toString(),p?.id),this.map.remove(h)}else{const p=n??o.tasks.findIndex(_=>_.id===t);-1!==p&&(this.map.remove(o.tasks[p]),o.tasks.splice(p,1),this.emitTaskAddOrDelete(t,!1))}this.map.deselectAll()}addTask(t,n,s=!1){const o=this.groups.find(h=>h.id===n);o&&t.id&&(s?o.tasks.unshift(t):o.tasks.push(t),this.map.add(n,t),this.emitTaskAddOrDelete(t.parent_task_id,!!t.parent_task_id))}reset(){this._members=[],this._statuses=[],this._priorities=[],this.groups=[],this.isSubtasksIncluded=!1}}return(r=i).\u0275fac=function(t){return new(t||r)(e.LFG(Kt.s),e.LFG(jl))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();var e0=oe(63481),Hm=oe(49278),t0=oe(67838),n0=oe(22858);function A0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",1,2)(2,"span",3),e._uU(3),e.ALo(4,"dateFormatter"),e.qZA(),e.TgZ(5,"nz-date-picker",4),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.task.start_date=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.handleStartDateChange(n,s.task))})("nzOnOpenChange",function(n){e.CHM(A);const s=e.MAs(1),o=e.oxw();return e.KtG(o.toggleHighlightCls(n,s))}),e.ALo(6,"validateMaxDate"),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,A.task.start_date)),e.xp6(2),e.Q6J("ngModel",A.task.start_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set a start date")("nzDisabledDate",e.lcZ(6,8,A.task.end_date))}}let r0=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.socket=t,this.cdr=n,this.ngZone=s,this.service=o,this.renderer=h,this.auth=p,this.task=null,this.cls="flex-row task-due-date",this.handleResponse=_=>{this.task&&_.id===this.task.id&&this.task.start_date!==_.start_date&&(this.task.start_date=_.start_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(Ne.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_START_DATE_CHANGE.toString(),this.handleResponse)}toggleHighlightCls(t,n){this.ngZone.runOutsideAngular(()=>{t?this.renderer.addClass(n,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(n,this.service.HIGHLIGHT_COL_CLS)})}handleStartDateChange(t,n){this.socket.emit(Ne.C.TASK_START_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,start_date:(0,st.A6)(t)||null,parent_task:n.parent_task_id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(ii),e.Y36(e.Qsj),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-start-date"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task"},decls:1,vars:1,consts:[["class","editable h-100 d-flex w-100",4,"ngIf"],[1,"editable","h-100","d-flex","w-100"],["elementStartDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange","nzOnOpenChange"]],template:function(t,n){1&t&&e.YNc(0,A0,7,10,"div",0),2&t&&e.Q6J("ngIf",n.task)},dependencies:[Ie.O5,Pe.JJ,Ut.ZU,Pe.On,_r.uw,Xt.z,Hs.l],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:15px}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}"],changeDetection:0}),i})();function s0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",1,2)(2,"span",3),e._uU(3),e.ALo(4,"dateFormatter"),e.qZA(),e.TgZ(5,"nz-date-picker",4),e.NdJ("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.task.end_date=n)})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.handleEndDateChange(n,s.task))})("nzOnOpenChange",function(n){e.CHM(A);const s=e.MAs(1),o=e.oxw();return e.KtG(o.toggleHighlightCls(n,s))}),e.ALo(6,"validateMinDate"),e.qZA()()}if(2&r){const A=e.oxw();e.xp6(2),e.ekj("past-date",A.checkForPastDate(A.task.end_date))("soon-date",A.checkForSoonDate(A.task.end_date)),e.xp6(1),e.Oqu(e.lcZ(4,10,A.task.end_date)),e.xp6(2),e.Q6J("ngModel",A.task.end_date)("nzFormat","MMM dd,yyyy")("nzSuffixIcon","")("nzPlaceHolder","Set a due date")("nzDisabledDate",e.lcZ(6,12,A.task.start_date))}}let o0=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.socket=t,this.cdr=n,this.ngZone=s,this.service=o,this.renderer=h,this.auth=p,this.task={},this.cls="flex-row task-due-date",this.handleResponse=_=>{_.id===this.task.id&&this.task.end_date!==_.end_date&&(this.task.end_date=_.end_date,this.cdr.markForCheck())}}ngOnInit(){this.socket.on(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_END_DATE_CHANGE.toString(),this.handleResponse)}handleEndDateChange(t,n){this.socket.emit(Ne.C.TASK_END_DATE_CHANGE.toString(),JSON.stringify({task_id:n.id,end_date:(0,st.A6)(t)||null,parent_task:n.parent_task_id,time_zone:this.auth.getCurrentSession()?.timezone_name?this.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone}))}toggleHighlightCls(t,n){this.ngZone.runOutsideAngular(()=>{t?this.renderer.addClass(n,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(n,this.service.HIGHLIGHT_COL_CLS)})}checkForPastDate(t){return me()(t).format("YYYY-MM-DD")<me()().format("YYYY-MM-DD")}checkForSoonDate(t){const n=me()(t).format("YYYY-MM-DD"),s=me()().add(1,"day").format("YYYY-MM-DD");return n===me()().format("YYYY-MM-DD")||n===s}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(ii),e.Y36(e.Qsj),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-end-date"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task"},decls:1,vars:1,consts:[["class","editable h-100 d-flex w-100",4,"ngIf"],[1,"editable","h-100","d-flex","w-100"],["elementDueDate",""],["nz-typography","",1,"date-text","w-100"],[1,"border-0","bg-transparent","w-100","task-list-date-picker",3,"ngModel","nzFormat","nzSuffixIcon","nzPlaceHolder","nzDisabledDate","ngModelChange","nzOnOpenChange"]],template:function(t,n){1&t&&e.YNc(0,s0,7,14,"div",0),2&t&&e.Q6J("ngIf",n.task)},dependencies:[Ie.O5,Pe.JJ,Ut.ZU,Pe.On,_r.uw,Hs.l,Xu],styles:["nz-date-picker[_ngcontent-%COMP%]{max-width:150px;border-color:transparent!important;inset:0}nz-date-picker[_ngcontent-%COMP%]:hover{border-color:#d9d9d9!important}.editable[_ngcontent-%COMP%]{position:relative}.date-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:15px}.past-date[_ngcontent-%COMP%]{color:#ff4d4f}.soon-date[_ngcontent-%COMP%]{color:#52c41a}.def-g-height[_ngcontent-%COMP%]{max-height:32px;min-height:32px;line-height:32px}"],changeDetection:0}),i})();function a0(r,i){if(1&r&&(e.TgZ(0,"nz-option",3),e.ALo(1,"safeString"),e._UZ(2,"nz-badge",4),e.ALo(3,"safeString"),e.qZA()),2&r){const A=i.$implicit;e.Q6J("nzValue",A.id)("nzLabel",e.lcZ(1,4,A.name)),e.xp6(2),e.Q6J("nzColor",e.lcZ(3,6,A.color_code))("nzText",(null==A?null:A.name)||null)}}let c0=(()=>{var r;class i{constructor(t,n,s,o,h,p,_){this.service=t,this.socket=n,this.cdr=s,this.ngZone=o,this.element=h,this.renderer=p,this.auth=_,this.task={},this.cls="flex-row task-status",this.statuses=[],this.loading=!1,this.handleResponse=B=>{B&&B.id===this.task.id&&(this.task.status_color=B.color_code,this.task.complete_ratio=+B.complete_ratio||0,this.task.status=B.status_id,this.task.status_category=B.statusCategory,this.isGroupByStatus()&&(this.service.updateTaskGroup(this.task,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())},this.service.onStatusesChange$.pipe((0,Pt.sL)()).subscribe(()=>{this.updateStatuses(),this.cdr.markForCheck()})}ngOnInit(){this.updateStatuses(),this.socket.on(Ne.C.TASK_STATUS_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_STATUS_CHANGE.toString(),this.handleResponse)}getTaskProgress(t){this.socket.emit(Ne.C.GET_TASK_PROGRESS.toString(),t)}isGroupByStatus(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_STATUS_VALUE}trackById(t,n){return n.id}handleStatusChange(t,n){n&&(this.socket.emit(Ne.C.TASK_STATUS_CHANGE.toString(),JSON.stringify({task_id:n,status_id:t,parent_task:this.task.parent_task_id,team_id:this.auth.getCurrentSession()?.team_id})),this.getTaskProgress(n))}updateStatuses(){this.statuses=this.service.statuses}toggleHighlightCls(t,n){this.ngZone.runOutsideAngular(()=>{t?this.renderer.addClass(n,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(n,this.service.HIGHLIGHT_COL_CLS)})}handleOpen(t){this.toggleHighlightCls(t,this.element.nativeElement)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ii),e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-status"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task"},decls:3,vars:8,consts:[[1,"py-0"],[1,"rounded-pill","custom-select",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","nzSize","ngModelChange","nzOpenChange"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor","nzText"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nz-select",1),e.NdJ("ngModelChange",function(o){return n.task.status=o})("ngModelChange",function(o){return n.handleStatusChange(o,n.task.id)})("nzOpenChange",function(o){return n.handleOpen(o)}),e.YNc(2,a0,4,8,"nz-option",2),e.qZA()()),2&t&&(e.xp6(1),e.Udp("background-color",n.task.status_color),e.Q6J("ngModel",n.task.status)("nzLoading",n.loading)("nzDropdownMatchSelectWidth",!1)("nzSize","small"),e.xp6(1),e.Q6J("ngForOf",n.statuses)("ngForTrackBy",n.trackById))},dependencies:[Ie.sg,Pe.JJ,$n.Ip,$n.Vq,Pe.On,fr.x7,VA.m],styles:["nz-select[_ngcontent-%COMP%]{max-width:96px;width:100%;text-overflow:ellipsis}"],changeDetection:0}),i})();var Zm=oe(8660);function l0(r,i){if(1&r&&(e.TgZ(0,"nz-option",3),e._UZ(1,"worklenz-task-priority-label",4),e.qZA()),2&r){const A=i.$implicit;e.Q6J("nzValue",A.id)("nzLabel",A.name?A.name:"")("nzCustomContent",!0),e.xp6(1),e.Q6J("name",A.name?A.name:"")}}let d0=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.service=t,this.socket=n,this.cdr=s,this.ngZone=o,this.element=h,this.renderer=p,this.task={},this.cls="flex-row task-priority",this.priorities=[],this.loading=!1,this.handleResponse=_=>{_&&_.id===this.task.id&&(this.task.priority_color=_.color_code,this.task.priority=_.priority_id,this.isGroupByPriority()&&(this.service.updateTaskGroup(this.task,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())},this.service.onPrioritiesChange$.pipe((0,Pt.sL)()).subscribe(()=>{this.updatePriorities(),this.cdr.markForCheck()})}ngOnInit(){this.updatePriorities(),this.socket.on(Ne.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.priorities=[],this.socket.removeListener(Ne.C.TASK_PRIORITY_CHANGE.toString(),this.handleResponse)}isGroupByPriority(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PRIORITY_VALUE}trackById(t,n){return n.id}handlePriorityChange(t,n){this.socket.emit(Ne.C.TASK_PRIORITY_CHANGE.toString(),JSON.stringify({task_id:n.id,priority_id:t,parent_task:this.task.parent_task_id}))}updatePriorities(){this.priorities=this.service.priorities}toggleHighlightCls(t,n){this.ngZone.runOutsideAngular(()=>{t?this.renderer.addClass(n,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(n,this.service.HIGHLIGHT_COL_CLS)})}handleOpen(t){this.toggleHighlightCls(t,this.element.nativeElement)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ii),e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-priority"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task"},decls:3,vars:8,consts:[[1,"py-0"],[1,"rounded-pill","custom-select",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","nzSize","ngModelChange","nzOpenChange"],[3,"nzValue","nzLabel","nzCustomContent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzValue","nzLabel","nzCustomContent"],[3,"name"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nz-select",1),e.NdJ("ngModelChange",function(o){return n.task.priority=o})("ngModelChange",function(o){return n.handlePriorityChange(o,n.task)})("nzOpenChange",function(o){return n.handleOpen(o)}),e.YNc(2,l0,2,4,"nz-option",2),e.qZA()()),2&t&&(e.xp6(1),e.Udp("background",n.task.priority_color),e.Q6J("ngModel",n.task.priority)("nzLoading",n.loading)("nzDropdownMatchSelectWidth",!1)("nzSize","small"),e.xp6(1),e.Q6J("ngForOf",n.priorities)("ngForTrackBy",n.trackById))},dependencies:[Ie.sg,Pe.JJ,$n.Ip,$n.Vq,Pe.On,Zm.o],styles:["nz-select[_ngcontent-%COMP%]{max-width:96px;width:100%;text-overflow:ellipsis}"],changeDetection:0}),i})();var u0=oe(66432);function h0(r,i){if(1&r&&(e.TgZ(0,"nz-option",3),e.ALo(1,"truncateIfLong"),e._UZ(2,"nz-badge",4),e.ALo(3,"safeString"),e.qZA()),2&r){const A=i.$implicit;e.Q6J("nzValue",A.id)("nzLabel",e.xi3(1,4,A.name,12)),e.xp6(2),e.Q6J("nzColor",e.lcZ(3,7,A.color_code))("nzText",(null==A?null:A.name)||null)}}let p0=(()=>{var r;class i{constructor(t,n,s,o,h,p){this.service=t,this.socket=n,this.cdr=s,this.ngZone=o,this.element=h,this.renderer=p,this.task={},this.cls="flex-row task-phase",this.PHASE_COLOR="#a9a9a9"+Ot.Yj,this.PLACEHOLDER_COLOR="rgba(0, 0, 0, 0.85) !important",this.phases=[],this.loading=!1,this.handleResponse=_=>{_&&_.task_id===this.task.id&&(this.task.phase_color=_.color_code||void 0,this.task.phase_id=_.id,this.isGroupByPhase()&&(this.service.updateTaskGroup(this.task,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())},this.service.onPhaseChange$.pipe((0,Pt.sL)()).subscribe(()=>{this.updatePhases(),this.cdr.markForCheck()})}ngOnInit(){this.updatePhases(),this.socket.on(Ne.C.TASK_PHASE_CHANGE.toString(),this.handleResponse)}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_PHASE_CHANGE.toString(),this.handleResponse)}isGroupByPhase(){return this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE}trackById(t,n){return n.id}handleChange(t,n){n&&this.socket.emit(Ne.C.TASK_PHASE_CHANGE.toString(),{task_id:n,phase_id:t,parent_task:this.task.parent_task_id})}updatePhases(){this.phases=this.service.phases}toggleHighlightCls(t,n){this.ngZone.runOutsideAngular(()=>{t?this.renderer.addClass(n,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(n,this.service.HIGHLIGHT_COL_CLS)})}handleOpen(t){this.toggleHighlightCls(t,this.element.nativeElement)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ii),e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-phase"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.cls)},inputs:{task:"task"},decls:3,vars:9,consts:[[1,"py-0"],["nzAllowClear","",1,"rounded-pill","custom-select",3,"ngModel","nzLoading","nzDropdownMatchSelectWidth","nzSize","nzPlaceHolder","ngModelChange","nzOpenChange"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngFor","ngForOf","ngForTrackBy"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor","nzText"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nz-select",1),e.NdJ("ngModelChange",function(o){return n.task.phase_id=o})("ngModelChange",function(o){return n.handleChange(o,n.task.id)})("nzOpenChange",function(o){return n.handleOpen(o)}),e.YNc(2,h0,4,9,"nz-option",2),e.qZA()()),2&t&&(e.xp6(1),e.Udp("background-color",n.task.phase_color),e.Q6J("ngModel",n.task.phase_id)("nzLoading",n.loading)("nzDropdownMatchSelectWidth",!1)("nzSize","small")("nzPlaceHolder","Select"),e.xp6(1),e.Q6J("ngForOf",n.phases)("ngForTrackBy",n.trackById))},dependencies:[Ie.sg,Pe.JJ,$n.Ip,$n.Vq,Pe.On,fr.x7,u0.z,VA.m],changeDetection:0}),i})();function f0(r,i){1&r&&(e.TgZ(0,"small",17),e._UZ(1,"span",18),e.qZA()),2&r&&(e.Q6J("nzType","secondary"),e.xp6(1),e.Q6J("nzType","double-right")("nzTheme","outline"))}function g0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2),o=e.MAs(4);return e.KtG(s.onTaskNameClick(n,o,s.task))}),e.ALo(1,"safeString"),e.YNc(2,f0,2,3,"small",16),e._uU(3),e.qZA()}if(2&r){const A=e.oxw(2);e.Q6J("nzTooltipMouseEnterDelay",.5)("nzTooltipTitle",e.lcZ(1,4,A.task.name)),e.xp6(2),e.Q6J("ngIf",A.task.is_sub_task),e.xp6(1),e.hij(" ",A.task.name," \xa0 ")}}function m0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-tag",19),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2);return n.stopPropagation(),e.KtG(s.openSubTasks())}),e.TgZ(1,"span",20),e._uU(2),e._UZ(3,"span",21),e.qZA()()}if(2&r){const A=e.oxw(2);e.Q6J("nzColor","default"),e.xp6(2),e.hij(" ",A.task.sub_tasks_count," "),e.xp6(1),e.Q6J("nzType","double-right")("nzTheme","outline")}}function _0(r,i){if(1&r&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div"),e.YNc(3,g0,4,6,"div",12),e.qZA(),e.TgZ(4,"div",13),e.YNc(5,m0,4,4,"nz-tag",14),e.qZA()()()),2&r){const A=e.oxw();e.xp6(3),e.Q6J("ngIf",A.editId!==A.task.id),e.xp6(2),e.Q6J("ngIf",!A.task.is_sub_task&&!A.service.isSubtasksIncluded)}}function w0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"input",22),e.NdJ("focus",function(){e.CHM(A);const n=e.oxw(),s=e.MAs(4);return e.KtG(n.selectCol(s))})("ngModelChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.task.name=n)})("blur",function(){e.CHM(A);const n=e.oxw(),s=e.MAs(4);return n.handleNameChange(n.task),e.KtG(n.deselectCol(s))})("keydown.enter",function(){e.CHM(A);const n=e.oxw(),s=e.MAs(4);return n.handleNameChange(n.task),e.KtG(n.deselectCol(s))}),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("ngModel",A.task.name)("nzBorderless",!0)}}function v0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.openTask(n.task))}),e._UZ(1,"span",18),e._uU(2," Open "),e.qZA()}2&r&&(e.Q6J("nzTooltipTitle","Click open task form")("nzTooltipPlacement","top")("nzTooltipMouseEnterDelay",2)("nzType","text"),e.xp6(1),e.Q6J("nzType","expand-alt")("nzTheme","outline"))}let C0=(()=>{var r;class i{get id(){return this.task.id}constructor(t,n,s,o,h,p,_,B,x){this.element=t,this.renderer=n,this.service=s,this.cdr=o,this.socket=h,this.map=p,this.ngZone=_,this.view=B,this.utils=x,this.onShowSubTasks=new e.vpe,this.onOpenTask=new e.vpe,this.cls="position-relative task-row",this.highlight="highlight-col",this.editId=null,this.selected=!1,this.Number=Number,this.handleNameChangeResponse=y=>{y&&this.id===y.id&&this.task&&this.task.name!=y.name&&(this.task.name=y.name,this.markForCheck())},this.handleCompletedAt=y=>{y.id&&this.id===y.id&&(this.task.completed_at=y.completed_at)},(0,Xa.T)(this.map.onSelect$.pipe((0,Er.h)(y=>y.id===this.id),(0,Er.h)(()=>!this.selected)),this.map.onDeselect$.pipe((0,Er.h)(y=>y.id===this.id),(0,Er.h)(()=>this.selected)),this.map.onDeselectAll$.pipe((0,Er.h)(()=>this.selected))).pipe((0,Pt.sL)()).subscribe(y=>{this.selected=!this.selected,this.toggleSelection(),this.markForCheck()})}toggleSelection(){this.ngZone.runOutsideAngular(()=>{const t="selected",n=this.element.nativeElement;this.selected?this.renderer.addClass(n,t):this.renderer.removeClass(n,t)})}ngOnInit(){this.registerSocketEvents()}ngOnDestroy(){this.unregisterSocketEvents()}registerSocketEvents(){this.socket.on(Ne.C.TASK_NAME_CHANGE.toString(),this.handleNameChangeResponse)}unregisterSocketEvents(){this.socket.removeListener(Ne.C.TASK_NAME_CHANGE.toString(),this.handleNameChangeResponse)}onContextMenu(t){this.service.emitOnContextMenu(t,this.task)}focus(t){setTimeout(()=>{t.querySelector("input")?.focus()})}onCheckChange(t){t?this.map.selectTask(this.task):this.map.deselectTask(this.task),this.toggleSelection()}openSubTasks(){this.onShowSubTasks?.emit(this.task),pt.s.track(Ve.r5)}openTask(t){this.onOpenTask?.emit(t),pt.s.track(Ve.r5)}selectCol(t){t.classList.contains(this.highlight)||t.classList.add(this.highlight)}deselectCol(t){t.classList.remove(this.highlight),this.editId=null}handleNameChange(t){t&&(this.socket.emit(Ne.C.TASK_NAME_CHANGE.toString(),JSON.stringify({task_id:t.id,name:t.name,parent_task:this.task.parent_task_id})),this.editId=null)}onTaskNameClick(t,n,s){t.stopPropagation(),this.focus(n),this.editId=s.id||null}markForCheck(){this.cdr.markForCheck()}detectChanges(){this.cdr.detectChanges()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ii),e.Y36(e.sBO),e.Y36(Kt.s),e.Y36(jl),e.Y36(e.R0b),e.Y36(Lr.f),e.Y36(JA.F))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-task-list-row"]],hostVars:2,hostBindings:function(t,n){1&t&&e.NdJ("contextmenu",function(o){return n.onContextMenu(o)}),2&t&&e.Tol(n.cls)},inputs:{task:"task"},outputs:{onShowSubTasks:"onShowSubTasks",onOpenTask:"onOpenTask"},decls:19,vars:10,consts:[[1,"flex-table","rows",3,"ngClass"],[1,"flex-row","task-check"],["nz-checkbox","",1,"p-0",3,"nzChecked","nzCheckedChange"],[1,"flex-row","task-name","ps-0"],["tr1",""],[1,"inner-task-name-container"],["class","editable-cell pointer-text ps-1 w-100",4,"ngIf"],["nz-input","","class","ps-1 name-input","style","min-width: 365px; max-width: 365px;",3,"ngModel","nzBorderless","focus","ngModelChange","blur","keydown.enter",4,"ngIf"],["nz-tooltip","","nz-button","","class","px-1 task-open-btn",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipMouseEnterDelay","nzType","click",4,"ngIf"],[3,"task"],[1,"editable-cell","pointer-text","ps-1","w-100"],[1,"d-flex","w-100"],["nz-tooltip","","class","task-name-text",3,"nzTooltipMouseEnterDelay","nzTooltipTitle","click",4,"ngIf"],[1,"inner-icon-cont"],["class","me-1 px-1 double-arrow",3,"nzColor","click",4,"ngIf"],["nz-tooltip","",1,"task-name-text",3,"nzTooltipMouseEnterDelay","nzTooltipTitle","click"],["nz-typography","",3,"nzType",4,"ngIf"],["nz-typography","",3,"nzType"],["nz-icon","",3,"nzType","nzTheme"],[1,"me-1","px-1","double-arrow",3,"nzColor","click"],[2,"color","#6d6e6f"],["nz-icon","",2,"font-size","10px",3,"nzType","nzTheme"],["nz-input","",1,"ps-1","name-input",2,"min-width","365px","max-width","365px",3,"ngModel","nzBorderless","focus","ngModelChange","blur","keydown.enter"],["nz-tooltip","","nz-button","",1,"px-1","task-open-btn",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipMouseEnterDelay","nzType","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.NdJ("nzCheckedChange",function(o){return n.selected=o})("nzCheckedChange",function(o){return n.onCheckChange(o)}),e.qZA()(),e.TgZ(3,"div",3,4)(5,"div",5),e.YNc(6,_0,6,2,"div",6),e.YNc(7,w0,1,2,"input",7),e.YNc(8,v0,3,6,"button",8),e.qZA()(),e.ynx(9),e._UZ(10,"worklenz-wl-status",9),e.BQk(),e.ynx(11),e._UZ(12,"worklenz-wl-priority",9),e.BQk(),e.ynx(13),e._UZ(14,"worklenz-wl-phase",9),e.BQk(),e.ynx(15),e._UZ(16,"worklenz-wl-start-date",9),e.BQk(),e.ynx(17),e._UZ(18,"worklenz-wl-end-date",9),e.BQk(),e.qZA()),2&t&&(e.Q6J("ngClass",n.task.is_sub_task?"":"main-task"),e.xp6(2),e.Q6J("nzChecked",n.selected),e.xp6(4),e.Q6J("ngIf",n.editId!==n.task.id),e.xp6(1),e.Q6J("ngIf",n.editId===n.task.id),e.xp6(1),e.Q6J("ngIf",!n.editId),e.xp6(2),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task),e.xp6(2),e.Q6J("task",n.task))},dependencies:[Ie.mk,Ie.O5,Pe.Fj,Pe.JJ,nA.Zp,Vt.ix,Wt.w,an.dQ,zt.Ls,Ut.ZU,AA.j,Pe.On,qA.Ie,Zt.SY,r0,o0,c0,d0,p0,VA.m],styles:[".hidden-arrow[_ngcontent-%COMP%]{display:none!important}.dropdown-highlight[_ngcontent-%COMP%]:hover{background-color:#d0eefa54;border:#5587f5 1px solid;border-radius:3px}.plus-icon[_ngcontent-%COMP%]{display:none;position:absolute;right:0;z-index:1;top:0;bottom:0;height:100%}.expanded[_ngcontent-%COMP%]{transform:rotate(-90deg)}.sub-tasks-arrow[_ngcontent-%COMP%]{position:relative;cursor:pointer;left:3px;width:16px;padding:2px;border:1px solid transparent;z-index:1}.sub-tasks-arrow[_ngcontent-%COMP%]   .sub-arrow[_ngcontent-%COMP%]{width:10px;height:10px;color:#191919;margin-left:-2px}.task-name-text[_ngcontent-%COMP%]{border:1px solid transparent;padding-left:2px;border-radius:4px}.task-name-text[_ngcontent-%COMP%]:hover{border:1px solid #d9d9d9}.task-name[_ngcontent-%COMP%]{border:1px solid transparent}.task-name[_ngcontent-%COMP%]:hover{cursor:text;background:#fff;border-radius:4px}.highlight-col[_ngcontent-%COMP%]{border:1px solid #1890ff!important}.highlight-col[_ngcontent-%COMP%]   nz-date-picker[_ngcontent-%COMP%]{box-shadow:none}.editable[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{visibility:hidden}.editable[_ngcontent-%COMP%]:hover   .add-button[_ngcontent-%COMP%]{visibility:visible}.ant-popover[_ngcontent-%COMP%]{width:500px}.flex-table[_ngcontent-%COMP%]{display:flex}.rows[_ngcontent-%COMP%]   .flex-row[_ngcontent-%COMP%]{padding:3px 12px;border-bottom:1px solid #f0f0f0;border-right:1px solid #f0f0f0;background:white;display:flex;align-items:center;max-height:50px;border-radius:0}.rows[_ngcontent-%COMP%]:hover   .flex-row[_ngcontent-%COMP%]{background:#f8f7f9}.subtask[_ngcontent-%COMP%]   .flex-row[_ngcontent-%COMP%]{background:#fcfcfc}.task-check[_ngcontent-%COMP%]{text-align:center;padding:8px 6px!important;border-left:1px solid #f0f0f0;position:sticky;z-index:1;left:0}.task-arrow[_ngcontent-%COMP%]{width:20px;min-width:20px;padding:8px 11px 8px 2px!important;border-right:none!important;position:sticky;z-index:1;left:29px}.task-arrow.highlight-col[_ngcontent-%COMP%]{border-top:1px solid #188fff!important;border-left:1px solid #188fff!important;border-bottom:1px solid #188fff!important}.task-name[_ngcontent-%COMP%]{width:450px;min-width:450px;position:sticky;z-index:1;border-radius:0;padding-right:25px;left:29px}.task-name.highlight-col[_ngcontent-%COMP%]{border:1px solid #188fff!important}.task-status[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-phase[_ngcontent-%COMP%]{width:150px;min-width:150px}.task-priority[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-start-date[_ngcontent-%COMP%], .task-due-date[_ngcontent-%COMP%]{width:150px;min-width:150px}.task-due-date[_ngcontent-%COMP%]{padding:0!important}.task-due-date[_ngcontent-%COMP%]   .editable[_ngcontent-%COMP%]{align-items:center;display:flex}.task-name-text[_ngcontent-%COMP%]{width:100%;-webkit-line-clamp:1;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.inner-icon-cont[_ngcontent-%COMP%]{width:max-content;display:flex;justify-content:flex-end;align-items:center;column-gap:4px}.name-input[_ngcontent-%COMP%]{padding:5px 12px;border-left:1px solid transparent}.double-arrow[_ngcontent-%COMP%]{line-height:16px;border:none;cursor:pointer}.task-placeholder[_ngcontent-%COMP%]{width:100%;height:42px;border:1px dashed #d9d9d9;background:#fafafa}.task-open-btn[_ngcontent-%COMP%]{opacity:0;position:absolute;right:0;top:4px;background:whitesmoke;transition:.25s all}.task-name[_ngcontent-%COMP%]:hover   .task-open-btn[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),i})();var B0=oe(22096);function b0(r,i){1&r&&(e.TgZ(0,"div",12)(1,"div")(2,"h4",13),e._uU(3,"Tasks By Status"),e.qZA()()())}function x0(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15),e._UZ(3,"img",16),e.qZA(),e.TgZ(4,"span",17),e._uU(5,"No tasks to show."),e.qZA()(),e.BQk())}function y0(r,i){if(1&r&&(e.TgZ(0,"li",24),e._UZ(1,"nz-badge",25),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("nzColor",A.color_code)("nzText",A.label+"("+A.tasks_count+")")("nzTooltipTitle",A.label)}}function T0(r,i){if(1&r&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"canvas",20),e.qZA(),e.TgZ(3,"div",21)(4,"ul",22),e.YNc(5,y0,2,3,"li",23),e.qZA()()()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("width",185)("height",185)("data",A.statusChartData)("options",A.chartOptions)("legend",!1)("type","doughnut"),e.xp6(3),e.Q6J("ngForOf",A.memberTasksStatusOverview)}}function k0(r,i){1&r&&(e.TgZ(0,"div",12)(1,"div")(2,"h4",13),e._uU(3,"Tasks By Priority"),e.qZA()()())}function Q0(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15),e._UZ(3,"img",16),e.qZA(),e.TgZ(4,"span",17),e._uU(5,"No tasks to show."),e.qZA()(),e.BQk())}function F0(r,i){if(1&r&&(e.TgZ(0,"li",24),e._UZ(1,"nz-badge",25),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("nzColor",A.color_code)("nzText",A.label+"("+A.tasks_count+")")("nzTooltipTitle",A.label)}}function z0(r,i){if(1&r&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"canvas",20),e.qZA(),e.TgZ(3,"div",21)(4,"ul",22),e.YNc(5,F0,2,3,"li",23),e.qZA()()()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("width",185)("height",185)("data",A.priorityChartData)("options",A.chartOptions)("legend",!1)("type","doughnut"),e.xp6(3),e.Q6J("ngForOf",A.memberTasksPriorityOverview)}}function U0(r,i){1&r&&(e.TgZ(0,"div",12)(1,"div")(2,"h4",13),e._uU(3,"Tasks By Phase"),e.qZA()()())}function S0(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15),e._UZ(3,"img",16),e.qZA(),e.TgZ(4,"span",17),e._uU(5,"No tasks have been assigned to phases."),e.qZA()(),e.BQk())}function I0(r,i){if(1&r&&(e.TgZ(0,"li",24),e._UZ(1,"nz-badge",25),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("nzColor",A.color_code)("nzText",A.label+"("+A.tasks_count+")")("nzTooltipTitle",A.label)}}function M0(r,i){if(1&r&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"canvas",20),e.qZA(),e.TgZ(3,"div",21)(4,"ul",22),e.YNc(5,I0,2,3,"li",23),e.qZA()()()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("width",185)("height",185)("data",A.phaseChartData)("options",A.chartOptions)("legend",!1)("type","doughnut"),e.xp6(3),e.Q6J("ngForOf",A.memberTasksPhaseOverview)}}function E0(r,i){1&r&&(e.TgZ(0,"div",12)(1,"div")(2,"h4",13),e._uU(3,"Tasks By Dates"),e.qZA()()())}function L0(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",14)(2,"div",15),e._UZ(3,"img",16),e.qZA(),e.TgZ(4,"span",17),e._uU(5,"No tasks to show."),e.qZA()(),e.BQk())}function N0(r,i){if(1&r&&(e.TgZ(0,"li",24),e._UZ(1,"nz-badge",25),e.ALo(2,"ellipsis"),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("nzColor",A.color_code)("nzText",e.xi3(2,3,A.label,19)+"("+A.tasks_count+")")("nzTooltipTitle",A.label)}}function O0(r,i){if(1&r&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"canvas",20),e.qZA(),e.TgZ(3,"div",21)(4,"ul",22),e.YNc(5,N0,3,6,"li",23),e.qZA()()()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("width",185)("height",185)("data",A.datesChartData)("options",A.chartOptions)("legend",!1)("type","doughnut"),e.xp6(3),e.Q6J("ngForOf",A.memberTasksDatesOverview)}}let P0=(()=>{var r;class i{constructor(t,n,s){this.cdr=t,this.api=n,this.service=s,this.teamMember=null,this.projectId=null,this.memberTasksStatusOverview=[],this.memberTasksPriorityOverview=[],this.memberTasksPhaseOverview=[],this.memberTasksDatesOverview=[],this.loading=!1,this.isStatusChartEmpty=!1,this.isPriorityChartEmpty=!1,this.isPhaseChartEmpty=!1,this.isDatesChartEmpty=!1,this.statusColors=[],this.priorityColors=[],this.phaseColors=[],this.datesColors=[],this.statusChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.statusColors,hoverOffset:2}]},this.priorityChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.priorityColors,hoverOffset:2}]},this.phaseChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.phaseColors,hoverOffset:2}]},this.datesChartData={labels:[],datasets:[{label:"Tasks",data:[],backgroundColor:this.datesColors,hoverOffset:2}]},this.chartOptions={plugins:{datalabels:{display:!1}},responsive:!1},this.of=B0.of,this.service.updateOverviewCharts.pipe((0,Pt.sL)()).subscribe(()=>{this.init()})}init(){this.getMemberOverviewData()}getMemberOverviewData(){var t=this;return(0,ce.Z)(function*(){if(t.projectId&&t.teamMember)try{t.loading=!0,t.clearCharts();const n=yield t.api.getMemberOverview(t.projectId,t.teamMember.team_member_id);n.done&&(t.memberTasksStatusOverview=n.body.by_status,t.memberTasksPriorityOverview=n.body.by_priority,t.memberTasksPhaseOverview=n.body.by_phase,t.memberTasksDatesOverview=n.body.by_dates,t.drawCharts(n.body)),t.loading=!1,t.cdr.markForCheck()}catch(n){t.loading=!1,(0,st.tu)(n),t.cdr.markForCheck()}})()}drawCharts(t){if(t.by_status){for(const n of t.by_status)this.statusChartData.labels?.push(n.label),this.statusChartData.datasets[0].data.push(n.tasks_count||0),this.statusColors.push(n.color_code);this.statusChart?.update(),this.statusChartData.datasets[0].data.every(n=>0===n)&&(this.isStatusChartEmpty=!0)}if(t.by_priority){for(const n of t.by_priority)this.priorityChartData.labels?.push(n.label),this.priorityChartData.datasets[0].data.push(n.tasks_count||0),this.priorityColors.push(n.color_code);this.priorityChart?.update(),this.priorityChartData.datasets[0].data.every(n=>0===n)&&(this.isPriorityChartEmpty=!0)}if(t.by_phase){for(const n of t.by_phase)this.phaseChartData.labels?.push(n.label),this.phaseChartData.datasets[0].data.push(n.tasks_count||0),this.phaseColors.push(n.color_code);this.phaseChart?.update(),this.phaseChartData.datasets[0].data.every(n=>0===n)&&(this.isPhaseChartEmpty=!0)}if(t.by_dates){for(const n of t.by_dates)this.datesChartData.labels?.push(n.label),this.datesChartData.datasets[0].data.push(n.tasks_count||0),this.datesColors.push(n.color_code);this.datesChart?.update(),this.datesChartData.datasets[0].data.every(n=>0===n)&&(this.isDatesChartEmpty=!0)}this.cdr.markForCheck()}clearCharts(){this.statusChartData.datasets[0].data=[],this.priorityChartData.datasets[0].data=[],this.phaseChartData.datasets[0].data=[],this.datesChartData.datasets[0].data=[],this.statusChartData.labels=[],this.priorityChartData.labels=[],this.phaseChartData.labels=[],this.datesChartData.labels=[],this.cdr.markForCheck()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(kg),e.Y36(ii))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-overview-tab"]],viewQuery:function(t,n){if(1&t&&(e.Gf(sr.jh,5),e.Gf(sr.jh,5),e.Gf(sr.jh,5),e.Gf(sr.jh,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.statusChart=s.first),e.iGM(s=e.CRH())&&(n.priorityChart=s.first),e.iGM(s=e.CRH())&&(n.phaseChart=s.first),e.iGM(s=e.CRH())&&(n.datesChart=s.first)}},inputs:{teamMember:"teamMember",projectId:"projectId"},decls:30,vars:17,consts:[[1,"charts-holder"],["nz-row","",3,"nzGutter"],["nz-col","",1,"mb-2",3,"nzSpan"],[3,"nzTitle"],["statusCardTitle",""],[1,"card-content"],[4,"ngIf"],["class","d-flex",4,"ngIf"],["priorityCardTitle",""],["nz-col","",1,"mt-2","mb-2",3,"nzSpan"],["phaseCardTitle",""],["datesCardTitle",""],[1,"d-flex","align-items-center"],[1,"mb-0"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],[1,"d-flex"],[1,"position-relative",2,"max-width","200px"],["baseChart","",3,"width","height","data","options","legend","type"],[1,"chart-details","ms-3"],[1,"list-unstyled"],["class","mb-1 chart-label",4,"ngFor","ngForOf"],[1,"mb-1","chart-label"],["nz-tooltip","",3,"nzColor","nzText","nzTooltipTitle"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"nz-card",3),e.YNc(4,b0,4,0,"ng-template",null,4,e.W1O),e.TgZ(6,"div",5),e.YNc(7,x0,6,0,"ng-container",6),e.YNc(8,T0,6,7,"div",7),e.qZA()()(),e.TgZ(9,"div",2)(10,"nz-card",3),e.YNc(11,k0,4,0,"ng-template",null,8,e.W1O),e.TgZ(13,"div",5),e.YNc(14,Q0,6,0,"ng-container",6),e.YNc(15,z0,6,7,"div",7),e.qZA()()(),e.TgZ(16,"div",9)(17,"nz-card",3),e.YNc(18,U0,4,0,"ng-template",null,10,e.W1O),e.TgZ(20,"div",5),e.YNc(21,S0,6,0,"ng-container",6),e.YNc(22,M0,6,7,"div",7),e.qZA()()(),e.TgZ(23,"div",9)(24,"nz-card",3),e.YNc(25,E0,4,0,"ng-template",null,11,e.W1O),e.TgZ(27,"div",5),e.YNc(28,L0,6,0,"ng-container",6),e.YNc(29,O0,6,7,"div",7),e.qZA()()()()()),2&t){const s=e.MAs(5),o=e.MAs(12),h=e.MAs(19),p=e.MAs(26);e.xp6(1),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle",s),e.xp6(4),e.Q6J("ngIf",n.isStatusChartEmpty),e.xp6(1),e.Q6J("ngIf",!n.loading&&!n.isStatusChartEmpty),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle",o),e.xp6(4),e.Q6J("ngIf",n.isPriorityChartEmpty),e.xp6(1),e.Q6J("ngIf",!n.loading&&!n.isPriorityChartEmpty),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle",h),e.xp6(4),e.Q6J("ngIf",n.isPhaseChartEmpty),e.xp6(1),e.Q6J("ngIf",!n.loading&&!n.isPhaseChartEmpty),e.xp6(1),e.Q6J("nzSpan",12),e.xp6(1),e.Q6J("nzTitle",p),e.xp6(4),e.Q6J("ngIf",n.isDatesChartEmpty),e.xp6(1),e.Q6J("ngIf",!n.loading&&!n.isDatesChartEmpty)}},dependencies:[Ie.sg,Ie.O5,hn.t3,hn.SK,Ut.ZU,Zt.SY,DA.bd,fr.x7,sr.jh,Os.p],styles:[".chart-details[_ngcontent-%COMP%]{height:220px;max-height:220px;overflow-y:auto}.no-data-img-holder[_ngcontent-%COMP%]{width:65px}.charts-holder[_ngcontent-%COMP%]{max-width:880px;margin-left:auto;margin-right:auto}"],changeDetection:0}),i})();const D0=["taskInput"];function H0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"form",3)(1,"input",4,5),e.NdJ("blur",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.onInputBlur())})("keyup.enter",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.addInstantTask())}),e.qZA()()}if(2&r){const A=e.oxw();e.Q6J("formGroup",A.form),e.xp6(1),e.Q6J("nzBorderless",!0)("formControlName","name")("readOnly",A.creating)}}function Z0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.focusTaskInput())}),e._UZ(1,"span",7),e.TgZ(2,"span"),e._uU(3),e.qZA()()}if(2&r){const A=e.oxw();e.uIk("id",A.id),e.xp6(1),e.Q6J("nzType",A.creating?"loading":"plus")("nzTheme","outline"),e.xp6(2),e.hij(" ",A.label,"")}}let j0=(()=>{var r;class i{get profile(){return this.auth.getCurrentSession()}constructor(t,n,s,o,h,p,_){this.socket=t,this.auth=n,this.fb=s,this.service=o,this.ngZone=h,this.cdr=p,this.map=_,this.teamMember=null,this.projectId=null,this.groupId=null,this.label="Add Task",this.focusChange=new e.vpe,this.taskInputVisible=!1,this.creating=!1,this.session=null,this.id=(0,st.q$)(4),this._session=null,this.form=this.fb.group({name:[null,[Pe.kI.required,Pe.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]]}),this._session=this.auth.getCurrentSession()}ngOnInit(){this.session=this.auth.getCurrentSession()}focusTaskInput(){this.taskInputVisible=!0,this.focusChange.emit(this.taskInputVisible),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),this.taskInput?.nativeElement.select()},100)})}addTaskInputBlur(){this.taskInputVisible=!1,this.focusChange.emit(this.taskInputVisible)}onInputBlur(){var t=this;return(0,ce.Z)(function*(){t.isValidInput()?yield t.addInstantTask():t.addTaskInputBlur()})()}createRequest(){if(!this.projectId||!this._session)return null;const t=this._session,n={name:this.form.value.name,project_id:this.projectId,reporter_id:t.id,team_id:t.team_id},s=this.service.getCurrentGroup();return s.value===this.service.GROUP_BY_STATUS_VALUE?n.status_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PRIORITY_VALUE?n.priority_id=this.groupId||void 0:s.value===this.service.GROUP_BY_PHASE_VALUE&&(n.phase_id=this.groupId||void 0),n}isValidInput(){return this.form.valid&&this.form.value.name.trim().length}addInstantTask(){var t=this;return(0,ce.Z)(function*(){if(!t.creating&&t.projectId&&t._session&&t.isValidInput()){try{const n=t.createRequest();if(!n)return;t.creating=!0,t.socket.emit(Ne.C.QUICK_TASK.toString(),JSON.stringify(n)),t.socket.once(Ne.C.QUICK_TASK.toString(),s=>{const o={team_member_id:t.teamMember?.team_member_id,project_id:s.project_id,task_id:s.id,reporter_id:t.session?.id,mode:0};t.socket.emit(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(o)),t.socket.once(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),h=>{t.creating=!1,t.onNewTaskReceived(s),t.cdr.markForCheck()})})}catch{t.creating=!1}t.cdr.markForCheck()}})()}reset(t=!0){this.creating=!1,this.form.controls.name.setValue(null),this.taskInputVisible=!0,this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.taskInput?.nativeElement.focus(),t&&window.scrollTo(0,document.body.scrollHeight)},Ot.GR)}),this.cdr.markForCheck()}onNewTaskReceived(t){if(this.groupId&&t.id){if(this.map.has(t.id))return;this.service.addTask(t,this.groupId),pt.s.track(t.parent_task_id?Ve.c3:Ve.yS),this.service.emitRefreshMembers(),this.reset(!1)}}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Kt.s),e.Y36(yn.e),e.Y36(Pe.qu),e.Y36(ii),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(jl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-member-task-add-container"]],viewQuery:function(t,n){if(1&t&&e.Gf(D0,5),2&t){let s;e.iGM(s=e.CRH())&&(n.taskInput=s.first)}},inputs:{teamMember:"teamMember",projectId:"projectId",groupId:"groupId",label:"label"},outputs:{focusChange:"focusChange"},decls:3,vars:3,consts:[[3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","editable-row d-block w-25 task-name",3,"click",4,"ngSwitchCase"],[3,"formGroup"],["nz-input","","type","text","tabindex","1","placeholder","Type your task and hit enter",3,"nzBorderless","formControlName","readOnly","blur","keyup.enter"],["taskInput",""],[1,"editable-row","d-block","w-25","task-name",3,"click"],["nz-icon","",1,"input-icon",3,"nzType","nzTheme"]],template:function(t,n){1&t&&(e.ynx(0,0),e.YNc(1,H0,3,4,"form",1),e.YNc(2,Z0,4,4,"div",2),e.BQk()),2&t&&(e.Q6J("ngSwitch",n.taskInputVisible),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1))},dependencies:[Ie.RF,Ie.n9,Pe._Y,Pe.Fj,Pe.JJ,Pe.JL,Pe.sg,Pe.u,nA.Zp,Wt.w,zt.Ls],styles:[".input-icon[_ngcontent-%COMP%]{font-size:11px}.task-name[_ngcontent-%COMP%]{border:1px solid transparent}.task-name[_ngcontent-%COMP%]:hover{cursor:text;background:#fff;border:1px solid #bfbfbf;border-radius:4px}"]}),i})(),R0=(()=>{var r;class i{get phaseLabel(){return this.phasesService.label}constructor(t,n,s,o,h){this.service=t,this.map=n,this.cdr=s,this.phasesService=o,this.auth=h,this.headerCls="d-flex header mb-0 flex-row",this.selectChange=new e.vpe,this.checked=!1,this.indeterminate=!1,this.map.onDeselectAll$.pipe((0,Pt.sL)()).subscribe(()=>{this.checked=!1,this.indeterminate=!1,this.cdr.markForCheck()}),this.phasesService.onLabelChange.pipe((0,Pt.sL)()).subscribe(p=>{this.cdr.markForCheck()}),(0,Xa.T)(this.map.onSelect$,this.map.onDeselect$).pipe((0,Pt.sL)()).subscribe(()=>{this.map.isAllDeselected(this.groupId)?(this.checked=!1,this.indeterminate=!1):this.map.isAllSelected(this.groupId)?(this.checked=!0,this.indeterminate=!1):this.indeterminate=!0,this.cdr.markForCheck()})}onAllChecked(t){this.selectChange?.emit(t)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(YA.b),e.Y36(Zo.g),e.Y36(e.sBO),e.Y36(Il.u),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-task-list-header"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Tol(n.headerCls)},inputs:{groupId:"groupId"},outputs:{selectChange:"selectChange"},decls:21,vars:7,consts:[[1,"flex-row","task-check"],["nz-checkbox","",1,"visibility-hidden",3,"nzChecked","nzIndeterminate","nzCheckedChange"],[1,"flex-row","task-name"],[1,"flex-row","task-status"],[1,"flex-row","task-priority"],[1,"flex-row","task-phase","d-flex","justify-content-between","align-items-center"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"flex-row","task-start-date"],[1,"flex-row","task-due-date"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("nzCheckedChange",function(o){return n.checked=o})("nzCheckedChange",function(o){return n.onAllChecked(o)}),e.qZA()(),e.TgZ(2,"div",2),e._uU(3,"Task"),e.qZA(),e.ynx(4),e.TgZ(5,"div",3),e._uU(6,"Status"),e.qZA(),e.BQk(),e.ynx(7),e.TgZ(8,"div",4),e._uU(9,"Priority"),e.qZA(),e.BQk(),e.ynx(10),e.TgZ(11,"div",5)(12,"span",6),e._uU(13),e.ALo(14,"ellipsis"),e.qZA()(),e.BQk(),e.ynx(15),e.TgZ(16,"div",7),e._uU(17,"Start Date"),e.qZA(),e.BQk(),e.ynx(18),e.TgZ(19,"div",8),e._uU(20,"Due Date"),e.qZA(),e.BQk()),2&t&&(e.xp6(1),e.Q6J("nzChecked",n.checked)("nzIndeterminate",n.indeterminate),e.xp6(11),e.Q6J("nzTooltipTitle",n.phaseLabel),e.xp6(1),e.Oqu(e.xi3(14,4,n.phaseLabel,10)))},dependencies:[qA.Ie,Zt.SY,Os.p],styles:[".flex-row[_ngcontent-%COMP%]{padding:4px 11px;background-color:#fafafa;border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0;border-right:1px solid #f0f0f0;display:flex;align-items:center;flex-direction:row}.task-check[_ngcontent-%COMP%]{text-align:center;padding:8px 6px!important;border-left:1px solid #f0f0f0;position:sticky;left:0;z-index:1}.task-name[_ngcontent-%COMP%]{width:450px;min-width:450px;position:sticky;left:29px;z-index:1}.task-name[_ngcontent-%COMP%]   nz-filter-trigger[_ngcontent-%COMP%]{margin-left:auto}.task-name.left-0[_ngcontent-%COMP%]{left:47px}.task-status[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-phase[_ngcontent-%COMP%]{width:150px;min-width:150px}.task-priority[_ngcontent-%COMP%]{width:120px;min-width:120px}.task-start-date[_ngcontent-%COMP%], .task-due-date[_ngcontent-%COMP%]{width:150px;min-width:150px}.visibility-hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0}),i})();const G0=["contextMenuDropdown"];function K0(r,i){if(1&r&&e._uU(0),2&r){const A=e.oxw().$implicit;e.hij(" ",(null==A?null:A.name)||null," ")}}function J0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",7),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw();return e.KtG(o.changeGroup(s.id))}),e._UZ(1,"nz-badge",8),e.ALo(2,"safeString"),e.YNc(3,K0,1,1,"ng-template",null,9,e.W1O),e.qZA()}if(2&r){const A=i.$implicit,t=e.MAs(4);e.xp6(1),e.Q6J("nzColor",e.lcZ(2,2,A.color_code))("nzText",t)}}function Y0(r,i){1&r&&(e._UZ(0,"span",10),e._uU(1," Move to\n"))}let q0=(()=>{var r;class i{get profile(){return this.auth.getCurrentSession()}constructor(t,n,s,o,h,p){this.contextMenuService=t,this.service=n,this.map=s,this.socket=o,this.cdr=h,this.auth=p,this.projectId=null,this.teamMemberId=null,this.groups=[],this.removing=!1,this.selectedTask=null,this.id=(0,st.q$)(4),this._session=null,this.destroy$=new jn.x,this.handleMemberChangeResponse=_=>{try{_&&_.id&&(this.service.deleteTask(_.id),this.cdr.markForCheck())}catch{}},this.service.onContextMenu$.pipe((0,Pr.R)(this.destroy$)).subscribe(_=>{this.onContextMenu(_)}),this._session=this.auth.getCurrentSession()}onContextMenu(t){this.selectedTask=t.task,this.map.deselectAll(),this.map.selectTask(t.task),this.cdr.detectChanges(),this.contextMenuService.create(t.event,this.contextMenuDropdown)}removeMember(){if(!this._session||!this.selectedTask||!this.teamMemberId)return;const t={team_member_id:this.teamMemberId,project_id:this.projectId,task_id:this.selectedTask.id,reporter_id:this._session.id,mode:1,parent_task:this.selectedTask.parent_task_id};this.socket.emit(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),JSON.stringify(t)),this.socket.once(Ne.C.QUICK_ASSIGNEES_UPDATE.toString(),()=>{this.service.emitRemoveMembersTask(t.task_id)})}changeGroup(t){if(!this.selectedTask)return;const n=this.service.getCurrentGroup();n.value===this.service.GROUP_BY_STATUS_VALUE?this.handleStatusChange(t,this.selectedTask.id):n.value===this.service.GROUP_BY_PRIORITY_VALUE?this.handlePriorityChange(t,this.selectedTask.id):n.value===this.service.GROUP_BY_PHASE_VALUE&&this.handlePhaseChange(t,this.selectedTask.id)}handleStatusChange(t,n){n&&(this.socket.emit(Ne.C.TASK_STATUS_CHANGE.toString(),JSON.stringify({task_id:n,status_id:t,team_id:this.auth.getCurrentSession()?.team_id})),this.service.getCurrentGroup().value===this.service.GROUP_BY_STATUS_VALUE&&this.selectedTask&&(this.service.updateTaskGroup(this.selectedTask,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())}handlePriorityChange(t,n){n&&(this.socket.emit(Ne.C.TASK_PRIORITY_CHANGE.toString(),JSON.stringify({task_id:n,priority_id:t})),this.service.getCurrentGroup().value===this.service.GROUP_BY_PRIORITY_VALUE&&this.selectedTask&&(this.service.updateTaskGroup(this.selectedTask,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())}handlePhaseChange(t,n){n&&(this.socket.emit(Ne.C.TASK_PHASE_CHANGE.toString(),{task_id:n,phase_id:t}),this.service.getCurrentGroup().value===this.service.GROUP_BY_PHASE_VALUE&&this.selectedTask&&(this.service.updateTaskGroup(this.selectedTask,!1),this.service.isSubtasksIncluded&&this.service.emitRefreshSubtasksIncluded()),this.cdr.markForCheck())}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(cn.Iw),e.Y36(ii),e.Y36(jl),e.Y36(Kt.s),e.Y36(e.sBO),e.Y36(yn.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-wl-context-menu"]],viewQuery:function(t,n){if(1&t&&e.Gf(G0,5),2&t){let s;e.iGM(s=e.CRH())&&(n.contextMenuDropdown=s.first)}},inputs:{projectId:"projectId",teamMemberId:"teamMemberId",groups:"groups"},decls:11,vars:4,consts:[["contextMenuDropdown","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","",1,"me-2",3,"nzType","nzTheme"],["nz-submenu","",3,"nzTitle"],["class","m-0","nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["titleTemplate",""],["nz-menu-item","",1,"m-0",3,"click"],[3,"nzColor","nzText"],["textTmpl",""],["nz-icon","","nzType","retweet","nzTheme","outline",1,"me-2"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-dropdown-menu",null,0)(2,"ul",1)(3,"li",2),e.NdJ("click",function(){return n.removeMember()}),e._UZ(4,"span",3),e._uU(5," Remove from member "),e.qZA(),e.TgZ(6,"li",4)(7,"ul"),e.YNc(8,J0,5,4,"li",5),e.qZA()()()(),e.YNc(9,Y0,2,0,"ng-template",null,6,e.W1O)),2&t){const s=e.MAs(10);e.xp6(4),e.Q6J("nzType",n.removing?"loading":"user-delete")("nzTheme","outline"),e.xp6(2),e.Q6J("nzTitle",s),e.xp6(2),e.Q6J("ngForOf",n.groups)}},dependencies:[Ie.sg,Wt.w,zt.Ls,fr.x7,zn.wO,zn.r9,zn.rY,cn.RR,VA.m],changeDetection:0}),i})();function V0(r,i){1&r&&(e.TgZ(0,"label",18),e._uU(1,"Group by: "),e.qZA())}function W0(r,i){if(1&r&&(e.TgZ(0,"button",19)(1,"span",20),e._uU(2),e.ALo(3,"ellipsis"),e.qZA(),e._UZ(4,"span",21),e.qZA()),2&r){e.oxw();const A=e.MAs(4),t=e.oxw(2);e.Q6J("nzTrigger","click")("nzDropdownMenu",A)("nzClickHide",!0),e.xp6(1),e.Q6J("nzTooltipTitle",t.selectedGroup.label),e.xp6(1),e.hij(" ",e.xi3(3,6,t.selectedGroup.label,15)," "),e.xp6(2),e.Q6J("nzType","caret-down")}}function X0(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",22),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw(3);return e.KtG(o.changeGroup(s))}),e.TgZ(1,"span",23),e._uU(2),e.qZA()()}if(2&r){const A=i.$implicit,t=e.oxw(3);e.Q6J("nzSelected",A.value===t.selectedGroup.value),e.xp6(2),e.Oqu(A.label)}}function $0(r,i){if(1&r&&(e.TgZ(0,"nz-space",12),e.YNc(1,V0,2,0,"label",13),e.YNc(2,W0,5,9,"button",14),e.TgZ(3,"nz-dropdown-menu",null,15)(5,"ul",16),e.YNc(6,X0,3,2,"li",17),e.qZA()()()),2&r){const A=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",A.service.GROUP_BY_OPTIONS)("ngForTrackBy",A.trackById)}}function e2(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"worklenz-wl-task-list-row",36,37),e.NdJ("onShowSubTasks",function(n){e.CHM(A);const s=e.MAs(2),o=e.oxw(2).$implicit,h=e.oxw(4);return e.KtG(h.unuseFunc(n,s,o.id))})("onOpenTask",function(n){e.CHM(A);const s=e.oxw(6);return e.KtG(s.openTask(n))}),e.qZA(),e.BQk()}if(2&r){const A=i.$implicit,t=e.oxw(6);e.xp6(1),e.ekj("selected",(null==t.selectedTask?null:t.selectedTask.id)===A.id),e.Q6J("task",A)}}function t2(r,i){1&r&&(e.TgZ(0,"div",38),e._uU(1," No tasks available "),e.qZA())}function n2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",29),e._UZ(1,"worklenz-task-list-header",30),e.YNc(2,e2,3,3,"ng-container",31),e.YNc(3,t2,2,0,"div",32),e.TgZ(4,"div",33,34)(6,"worklenz-member-task-add-container",35),e.NdJ("focusChange",function(n){e.CHM(A);const s=e.MAs(5),o=e.oxw(5);return e.KtG(o.handleFocusChange(n,s))}),e.qZA()()()}if(2&r){const A=e.oxw().$implicit,t=e.oxw(4);e.xp6(1),e.Q6J("groupId",A.id),e.xp6(1),e.Q6J("ngForOf",A.tasks)("ngForTrackBy",t.trackById),e.xp6(1),e.Q6J("ngIf",!A.tasks.length),e.xp6(3),e.Q6J("projectId",t.projectId)("teamMember",t.teamMember)("groupId",A.id)}}function A2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw(4);return e.KtG(o.toggleCollapse(s))}),e._UZ(2,"span",27),e._uU(3),e.qZA(),e.YNc(4,n2,7,7,"div",28),e.qZA()}if(2&r){const A=i.$implicit;e.xp6(1),e.Udp("background-color",A.color_code),e.xp6(1),e.Q6J("nzType",null!=A&&A.isExpand?"down":"right"),e.xp6(1),e.AsE(" ",A.name," (",A.tasks.length,") "),e.xp6(1),e.Q6J("ngIf",A&&(null==A?null:A.isExpand))}}function r2(r,i){if(1&r&&(e.ynx(0),e.YNc(1,A2,5,6,"div",24),e.BQk()),2&r){const A=e.oxw(3);e.xp6(1),e.Q6J("rxForOf",A.groups)("rxForTrackBy",A.trackById)}}function s2(r,i){if(1&r&&(e.ynx(0),e.YNc(1,r2,2,2,"ng-container",11),e.BQk()),2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=A.activeTab)}}function o2(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"nz-tabset",6),e.NdJ("nzSelectedIndexChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.tabChange(n))}),e.TgZ(2,"nz-tab",7),e._UZ(3,"worklenz-overview-tab",8),e.qZA(),e._UZ(4,"nz-tab",7)(5,"nz-tab",7)(6,"nz-tab",7)(7,"nz-tab",7),e.qZA(),e.YNc(8,$0,7,2,"nz-space",9),e.TgZ(9,"nz-skeleton",10),e.YNc(10,s2,2,1,"ng-container",11),e.qZA(),e.BQk()}if(2&r){const A=e.oxw();e.xp6(1),e.Q6J("nzAnimated",!1)("nzType","card")("nzSelectedIndex",A.activeTab),e.xp6(1),e.Q6J("nzTitle","Overview"),e.xp6(1),e.Q6J("teamMember",A.teamMember)("projectId",A.projectId),e.xp6(1),e.Q6J("nzTitle","All Tasks"),e.xp6(1),e.Q6J("nzTitle","Tasks without Start date"),e.xp6(1),e.Q6J("nzTitle","Tasks without End date"),e.xp6(1),e.Q6J("nzTitle","Tasks without Start & End dates"),e.xp6(1),e.Q6J("ngIf",0!=A.activeTab),e.xp6(1),e.ekj("p-4",A.loading),e.Q6J("nzActive",!0)("nzLoading",A.loadingGroups),e.xp6(1),e.Q6J("ngIf",A.teamMember)}}function a2(r,i){if(1&r&&(e._UZ(0,"nz-avatar",40),e.ALo(1,"firstCharUpper")),2&r){const A=e.oxw(2);e.Udp("background-color",A.teamMember.avatar_url?"#ececec":A.getColor(A.teamMember.name)),e.Q6J("nzSize",28)("nzText",e.lcZ(1,5,A.teamMember.name))("nzSrc",A.teamMember.avatar_url)}}function c2(r,i){if(1&r&&(e.YNc(0,a2,2,7,"nz-avatar",39),e._uU(1)),2&r){const A=e.oxw();e.Q6J("ngIf",A.teamMember),e.xp6(1),e.hij(" ",null==A.teamMember?null:A.teamMember.name,"\n")}}function l2(r,i){1&r&&e._UZ(0,"span",41),2&r&&e.Q6J("nzType","close")("nzTheme","outline")}let d2=(()=>{var r;class i{get show(){return this._show}set show(t){t!==this._show&&(this._show=t)}get groups(){return this.service.groups}get selectedGroup(){return this.service.getCurrentGroup()}constructor(t,n,s,o,h,p,_,B,x,y,v,M){var E=this;this.cdr=t,this.api=n,this.ngZone=s,this.map=o,this.socket=h,this.renderer=p,this.service=_,this.utils=B,this.statusesApi=x,this.prioritiesApi=y,this.phasesApi=v,this.taskViewService=M,this._show=!1,this.teamMember=null,this.projectId=null,this.activeTab=0,this.showChange=new e.vpe,this.onOpenTask=new e.vpe,this.DRAWER_CLOSE_TIME=100,this.BODY_STYLE={padding:0,overflowX:"hidden",overflowY:"auto"},this.loading=!1,this.loadingGroups=!1,this.loadingStatuses=!1,this.loadingPriorities=!1,this.loadingPhases=!1,this.loadingCategories=!1,this.groupIds=[],this.selectedTask=null,this.categories=[],this.service.setCurrentGroup(this.service.GROUP_BY_OPTIONS[0]),this.taskViewService.onSingleMemberChange.pipe((0,Pt.sL)()).subscribe(function(){var Z=(0,ce.Z)(function*(I){I===E.teamMember?.team_member_id&&(yield E.getGroups(!1)),E.cdr.markForCheck()});return function(I){return Z.apply(this,arguments)}}()),this.taskViewService.onDelete.pipe((0,Pt.sL)()).subscribe(function(){var Z=(0,ce.Z)(function*(I){E.init()});return function(I){return Z.apply(this,arguments)}}()),this.service.onRemoveMembersTask.pipe((0,Pt.sL)()).subscribe(Z=>{this.service.deleteTask(Z)})}tabChange(t){switch(this.activeTab=t,t){case 0:this.service.emitUpdateOverviewCharts();break;case 1:this.service.currentTab="",this.getGroups(!0);break;case 2:this.service.currentTab="start_date_null",this.getGroups(!0);break;case 3:this.service.currentTab="end_date_null",this.getGroups(!0);break;case 4:this.service.currentTab="start_end_dates_null",this.getGroups(!0)}}init(){this.service.isSubtasksIncluded=!0,t0.JD.all([this.tabChange(this.activeTab),this.getStatuses(),this.getPriorities(),this.getCategories(),this.getPhases()])}getConf(t){const n={id:this.projectId,members:this.teamMember?this.teamMember.team_member_id:"",archived:!1,group:this.service.getCurrentGroup().value,isSubtasksInclude:!1,dateChecker:this.service.currentTab};return t&&(n.parent_task=t),n}getGroups(t=!0){var n=this;return(0,ce.Z)(function*(){if(n.projectId&&n.teamMember){try{n.map.deselectAll(),n.loadingGroups=t;const s=n.getConf();s.isSubtasksInclude=n.service.isSubtasksIncluded;const o=yield n.api.getTasksByMember(s);if(o.done){const h=(0,st.I8)(o.body);n.groupIds=h.map(p=>p.id),n.mapTasks(h),n.service.groups=h}n.loadingGroups=!1}catch{n.loadingGroups=!1}n.cdr.markForCheck()}})()}mapTasks(t){for(const n of t){this.map.registerGroup(n);for(const s of n.tasks)s.start_date&&(s.start_date=new Date(s.start_date)),s.end_date&&(s.end_date=new Date(s.end_date))}}getStatuses(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{t.loadingStatuses=!0;const n=yield t.statusesApi.get(t.projectId);n.done&&(t.service.statuses=n.body),t.loadingStatuses=!1}catch{t.loadingStatuses=!1}})()}getPriorities(){var t=this;return(0,ce.Z)(function*(){try{t.loadingPriorities=!0;const n=yield t.prioritiesApi.get();n.done&&(t.service.priorities=n.body),t.loadingPriorities=!1}catch{t.loadingPriorities=!1}})()}getCategories(){var t=this;return(0,ce.Z)(function*(){try{t.loadingCategories=!0;const n=yield t.statusesApi.getCategories();n.done&&(t.categories=n.body),t.loadingCategories=!1}catch{t.loadingCategories=!1}})()}getPhases(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{const n=yield t.phasesApi.get(t.projectId);n.done&&(t.service.phases=n.body)}catch{}})()}handleCancel(){this._show&&(this._show=!1,this.showChange.emit(this._show))}onVisibilityChange(t){t&&setTimeout(()=>this.init(),this.DRAWER_CLOSE_TIME)}getColor(t){return Ot.Lj[t?.charAt(0).toUpperCase()||"A"]}trackById(t,n){return n.id}openTask(t){this.onOpenTask.emit(t),this.cdr.markForCheck()}toggleCollapse(t){var n=this;return(0,ce.Z)(function*(){n.isTaskListGroup(t)&&(t.isExpand=!t.isExpand),n.cdr.detectChanges()})()}isTaskListGroup(t){return void 0!==t.tasks}toggleFocusCls(t,n){t?this.renderer.addClass(n,this.service.HIGHLIGHT_COL_CLS):this.renderer.removeClass(n,this.service.HIGHLIGHT_COL_CLS)}changeGroup(t){this.service.setCurrentGroup(t),this.init()}handleFocusChange(t,n){this.ngZone.runOutsideAngular(()=>{this.toggleFocusCls(t,n)})}unuseFunc(t,n,s){}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(kg),e.Y36(e.R0b),e.Y36(jl),e.Y36(Kt.s),e.Y36(e.Qsj),e.Y36(ii),e.Y36(JA.F),e.Y36(Uo.w),e.Y36(Xe.s),e.Y36(n0.f),e.Y36(Lr.f))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-member-tasks-drawer"]],inputs:{show:"show",teamMember:"teamMember",projectId:"projectId",activeTab:"activeTab"},outputs:{showChange:"showChange",onOpenTask:"onOpenTask"},decls:8,vars:9,consts:[[3,"nzVisible","nzWidth","nzBodyStyle","nzCloseIcon","nzTitle","nzWrapClassName","nzOnClose","nzVisibleChange"],[1,"d-block"],[4,"nzDrawerContent"],["titleTemplate",""],["iconTemplate",""],[3,"teamMemberId","projectId","groups"],[1,"task-drawer-tabset","pb-0",3,"nzAnimated","nzType","nzSelectedIndex","nzSelectedIndexChange"],[3,"nzTitle"],[3,"teamMember","projectId"],["class","align-items-center p-skel mb-3",4,"ngIf"],[1,"p-skel",3,"nzActive","nzLoading"],[4,"ngIf"],[1,"align-items-center","p-skel","mb-3"],["class","ms-1",4,"nzSpaceItem"],["nz-button","","nz-dropdown","","class","ms-1",3,"nzTrigger","nzDropdownMenu","nzClickHide",4,"nzSpaceItem"],["groupByMenu",""],["nz-menu",""],["class","m-0","nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ms-1"],["nz-button","","nz-dropdown","",1,"ms-1",3,"nzTrigger","nzDropdownMenu","nzClickHide"],["nz-tooltip","",3,"nzTooltipTitle"],["nz-icon","",3,"nzType"],["nz-menu-item","",1,"m-0",3,"nzSelected","click"],["nz-typography",""],["class","mb-3",4,"rxFor","rxForOf","rxForTrackBy"],[1,"mb-3"],[1,"group-heading","cursor-pointer",3,"click"],["nz-icon","","nzTheme","outline",1,"me-2",3,"nzType"],["class","tasks-container",4,"ngIf"],[1,"tasks-container"],[3,"groupId"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","tasks-empty-placeholder d-flex align-items-center mb-0 ps-3","nz-typography","","nzType","secondary",4,"ngIf"],[1,"new-task-input"],["td1",""],[3,"projectId","teamMember","groupId","focusChange"],[3,"task","onShowSubTasks","onOpenTask"],["row",""],["nz-typography","","nzType","secondary",1,"tasks-empty-placeholder","d-flex","align-items-center","mb-0","ps-3"],["class","me-2",3,"nzSize","nzText","background-color","nzSrc",4,"ngIf"],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-icon","",3,"nzType","nzTheme"]],template:function(t,n){if(1&t&&(e.TgZ(0,"nz-drawer",0),e.NdJ("nzOnClose",function(){return n.handleCancel()})("nzVisibleChange",function(o){return n.onVisibilityChange(o)})("nzVisibleChange",function(o){return n.show=o}),e.TgZ(1,"div",1),e.YNc(2,o2,11,16,"ng-container",2),e.qZA()(),e.YNc(3,c2,2,2,"ng-template",null,3,e.W1O),e.YNc(5,l2,1,2,"ng-template",null,4,e.W1O),e._UZ(7,"worklenz-wl-context-menu",5)),2&t){const s=e.MAs(4),o=e.MAs(6);e.Q6J("nzVisible",n.show)("nzWidth",920)("nzBodyStyle",n.BODY_STYLE)("nzCloseIcon",o)("nzTitle",s)("nzWrapClassName","task-form-drawer-opened task-view"),e.xp6(7),e.Q6J("teamMemberId",n.teamMember?n.teamMember.team_member_id:null)("projectId",n.projectId)("groups",n.groups)}},dependencies:[Ie.sg,Ie.O5,Vt.ix,Wt.w,an.dQ,es.xH,es.xw,zt.Ls,Ut.ZU,yA.Dz,Zt.SY,Mn.ng,HA.NU,HA.$1,lA.Vz,lA.SQ,zn.wO,zn.r9,cn.cm,cn.RR,cn.wA,Hm._,C0,P0,j0,R0,q0,Nr.I,Os.p],styles:[".group-heading[_ngcontent-%COMP%]{max-width:max-content;width:max-content;padding:6px 16px 6px 6px;border-top-right-radius:4px;border-top-left-radius:4px}.p-skel[_ngcontent-%COMP%]{padding-left:24px}.tasks-container[_ngcontent-%COMP%]{max-width:880px;overflow-x:auto}.new-task-input[_ngcontent-%COMP%]{padding-left:4px;padding-top:4px;padding-bottom:4px;border-bottom:1px solid #f0f0f0;border-right:1px solid #f0f0f0;border-left:1px solid #f0f0f0;max-width:880px;overflow-x:auto;position:sticky;left:0}.tasks-empty-placeholder[_ngcontent-%COMP%]{width:100%;height:42px;background:#fafafa;border-left:1px solid #f0f0f0;border-right:1px solid #f0f0f0;left:0;position:sticky}"],changeDetection:0}),i})();const u2=["scroller"],h2=["fixed_right_column"],p2=["fixed_left_column"],f2=["custom_tooltip_element"],g2=["duration_indicator"];function m2(r,i){if(1&r&&(e.TgZ(0,"div",8),e.ynx(1),e.TgZ(2,"div",9)(3,"div",10),e._UZ(4,"img",11),e.qZA(),e.TgZ(5,"span",12),e._uU(6,"No tasks have been assigned to project members."),e.qZA(),e.TgZ(7,"a",13),e._uU(8,"Assign tasks to members."),e.qZA()(),e.BQk(),e.qZA()),2&r){const A=e.oxw();e.xp6(7),e.Q6J("href","/worklenz/projects/"+A.projectId+"?group=status",e.LSH)}}function _2(r,i){if(1&r&&(e._UZ(0,"nz-avatar",55),e.ALo(1,"firstCharUpper")),2&r){const A=e.oxw(2).$implicit,t=e.oxw(3);e.Udp("background-color",A.avatar_url?"#ececec":t.getColor(A.name)),e.Q6J("nzSize",28)("nzText",e.lcZ(1,5,A.name))("nzSrc",A.avatar_url)}}function w2(r,i){1&r&&(e.TgZ(0,"span",56),e._uU(1," No start date or end date assigned "),e.qZA())}function v2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"span",56)(1,"span",57),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2).$implicit;return e.oxw(3).afterViewScrollHandler(s.indicator_offset),e.KtG(n.stopPropagation())}),e._uU(2),e.ALo(3,"date"),e.qZA(),e._uU(4," - "),e.TgZ(5,"span",57),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2).$implicit;return e.oxw(3).afterViewScrollHandler(s.indicator_offset+s.indicator_width),e.KtG(n.stopPropagation())}),e._uU(6),e.ALo(7,"date"),e.qZA()()}if(2&r){const A=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.xi3(3,2,A.tasks_start_date,"MMM dd, YY")," "),e.xp6(4),e.hij(" ",e.xi3(7,5,A.tasks_end_date,"MMM dd, YY")," ")}}function C2(r,i){1&r&&e._UZ(0,"span",58),2&r&&e.Q6J("nzTooltipTitle","Duration of allocated tasks")}function B2(r,i){if(1&r&&(e.TgZ(0,"div",59),e._UZ(1,"nz-badge",60),e.TgZ(2,"span"),e._uU(3,"Total tasks "),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"div",59),e._UZ(7,"nz-badge",60),e.TgZ(8,"span"),e._uU(9,"Tasks without Start date "),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"div",59),e._UZ(13,"nz-badge",60),e.TgZ(14,"span"),e._uU(15,"Tasks without End date "),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",59),e._UZ(19,"nz-badge",60),e.TgZ(20,"span"),e._uU(21,"Tasks without Start and End dates "),e.qZA(),e.TgZ(22,"span"),e._uU(23),e.qZA()()),2&r){const A=e.oxw(2).$implicit;e.xp6(1),e.Q6J("nzColor","#fff"),e.xp6(4),e.hij("(",A.tasks_stats.total,")"),e.xp6(2),e.Q6J("nzColor","#F8A9A98C"),e.xp6(4),e.hij("(",A.tasks_stats.null_start_dates,")"),e.xp6(2),e.Q6J("nzColor","#F9A0A0BF"),e.xp6(4),e.hij("(",A.tasks_stats.null_end_dates,")"),e.xp6(2),e.Q6J("nzColor","#F7A7A7E5"),e.xp6(4),e.hij("(",A.tasks_stats.null_start_end_dates,")")}}function b2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",39),e.NdJ("mouseover",function(){e.CHM(A);const n=e.oxw(),s=n.index,o=n.$implicit;e.oxw();const h=e.MAs(14),p=e.oxw(2);return e.KtG(p.hoverInMember(s,h,p.getColor(o.name)))})("mouseleave",function(){e.CHM(A);const n=e.oxw().index;e.oxw();const s=e.MAs(14),o=e.oxw(2);return e.KtG(o.hoverOutMember(n,s))}),e.TgZ(1,"div",40),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.openMember(n,0))}),e.YNc(2,_2,2,7,"nz-avatar",41),e.TgZ(3,"div",42)(4,"div",43),e._uU(5),e.qZA(),e.TgZ(6,"div",44),e.YNc(7,w2,2,0,"span",45),e.YNc(8,v2,8,8,"span",45),e.YNc(9,C2,1,1,"span",46),e.qZA()()(),e.TgZ(10,"div",47)(11,"div",48)(12,"div",49)(13,"div",50),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.openMember(n,2))}),e.qZA(),e.TgZ(14,"div",51),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.openMember(n,3))}),e.qZA(),e.TgZ(15,"div",52),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.openMember(n,4))}),e.qZA(),e.TgZ(16,"div",53),e.NdJ("click",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.openMember(n,1))}),e.qZA()()(),e.YNc(17,B2,24,8,"ng-template",null,54,e.W1O),e.qZA()()}if(2&r){const A=e.MAs(18),t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",t.name),e.xp6(2),e.Q6J("nzTooltipTitle",t.name),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",!t.tasks_start_date&&!t.tasks_end_date),e.xp6(1),e.Q6J("ngIf",t.tasks_start_date&&t.tasks_end_date),e.xp6(1),e.Q6J("ngIf",t.tasks_start_date||t.tasks_end_date),e.xp6(2),e.Q6J("nzTooltipTitle",A)("nzTooltipPlacement","right"),e.xp6(2),e.Udp("width",t.tasks_stats.null_start_dates_percentage+"%"),e.xp6(1),e.Udp("width",t.tasks_stats.null_end_dates_percentage+"%"),e.xp6(1),e.Udp("width",t.tasks_stats.null_start_end_dates_percentage+"%"),e.xp6(1),e.Udp("width",t.tasks_stats.available_start_end_dates_percentage+"%")}}function x2(r,i){if(1&r&&(e._UZ(0,"nz-avatar",55),e.ALo(1,"firstCharUpper")),2&r){const A=e.oxw(2).$implicit,t=e.oxw(3);e.Udp("background-color",A.avatar_url?"#ececec":t.getColor(A.name)),e.Q6J("nzSize",28)("nzText",e.lcZ(1,5,A.name))("nzSrc",A.avatar_url)}}function y2(r,i){if(1&r&&(e.TgZ(0,"div",61)(1,"div",62),e.YNc(2,x2,2,7,"nz-avatar",41),e.TgZ(3,"div",63)(4,"div",64),e._uU(5),e.qZA(),e.TgZ(6,"div",59)(7,"span",56),e._uU(8," No tasks assigned yet "),e.qZA()()()(),e.TgZ(9,"div",65)(10,"a",13),e._uU(11,"Assign Tasks"),e.qZA()()()),2&r){const A=e.oxw().$implicit,t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",A.name),e.xp6(2),e.Q6J("nzTooltipTitle",A.name),e.xp6(1),e.hij(" ",A.name," "),e.xp6(5),e.Q6J("href","/worklenz/projects/"+t.projectId+"?group=status",e.LSH)}}function T2(r,i){if(1&r&&(e.TgZ(0,"div",36),e.YNc(1,b2,19,16,"div",37),e.YNc(2,y2,12,4,"div",38),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("ngIf",!A.not_allocated),e.xp6(1),e.Q6J("ngIf",A.not_allocated)}}function k2(r,i){if(1&r&&(e.TgZ(0,"div",17)(1,"div",66),e._uU(2),e.qZA()()),2&r){const A=i.$implicit,t=e.oxw(3);e.xp6(1),e.Udp("min-width",A.days.length*t.GANNT_COLUMN_WIDTH+"px"),e.xp6(1),e.hij(" ",A.month," ")}}const jm=function(r,i){return[r,i]};function Q2(r,i){if(1&r&&(e.TgZ(0,"div",68)(1,"div",69)(2,"div",70),e._uU(3),e.qZA(),e.TgZ(4,"div",71),e._uU(5),e.qZA()()()),2&r){const A=i.$implicit,t=e.oxw(4);e.Udp("min-width",t.GANNT_COLUMN_WIDTH+"px")("max-width",t.GANNT_COLUMN_WIDTH+"px"),e.xp6(1),e.Q6J("ngClass",e.WLB(7,jm,A.isWeekend?"weekend":"",A.isToday?"today today-bg":"")),e.xp6(2),e.hij(" ",A.name," "),e.xp6(2),e.hij(" ",A.day," ")}}function F2(r,i){if(1&r&&(e.TgZ(0,"div",17),e.YNc(1,Q2,6,10,"div",67),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("rxForOf",A.days)}}function z2(r,i){if(1&r&&e._UZ(0,"div",73),2&r){const A=i.$implicit,t=e.oxw(4);e.Udp("min-width",t.GANNT_COLUMN_WIDTH+"px"),e.Q6J("ngClass",e.WLB(3,jm,A.isWeekend?"weekend":"",A.isToday?"today":""))}}function U2(r,i){if(1&r&&(e.TgZ(0,"div",17),e.YNc(1,z2,1,6,"div",72),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("rxForOf",A.days)}}function S2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",36)(1,"div",74)(2,"div",75,76),e.NdJ("mouseover",function(n){const o=e.CHM(A).$implicit,h=e.MAs(3);e.oxw();const p=e.MAs(14),_=e.oxw(2);return e.KtG(_.hoverInIndicator(h,p,_.getColor(o.name),n,o))})("mouseleave",function(){e.CHM(A);const n=e.MAs(3);e.oxw();const s=e.MAs(14),o=e.oxw(2);return e.KtG(o.hoverOutIndicator(n,s))})("click",function(){const s=e.CHM(A).$implicit,o=e.oxw(3);return e.KtG(o.openMember(s,0))}),e.qZA()()()}if(2&r){const A=i.$implicit;e.xp6(2),e.Udp("background-color","#d9e3ee")("border-color","#adb5bd")("width",A.indicator_width+"px")("left",A.indicator_offset+"px")}}function I2(r,i){if(1&r&&(e.TgZ(0,"div",17)(1,"div",18,19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"span",23),e._uU(7,"Member"),e.qZA()()()(),e.TgZ(8,"div",24),e.YNc(9,T2,3,2,"div",25),e.qZA()(),e.TgZ(10,"div",26,27)(12,"div",28),e._UZ(13,"div",29,30),e.TgZ(15,"div",31),e.YNc(16,k2,3,3,"div",32),e.qZA(),e.TgZ(17,"div",33),e.YNc(18,F2,2,1,"div",32),e.qZA()(),e.TgZ(19,"div",34)(20,"div",35),e.YNc(21,U2,2,1,"div",32),e.qZA(),e.YNc(22,S2,5,8,"div",25),e.qZA()()()),2&r){const A=e.oxw(2);e.xp6(9),e.Q6J("rxForOf",A.workloadMembers),e.xp6(3),e.Udp("width",A.numberOfDays*A.GANNT_COLUMN_WIDTH+"px"),e.xp6(4),e.Q6J("rxForOf",A.months),e.xp6(2),e.Q6J("rxForOf",A.months),e.xp6(1),e.Udp("width",A.numberOfDays*A.GANNT_COLUMN_WIDTH+"px"),e.xp6(2),e.Q6J("rxForOf",A.months),e.xp6(1),e.Q6J("rxForOf",A.workloadMembers)}}function M2(r,i){if(1&r&&(e.TgZ(0,"div",14)(1,"div",15),e.YNc(2,I2,23,9,"div",16),e.qZA()()),2&r){const A=e.oxw();e.xp6(2),e.Q6J("ngIf",A.workloadMembers.length)}}function E2(r,i){if(1&r&&(e.TgZ(0,"span",77),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&r){const A=e.oxw();e.xp6(1),e.AsE("From ",e.xi3(2,2,A.customToolTipStartDate,"MMM dd, YYYY")," to ",e.xi3(3,5,A.customToolTipEndDate,"MMM dd, YYYY"),"")}}function L2(r,i){1&r&&(e.TgZ(0,"span",77),e._uU(1,"No start & end date"),e.qZA())}let N2=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B,x){var y=this;this.api=t,this.cdr=n,this.ngZone=s,this.socket=o,this.route=h,this.service=p,this.taskViewService=_,this.auth=B,this.timerService=x,this.GANNT_COLUMN_WIDTH=30,this.showTaskModal=!1,this.showMemberModal=!1,this.selectedTaskId=null,this.selectedTeamMember=null,this.initialScroll=0,this.numberOfDays=0,this.activeTab=0,this.projectId=null,this.chartStart=null,this.chartEnd=null,this.customToolTipStartDate=null,this.customToolTipEndDate=null,this.customToolTipLeft=null,this.customToolTipTop=null,this.months=[],this.workloadMembers=[],this.selectedTask=null,this.loading=!1,this.isResized=!1,this.refresh=function(){var v=(0,ce.Z)(function*(M){yield y.init(!1)});return function(M){return v.apply(this,arguments)}}(),this.projectId=this.route.snapshot.paramMap.get("id"),this.taskViewService.onViewBackFrom.pipe((0,Pt.sL)()).subscribe(v=>{this.handleTaskSelectFromView({id:v.parent_task_id,project_id:v.project_id})}),this.taskViewService.onDelete.pipe((0,Pt.sL)()).subscribe(function(){var v=(0,ce.Z)(function*(M){M.parent_task_id&&y.handleTaskSelectFromView({id:M.parent_task_id,project_id:y.projectId}),yield y.refresh(!1)});return function(M){return v.apply(this,arguments)}}()),this.service.onRemoveMembersTask.pipe((0,Pt.sL)()).subscribe(function(){var v=(0,ce.Z)(function*(M){yield y.refresh(!1)});return function(M){return v.apply(this,arguments)}}()),this.timerService.onSubmitOrUpdate.pipe((0,Pt.sL)()).subscribe((0,ce.Z)(function*(){yield y.refresh(!1)})),this.service.onRefreshMembers().pipe((0,Pt.sL)()).subscribe((0,ce.Z)(function*(){yield y.getMembers(!1)})),this.taskViewService.onSingleMemberChange.pipe((0,Pt.sL)()).subscribe(v=>{this.init(!1)})}ngOnInit(){var t=this;return(0,ce.Z)(function*(){yield t.init(!0),t.socket.on(Ne.C.TASK_START_DATE_CHANGE.toString(),t.refresh),t.socket.on(Ne.C.TASK_END_DATE_CHANGE.toString(),t.refresh)})()}ngOnDestroy(){this.socket.removeListener(Ne.C.TASK_START_DATE_CHANGE.toString(),this.refresh),this.socket.removeListener(Ne.C.TASK_END_DATE_CHANGE.toString(),this.refresh)}init(t){var n=this;return(0,ce.Z)(function*(){yield n.createChart(t),yield n.getMembers(t)})()}createChart(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId&&n.auth.getCurrentSession()?.timezone_name)try{n.loading=t;const s=yield n.api.getGanntDates(n.projectId,n.auth.getCurrentSession()?.timezone_name?n.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone);s.done&&(n.months=s.body.date_data,n.numberOfDays=s.body.width,n.initialScroll=s.body.scroll_by,n.chartStart=s.body.chart_start,n.chartEnd=s.body.chart_end),n.cdr.markForCheck()}catch(s){(0,st.tu)(s),n.cdr.markForCheck()}})()}getMembers(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId&&n.auth.getCurrentSession()?.timezone_name)try{const s=yield n.api.getWorkloadMembers(n.projectId,n.auth.getCurrentSession()?.timezone_name?n.auth.getCurrentSession()?.timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone);s.done&&(n.workloadMembers=s.body,yield n.initScrollHandler(t),n.cdr.markForCheck())}catch(s){(0,st.tu)(s),n.loading=!1,n.cdr.markForCheck()}})()}getColor(t){return Ot.Lj[t?.charAt(0).toUpperCase()||"A"]}initScrollHandler(t){var n=this;return(0,ce.Z)(function*(){n.ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.fixed_right_column&&t&&(n.fixed_right_column.nativeElement.scrollLeft=n.initialScroll-2*Ot.b3,n.scrollListner())},100)}),n.loading=!1,n.cdr.markForCheck()})()}afterViewScrollHandler(t){this.ngZone.runOutsideAngular(()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.classList.add("scroll-animation"),this.fixed_right_column.nativeElement.scrollLeft=t-2*Ot.b3,setTimeout(()=>{this.fixed_right_column&&this.fixed_right_column.nativeElement.classList.remove("scroll-animation")},125))}),this.cdr.markForCheck()}scrollListner(){this.ngZone.runOutsideAngular(()=>{this.fixed_left_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_right_column&&(this.fixed_right_column.nativeElement.scrollTop=this.fixed_left_column?.nativeElement.scrollTop)}),this.fixed_right_column?.nativeElement.addEventListener("scroll",()=>{this.fixed_left_column&&(this.fixed_left_column.nativeElement.scrollTop=this.fixed_right_column?.nativeElement.scrollTop)})})}handleTaskSelectFromView(t){this.showTaskModal=!1,setTimeout(()=>{t&&this.openTask(t)},Ot.GR),this.cdr.detectChanges()}openTask(t){this.selectedTask=t,this.showTaskModal=!0,this.cdr.markForCheck()}onShowChange(t){t||(this.selectedTask=null)}openMember(t,n){this.selectedTeamMember=t,this.activeTab=n,this.showMemberModal=!0,this.cdr.markForCheck()}hoverInIndicator(t,n,s,o,h){this.ngZone.runOutsideAngular(()=>{this.setIndicatorHoverStyle(t,s),this.setHighlighterStyle(n,t,s),this.setCustomTooltipStyle(o,h),this.cdr.detectChanges()})}hoverOutIndicator(t,n){this.ngZone.runOutsideAngular(()=>{this.removeIndicatorHoverStyle(t),this.removeHighlighterStyle(n),this.removeCustomTooltipStyle(),this.cdr.detectChanges()})}hoverInMember(t,n,s){this.ngZone.runOutsideAngular(()=>{if(this.duration_indicators){const o=this.duration_indicators.toArray()[t].nativeElement;this.setIndicatorHoverStyle(o,s),this.setHighlighterStyle(n,o,s),this.cdr.detectChanges()}})}hoverOutMember(t,n){this.ngZone.runOutsideAngular(()=>{if(this.duration_indicators){const s=this.duration_indicators.toArray()[t].nativeElement;this.removeIndicatorHoverStyle(s),this.removeHighlighterStyle(n),this.cdr.detectChanges()}})}setIndicatorHoverStyle(t,n){t.style.backgroundColor=n+"69",t.style.borderColor="transparent",t.style.top="7px",t.style.bottom="7px"}removeIndicatorHoverStyle(t){t.style.backgroundColor="#d9e3ee",t.style.borderColor="#adb5bd",t.style.top="10px",t.style.bottom="10px"}setHighlighterStyle(t,n,s){t.style.backgroundColor=s+"70",t.style.left=n.style.left,t.style.width=n.style.width}removeHighlighterStyle(t){t.style.backgroundColor="transparent",t.style.left="0px",t.style.width="0px"}setCustomTooltipStyle(t,n){this.customToolTipLeft=t.clientX+15,this.customToolTipTop=t.clientY,this.customToolTipStartDate=n.tasks_start_date,this.customToolTipEndDate=n.tasks_end_date,this.custom_tooltip_element&&(this.custom_tooltip_element.nativeElement.style.opacity=1,this.custom_tooltip_element.nativeElement.style.scale=1),this.cdr.detectChanges()}removeCustomTooltipStyle(){this.customToolTipLeft=null,this.customToolTipTop=null,this.customToolTipStartDate=null,this.customToolTipEndDate=null,this.custom_tooltip_element&&(this.custom_tooltip_element.nativeElement.style.opacity=0,this.custom_tooltip_element.nativeElement.style.scale=0)}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(kg),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Kt.s),e.Y36(wt.gz),e.Y36(ii),e.Y36(Lr.f),e.Y36(yn.e),e.Y36(e0.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-workload-gaant-chart-v2"]],viewQuery:function(t,n){if(1&t&&(e.Gf(u2,5),e.Gf(h2,5),e.Gf(p2,5),e.Gf(f2,5),e.Gf(g2,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.scroller=s.first),e.iGM(s=e.CRH())&&(n.fixed_right_column=s.first),e.iGM(s=e.CRH())&&(n.fixed_left_column=s.first),e.iGM(s=e.CRH())&&(n.custom_tooltip_element=s.first),e.iGM(s=e.CRH())&&(n.duration_indicators=s)}},decls:9,vars:18,consts:[[1,"d-block",3,"nzActive","nzLoading"],["class","d-block mt-3 px-3",4,"ngIf"],["class","gannt",4,"ngIf"],[1,"custom-tooltip-element"],["custom_tooltip_element",""],["class","text-white",4,"ngIf"],[3,"activeTab","show","projectId","teamMember","onOpenTask","showChange"],[3,"show","selfResetTaskId","projectId","taskId","showChange"],[1,"d-block","mt-3","px-3"],[1,"pt-4","pb-5","text-center"],[1,"no-data-img-holder","mx-auto","mb-3"],["src","/assets/images/empty-box.webp","alt","",1,"img-fluid"],["nz-typography","",1,"no-data-text"],["nz-typography","",3,"href"],[1,"gannt"],[1,""],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"fixed-left-column"],["fixed_left_column",""],[1,"top-left-placeholder",2,"background-color","#fafafa"],[1,"d-flex","align-items-center","ps-3","h-default"],[1,"member-details"],["nz-typography","",1,"th-text"],[1,"tasks"],["class","task-name-row",4,"rxFor","rxForOf"],[1,"fixed-right-column"],["fixed_right_column",""],[1,"top"],[1,"highlighter"],["highlighter",""],[1,"d-flex","month-name"],["class","d-flex",4,"rxFor","rxForOf"],[1,"d-flex",2,"min-height","45px","max-height","45px"],[1,"middle"],[1,"day-cells","d-flex"],[1,"task-name-row"],["class","single-member d-flex align-items-center ps-3 cursor-pointer hover-light-blue",3,"mouseover","mouseleave",4,"ngIf"],["class","single-member d-flex align-items-center ps-3 na-member na-member-name",4,"ngIf"],[1,"single-member","d-flex","align-items-center","ps-3","cursor-pointer","hover-light-blue",3,"mouseover","mouseleave"],[1,"d-flex","align-items-center","member-details",3,"click"],["class","me-2",3,"nzSize","nzText","background-color","nzSrc",4,"ngIf"],[1,"d-block","name-ellipsis"],["nz-tooltip","",1,"d-block","ellipsis",3,"nzTooltipTitle"],[1,"d-block","mt-2","mb-0"],["nz-typography","","class","m-duration-text",4,"ngIf"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],[1,"member-stats"],["nz-tooltip","",1,"stat-indicator",3,"nzTooltipTitle","nzTooltipPlacement"],[1,"indicator-bars","d-flex","overflow-hidden"],[1,"bar-no-start-date",3,"click"],[1,"bar-no-end-date",3,"click"],[1,"bar-no-start-end-date",3,"click"],[1,"bar-have-start-end-date",3,"click"],["tooltipMember",""],[1,"me-2",3,"nzSize","nzText","nzSrc"],["nz-typography","",1,"m-duration-text"],[1,"navigator",3,"click"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","",3,"nzTooltipTitle"],[1,"d-block"],[3,"nzColor","nzText"],[1,"single-member","d-flex","align-items-center","ps-3","na-member","na-member-name"],[1,"d-flex","align-items-center","member-details"],[1,"d-block","name-ellipsis","ellipsis"],["nz-tooltip","",1,"d-block",3,"nzTooltipTitle"],[1,"d-block","d-flex","align-items-center"],[1,"month-boundary"],["class","day-boundary",3,"min-width","max-width",4,"rxFor","rxForOf"],[1,"day-boundary"],[1,"d-block","text-center",3,"ngClass"],[1,"d-name"],[1,"d-day"],["class","inner-day-cell",3,"ngClass","min-width",4,"rxFor","rxForOf"],[1,"inner-day-cell",3,"ngClass"],[1,"single-member","position-relative"],[1,"duration-indicator","cursor-pointer","d-flex","align-items-center",3,"mouseover","mouseleave","click"],["elementIn","","duration_indicator",""],[1,"text-white"]],template:function(t,n){1&t&&(e.TgZ(0,"nz-skeleton",0),e.YNc(1,m2,9,1,"div",1),e.YNc(2,M2,3,1,"div",2),e.TgZ(3,"div",3,4),e.YNc(5,E2,4,8,"span",5),e.YNc(6,L2,2,0,"span",5),e.qZA()(),e.TgZ(7,"worklenz-member-tasks-drawer",6),e.NdJ("onOpenTask",function(o){return n.openTask(o)})("showChange",function(o){return n.showMemberModal=o}),e.qZA(),e.TgZ(8,"worklenz-task-view",7),e.NdJ("showChange",function(o){return n.showTaskModal=o})("showChange",function(o){return n.onShowChange(o)}),e.qZA()),2&t&&(e.Q6J("nzActive",!0)("nzLoading",n.loading),e.xp6(1),e.Q6J("ngIf",!n.workloadMembers.length),e.xp6(1),e.Q6J("ngIf",n.workloadMembers.length),e.xp6(1),e.Udp("left",n.customToolTipLeft+"px")("top",n.customToolTipTop+"px"),e.xp6(2),e.Q6J("ngIf",n.customToolTipStartDate&&n.customToolTipEndDate),e.xp6(1),e.Q6J("ngIf",!n.customToolTipStartDate&&!n.customToolTipEndDate),e.xp6(1),e.Q6J("activeTab",n.activeTab)("show",n.showMemberModal)("projectId",n.projectId)("teamMember",n.selectedTeamMember),e.xp6(1),e.Q6J("show",n.showTaskModal)("selfResetTaskId",!1)("projectId",(null==n.selectedTask?null:n.selectedTask.project_id)||null)("taskId",(null==n.selectedTask?null:n.selectedTask.id)||null))},dependencies:[Ie.mk,Ie.O5,Wt.w,zt.Ls,Ut.ZU,yA.Dz,Zt.SY,Mn.ng,fr.x7,ei.E,Hm._,d2,Ie.uU,Nr.I],styles:['.gannt[_ngcontent-%COMP%]{border-top:1px solid #f0f0f0;border-bottom:1px solid #f0f0f0}.top[_ngcontent-%COMP%], .top-left-placeholder[_ngcontent-%COMP%]{max-height:70px;min-height:70px;position:sticky;top:0;z-index:1;background:white}.top-left-placeholder[_ngcontent-%COMP%]{width:100%;right:0;box-shadow:0 1px #f0f0f0}.fixed-left-column[_ngcontent-%COMP%], .fixed-right-column[_ngcontent-%COMP%]{overflow-y:auto;min-height:calc(100vh - 220px);max-height:calc(100vh - 220px);will-change:transform;transition:scroll-behavior .125s ease}.fixed-left-column[_ngcontent-%COMP%]{min-width:500px;max-width:500px;overflow-x:scroll;box-shadow:10px 0 8px -8px #00000026;border-left:1px solid #f0f0f0;z-index:9}.member-details[_ngcontent-%COMP%]{max-width:270px;min-width:270px}.scroll-animation[_ngcontent-%COMP%]{scroll-behavior:smooth}.fixed-right-column[_ngcontent-%COMP%]{position:relative;overflow-x:scroll;box-shadow:1px 0 #f0f0f0}.single-member[_ngcontent-%COMP%], .day-boundary-inner[_ngcontent-%COMP%], .single-member-task[_ngcontent-%COMP%], .h-default[_ngcontent-%COMP%]{min-height:60px;max-height:60px}.single-member-task[_ngcontent-%COMP%]{box-shadow:1px 1px #f0f0f0}.single-member[_ngcontent-%COMP%]{border-bottom:1px solid #f0f0f0;padding-left:7px;transition:.25s all}.single-member.active[_ngcontent-%COMP%]{background:#f8f7f9}.m-t-name[_ngcontent-%COMP%]{min-width:270px;max-width:270px}.m-t-start-date[_ngcontent-%COMP%], .m-t-end-date[_ngcontent-%COMP%]{min-width:100px;max-width:100px}.task-bar[_ngcontent-%COMP%]{background:#d9d9d9;position:absolute;min-height:22px;max-height:22px;border-radius:4px;overflow:hidden;z-index:0;cursor:move;transition:.125s all}.duration-indicator[_ngcontent-%COMP%]{position:absolute;border-radius:4px;top:10px;bottom:10px;overflow:hidden;z-index:0;transition:.125s all;border:1px solid}.day-boundary[_ngcontent-%COMP%]{position:relative;box-shadow:-1px 1px #f0f0f0}.month-boundary[_ngcontent-%COMP%]{box-shadow:-1px 0 #f0f0f0;padding-left:14px;background:#e6f7ff}.resize-handle[_ngcontent-%COMP%]{position:absolute;width:5px;height:100%;cursor:col-resize;background-color:#ccc}.left-handle[_ngcontent-%COMP%]{left:0}.right-handle[_ngcontent-%COMP%]{right:0}.active-hover-bg[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]{position:absolute;top:0;height:100%}.weekend[_ngcontent-%COMP%]{background:linear-gradient(-45deg,rgba(230,230,230,.5) 12.5%,transparent 12.5%,transparent 50%,rgba(230,230,230,.5) 50%,rgba(230,230,230,.5) 62.5%,transparent 62.5%,transparent) 0% 0%/5px 5px}.middle[_ngcontent-%COMP%]{position:relative}.day-cells[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;height:100%;z-index:-1}.inner-day-cell[_ngcontent-%COMP%]{box-shadow:-1px 1px #f0f0f0;height:100%}.bar-top[_ngcontent-%COMP%]{padding-top:11px}.name-ellipsis[_ngcontent-%COMP%]{max-width:200px;line-height:14px}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stat-indicator[_ngcontent-%COMP%], .indicator-bars[_ngcontent-%COMP%]{border-radius:4px}.indicator-bars[_ngcontent-%COMP%]{min-width:185px;max-width:185px}.stat-indicator[_ngcontent-%COMP%], .indicator-bars[_ngcontent-%COMP%], .bar-no-start-date[_ngcontent-%COMP%], .bar-no-end-date[_ngcontent-%COMP%], .bar-no-start-end-date[_ngcontent-%COMP%], .bar-have-start-end-date[_ngcontent-%COMP%]{min-height:26px;max-height:26px}.bar-no-start-date[_ngcontent-%COMP%]{background:rgba(248,169,169,.55);transition:.2s all}.bar-no-start-date[_ngcontent-%COMP%]:hover{background:rgba(248,146,146,.85)}.bar-no-end-date[_ngcontent-%COMP%]{background:rgba(249,160,160,.75);transition:.2s all}.bar-no-end-date[_ngcontent-%COMP%]:hover{background:rgba(248,146,146,.9)}.bar-no-start-end-date[_ngcontent-%COMP%]{background:rgba(247,167,167,.9);transition:.2s all}.bar-no-start-end-date[_ngcontent-%COMP%]:hover{background:rgb(248,146,146)}.bar-have-start-end-date[_ngcontent-%COMP%]{background:#f0f0f0;transition:.2s all}.m-duration-text[_ngcontent-%COMP%]{color:#000000a6;font-size:12px}.today[_ngcontent-%COMP%]{position:relative}.today[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;top:0;bottom:0;width:2px;z-index:-1;background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]{background:rgba(24,143,249,.6509803922)}.today-bg[_ngcontent-%COMP%]:after{display:none}.today-bg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff}.highlighter[_ngcontent-%COMP%]{position:absolute;top:25px;bottom:0;z-index:-1}.d-name[_ngcontent-%COMP%]{font-size:13px}.d-day[_ngcontent-%COMP%]{line-height:25px}.month-name[_ngcontent-%COMP%]{min-height:25px;max-height:25px}.hover-light-blue[_ngcontent-%COMP%]{transition:.25s all}.hover-light-blue[_ngcontent-%COMP%]:hover{background-color:#f8f7f9}.custom-tooltip-element[_ngcontent-%COMP%]{position:absolute;opacity:0;scale:0;z-index:999;padding:6px 8px;color:#fff;text-align:left;text-decoration:none;word-wrap:break-word;background-color:#4a4a4a;border-radius:4px;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;transition:.25s scale}.no-data-img-holder[_ngcontent-%COMP%]{max-width:100px}.navigator[_ngcontent-%COMP%]{transition:.25s all}.navigator[_ngcontent-%COMP%]:hover{color:#1890ff}.th-text[_ngcontent-%COMP%]{color:#000000d9;font-weight:500}'],changeDetection:0}),i})();var Qg=oe(6192);function O2(r,i){1&r&&e._UZ(0,"nz-skeleton-element",29),2&r&&e.Q6J("nzActive",!0)("nzSize","default")}function P2(r,i){if(1&r&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&r){const A=e.oxw(2);e.Q6J("nzTooltipTitle",A.project.name),e.xp6(1),e.hij(" ",A.project&&A.project.name," ")}}function D2(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"nz-tag",36),e._uU(2),e.qZA(),e.BQk()),2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzColor",A.project.category_color),e.xp6(1),e.hij(" ",A.project.category_name," ")}}function H2(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw(4);e.xp6(1),e.hij("Start date : ",e.xi3(2,1,A.project.start_date,"mediumDate"),"")}}function Z2(r,i){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw(4);e.xp6(1),e.hij("End date : ",e.xi3(2,1,A.project.end_date,"mediumDate"),"")}}function j2(r,i){if(1&r&&(e.YNc(0,H2,3,4,"div",11),e.YNc(1,Z2,3,4,"div",11)),2&r){const A=e.oxw(3);e.Q6J("ngIf",A.project.start_date),e.xp6(1),e.Q6J("ngIf",A.project.end_date)}}function R2(r,i){if(1&r&&(e.TgZ(0,"span",37),e._UZ(1,"span",38),e.YNc(2,j2,2,2,"ng-template",null,39,e.W1O),e.qZA()),2&r){const A=e.MAs(3);e.xp6(1),e.Q6J("nzType","calendar")("nzTooltipTitle",A)}}function G2(r,i){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,P2,2,2,"div",31),e.TgZ(2,"div",32),e.YNc(3,D2,3,2,"ng-container",11),e._UZ(4,"span",33),e.ALo(5,"safeString"),e.ALo(6,"safeString"),e.YNc(7,R2,4,2,"span",34),e.qZA()()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngIf",A.project&&A.project.name),e.xp6(2),e.Q6J("ngIf",A.project.category_name),e.xp6(1),e.Udp("color",A.project.status_color),e.Q6J("nzType",e.lcZ(5,7,A.project.status_icon))("nzTooltipTitle",e.lcZ(6,9,A.project.status)),e.xp6(3),e.Q6J("ngIf",A.project.start_date||A.project.end_date)}}function K2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.showDescriptionModel=!0)}),e._uU(1," (Show more) "),e.qZA()}}function J2(r,i){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const A=e.oxw();e.xp6(1),e.hij(" ",A.project.notes," ")}}function Y2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return n.refresh(),e.KtG(n.trackRefresh())}),e._UZ(1,"span",42),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("nzTooltipTitle","Refresh project"),e.xp6(1),e.Q6J("nzSpin",A.refreshing)("nzTheme","outline")}}function q2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.openTemplateCreateDrawer())}),e._UZ(1,"span",43),e.qZA()}2&r&&(e.Q6J("nzTooltipTitle","Save as template"),e.xp6(1),e.Q6J("nzTheme","outline"))}function V2(r,i){1&r&&(e.ynx(0),e.YNc(1,q2,2,2,"button",10),e.BQk())}function W2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.openProjectForm())}),e._UZ(1,"span",44),e.qZA()}2&r&&e.Q6J("nzTooltipTitle","Project settings")}function X2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.toggleProjectSubscription())}),e._UZ(1,"span",46),e._uU(2),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("nzTooltipTitle","Receive a project summary every evening.")("nzShape","round")("nzType","default"),e.xp6(1),e.Q6J("nzTheme",A.project.subscribed?"fill":"outline"),e.xp6(1),e.hij(" ",A.project.subscribed?"Unsubscribe":"Subscribe"," ")}}function $2(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.openInviteMembersDrawer())}),e._UZ(1,"span",49),e._uU(2," Invite "),e.qZA()}}function ew(r,i){1&r&&(e.ynx(0),e.YNc(1,$2,3,0,"button",47),e.BQk())}function tw(r,i){if(1&r&&(e.TgZ(0,"button",53),e._UZ(1,"span",54),e.qZA()),2&r){e.oxw(2);const A=e.MAs(26);e.Q6J("nzDropdownMenu",A)}}function nw(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-button-group")(1,"button",50),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.openCreateTaskModal())}),e._UZ(2,"span",51),e._uU(3," Create Task "),e.qZA(),e.YNc(4,tw,2,1,"button",52),e.qZA()}if(2&r){const A=e.oxw();e.xp6(1),e.Q6J("nzLoading",A.creatingTask),e.xp6(3),e.Q6J("ngIf",A.ownerOrAdmin)}}function Aw(r,i){1&r&&e._UZ(0,"span",62)}function rw(r,i){1&r&&e._UZ(0,"span",63)}function iw(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw(2).$implicit,o=e.oxw();return n.stopPropagation(),e.KtG(o.updatePinnedView(s.index))}),e.TgZ(1,"span",59),e.YNc(2,Aw,1,0,"span",60),e.YNc(3,rw,1,0,"span",61),e.qZA()()}if(2&r){const A=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngClass",A.isPinned?"rotated":""),e.xp6(1),e.Q6J("ngIf",!A.isPinned),e.xp6(1),e.Q6J("ngIf",A.isPinned)}}const sw=function(r){return{tab:r}},Rm=function(){return["."]};function ow(r,i){if(1&r&&(e.TgZ(0,"span",56),e._uU(1),e.YNc(2,iw,4,3,"button",57),e.qZA()),2&r){const A=e.oxw().$implicit,t=e.oxw();e.Q6J("queryParams",e.VKq(6,sw,A.tab))("routerLink",e.DdM(8,Rm))("queryParamsHandling","merge")("ngClass",t.selectedTabIndex===A.index?"active":""),e.xp6(1),e.hij(" ",A.label," "),e.xp6(1),e.Q6J("ngIf",0===A.index||1===A.index)}}function aw(r,i){1&r&&(e.TgZ(0,"nz-tab"),e.YNc(1,ow,3,9,"span",55),e.qZA())}function cw(r,i){1&r&&e._UZ(0,"span",66)}const lw=function(){return{tab:"updates"}};function dw(r,i){if(1&r&&(e.TgZ(0,"a",64),e._uU(1,"Updates "),e.YNc(2,cw,1,0,"span",65),e.qZA()),2&r){const A=e.oxw();e.Q6J("queryParams",e.DdM(4,lw))("routerLink",e.DdM(5,Rm))("queryParamsHandling","merge"),e.xp6(2),e.Q6J("ngIf",A.enableBadge&&7!==A.selectedTabIndex)}}function uw(r,i){1&r&&(e.TgZ(0,"div",72),e._UZ(1,"worklenz-task-list-table"),e.qZA())}function hw(r,i){if(1&r&&e._UZ(0,"worklenz-project-insights",74),2&r){const A=e.oxw(3);e.Q6J("projectName",A.project.name)}}function pw(r,i){if(1&r&&(e.ynx(0),e.YNc(1,hw,1,1,"worklenz-project-insights",73),e.BQk()),2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.project.name)}}function fw(r,i){1&r&&e._UZ(0,"worklenz-all-tasks-attachments")}function gw(r,i){1&r&&e._UZ(0,"worklenz-project-members")}function mw(r,i){1&r&&e._UZ(0,"worklenz-project-updates")}function _w(r,i){1&r&&e._UZ(0,"worklenz-kanban-board")}function ww(r,i){1&r&&e._UZ(0,"worklenz-workload-gaant-chart-v2")}function vw(r,i){1&r&&e._UZ(0,"worklenz-project-roadmap-v2-custom")}function Cw(r,i){if(1&r&&(e.TgZ(0,"div",67),e.ynx(1,68),e.TgZ(2,"div",0),e.YNc(3,uw,2,0,"div",69),e.YNc(4,pw,2,1,"ng-container",70),e.YNc(5,fw,1,0,"worklenz-all-tasks-attachments",70),e.YNc(6,gw,1,0,"worklenz-project-members",70),e.YNc(7,mw,1,0,"worklenz-project-updates",70),e.qZA(),e.TgZ(8,"div",71),e.YNc(9,_w,1,0,"worklenz-kanban-board",70),e.YNc(10,ww,1,0,"worklenz-workload-gaant-chart-v2",70),e.YNc(11,vw,1,0,"worklenz-project-roadmap-v2-custom",70),e.qZA(),e.BQk(),e.qZA()),2&r){const A=e.oxw();e.xp6(1),e.Q6J("ngSwitch",A.selectedTabIndex),e.xp6(2),e.Q6J("ngSwitchCase",0),e.xp6(1),e.Q6J("ngSwitchCase",4),e.xp6(1),e.Q6J("ngSwitchCase",5),e.xp6(1),e.Q6J("ngSwitchCase",6),e.xp6(1),e.Q6J("ngSwitchCase",7),e.xp6(2),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",2),e.xp6(1),e.Q6J("ngSwitchCase",3)}}function Bw(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"worklenz-project-members-form",75),e.NdJ("showChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.showInviteMembersModal=n)}),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("show",A.showInviteMembersModal)("projectId",A.projectId)("isProjectManager",A.isProjectManager())}}function bw(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"worklenz-import-tasks-template",76),e.NdJ("onImportDone",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.importDone())})("onCancel",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.closeImport())}),e.qZA()}if(2&r){const A=e.oxw();e.Q6J("drawerVisible",A.importTemplateVisible)("projectId",A.projectId)}}let xw=(()=>{var r;class i{constructor(t,n,s,o,h,p,_,B,x,y,v,M,E,Z,I,j,X,ie,_e,Se){this.app=t,this.route=n,this.router=s,this.auth=o,this.projectsApiService=h,this.tasksService=p,this.fb=_,this.service=B,this.list=x,this.socket=y,this.notificationSettings=v,this.phasesService=M,this.cdr=E,this.taskView=Z,this.location=I,this.projectFormService=j,this.projectCommentsApi=X,this.projectCommentsService=ie,this.roadmapService=_e,this.projectsService=Se,this.ganttType=ln.au,this.options=[{label:"Group",value:0,icon:"appstore"},{label:"List",value:1,icon:"bars"}],this.tabs=[{label:"Task List",tab:"tasks-list",index:0,isPinned:!1},{label:"Board",tab:"board",index:1,isPinned:!1},{label:"Workload",tab:"workload",index:2,isPinned:!1},{label:"Roadmap",tab:"roadmap",index:3,isPinned:!1},{label:"Insights",tab:"project-insights-member-overview",index:4,isPinned:!1},{label:"Files",tab:"all-attachments",index:5,isPinned:!1},{label:"Members",tab:"members",index:6,isPinned:!1}],this.projects=[],this.project={},this.selectedTask={},this.session=null,this.loading=!0,this.projectId=null,this.selectedTaskId=null,this.refreshing=!1,this.showInviteMembersModal=!1,this.importTemplateVisible=!1,this.taskUpdated=!1,this.creatingTask=!1,this.ownerOrAdmin=!1,this.projectManager=!1,this.showTaskModal=!1,this.showDescriptionModel=!1,this.backButtonClicked=!1,this.selectedTabIndex=0,this.currentTabIndex=0,this.tasksViewMode=0,this.defaultView=0,this.pinnedTabIndex=0,this.enableBadge=!1,this.app.setTitle("Loading..."),this.setProjectId(),this.setDefaultTab(),this.setPinnedTab(),this.tasksSearchForm=this.fb.group({search:[]}),this.notificationSettings.onNotificationClick.pipe((0,Pt.sL)()).subscribe(()=>{this.setProjectId(),this.refresh(),this.getProject(),this.handleTaskViewOpened()}),this.projectFormService.onProjectUpdate.pipe((0,Pt.sL)()).subscribe(()=>{this.getProject()}),this.projectCommentsService.onBadgeDisable.pipe((0,Pt.sL)()).subscribe(()=>{this.enableBadge=!1}),this.session=this.auth.getCurrentSession()}get getLocalUpdatesCount(){if(!this.projectId)return 0;const t=localStorage.getItem("worklenz.project.updates-"+this.projectId);return t?+t:0}hasUnreadUpdates(){return 0===this.getLocalUpdatesCount}ngOnInit(){var t=this;return(0,ce.Z)(function*(){t.ownerOrAdmin=t.auth.isOwnerOrAdmin(),t.projectManager=t.isProjectManager(),t.getProject(),t.handleTaskViewOpened(),t.router.events.pipe((0,Er.h)(n=>n instanceof wt.m2)).subscribe(()=>{t.handleBackNavigation()}),window.onpopstate=n=>{t.backButtonClicked=!0},t.getUpdatesCount(),t.socket.on(Ne.C.NEW_PROJECT_COMMENT_RECEIVED.toString(),()=>{t.enableBadge=!0,t.cdr.detectChanges()})})()}ngOnDestroy(){window.onpopstate=null,this.socket.removeListener(Ne.C.NEW_PROJECT_COMMENT_RECEIVED.toString(),()=>{})}handleBackNavigation(){const t=this.route.snapshot.queryParamMap.get("tab");this.backButtonClicked&&!t&&this.router.navigateByUrl("/worklenz/projects"),this.backButtonClicked=!1}setProjectId(){this.projectId=this.route.snapshot.paramMap.get("id"),this.service.id=this.projectId}openCreateTaskModal(){this.addInstantTask()}isGroupByPhase(){return this.list.getCurrentGroup().value===this.list.GROUP_BY_PHASE_VALUE}isProjectManager(){return!!this.projectsService.projectOwnerTeamMemberId&&this.auth.getCurrentSession()?.team_member_id===this.projectsService.projectOwnerTeamMemberId}addInstantTask(){var t=this;return(0,ce.Z)(function*(){try{t.creatingTask=!0;const n=t.auth.getCurrentSession(),s={name:Ot.qu,project_id:t.projectId??"",reporter_id:n?.id,team_id:n?.team_id,chart_start:t.roadmapService.chartStartDate?t.roadmapService.chartStartDate:""};t.socket.once(Ne.C.QUICK_TASK.toString(),o=>{if(o?.id){t.selectedTask=o,t.selectedTaskId=o.id,t.showTaskModal=!0,t.taskView.emitOpenTask({task_id:o.id||null,project_id:o.project_id||null});const h=t.isGroupByPhase()?Ot.k9:t.list.getGroupIdByGroupedColumn(o);h&&t.list.addTask(o,h),t.service.emitNewTaskCreated(o),pt.s.track(Ve.OE)}t.creatingTask=!1,t.cdr.markForCheck()}),t.socket.emit(Ne.C.QUICK_TASK.toString(),JSON.stringify(s))}catch(n){(0,st.tu)(n),t.creatingTask=!1}t.cdr.markForCheck()})()}getTasks(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{t.loading=!t.taskUpdated,yield t.tasksService.getTasksByProject(t.projectId),t.loading=!1}catch{t.loading=!1}t.cdr.markForCheck()}})()}getUpdatesCount(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{const n=yield t.projectCommentsApi.getCountByProjectId(t.projectId);n&&t.getLocalUpdatesCount<n.body&&(t.enableBadge=!0),t.cdr.markForCheck()}catch(n){(0,st.tu)(n),t.cdr.markForCheck()}})()}getProjectManager(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{yield t.projectsApiService.getProjectManager(t.projectId)}catch(n){(0,st.tu)(n),t.cdr.markForCheck()}})()}onTaskCreateOrUpdate(){this.taskUpdated=!0,this.getTasks(),this.selectedTaskId=null,this.taskUpdated=!1,this.cdr.markForCheck()}getProject(){var t=this;return(0,ce.Z)(function*(){if(t.projectId){try{t.loading=!0;const n=yield t.projectsApiService.getById(t.projectId);if(t.loading=!1,n.done){if(t.project=n.body,t.project&&(t.service.projectOwnerTeamMemberId=t.project.project_manager&&t.auth.getCurrentSession()?.team_member_id===t.project.project_manager?.id?t.project.project_manager.id:null),!t.project)return void t.back();t.project.name&&t.app.setTitle(t.project.name),n.body.phase_label&&t.phasesService.updateLabel(n.body.phase_label)}}catch{t.loading=!1}t.cdr.markForCheck()}})()}tabChanged(t){this.currentTabIndex=t,1!==this.currentTabIndex&&(this.tasksViewMode=0),this.cdr.markForCheck()}openProjectForm(){this.projectId&&(pt.s.track(Ve.Sg),this.projectsForm?.open(this.projectId,!0))}back(){this.router.navigate(["/worklenz/projects"]),this.service.projectOwnerTeamMemberId=null}refresh(){this.refreshing=!0,setTimeout(()=>{this.refreshing=!1,this.cdr.markForCheck()},10)}refreshAll(){setTimeout(()=>{window.location.reload(),this.cdr.markForCheck()},1)}trackRefresh(){pt.s.track(Ve.XL)}setDefaultTab(){if(this.route.snapshot.queryParamMap.get("tab"))switch(this.route.snapshot.queryParamMap.get("tab")){case"tasks-list":default:this.selectedTabIndex=0;break;case"board":this.selectedTabIndex=1;break;case"workload":this.selectedTabIndex=2;break;case"roadmap":this.selectedTabIndex=3;break;case"project-insights-member-overview":this.selectedTabIndex=4;break;case"all-attachments":this.selectedTabIndex=5;break;case"members":this.selectedTabIndex=6;break;case"updates":this.selectedTabIndex=7}else this.router.navigate([],{relativeTo:this.route,queryParams:{tab:this.route.snapshot.queryParamMap.get("tab")},queryParamsHandling:"merge"})}setPinnedTab(){this.route.snapshot.queryParamMap.get("pinned_tab"),this.tabs.forEach(t=>{t.isPinned=!1}),"board"===this.route.snapshot.queryParamMap.get("tab")&&(this.selectedTabIndex=1),"board"===this.route.snapshot.queryParamMap.get("pinned_tab")&&(this.pinnedTabIndex=1),this.tabs[this.pinnedTabIndex].isPinned=!0}openImportTasksDrawer(){pt.s.track(Ve.iE),this.importTemplateVisible=!0,this.cdr.markForCheck()}importDone(){pt.s.track(Ve.Cy),(0,Lf.Xk)(),this.closeImport()}closeImport(){this.importTemplateVisible=!1,this.cdr.markForCheck()}openInviteMembersDrawer(){this.showInviteMembersModal=!0,pt.s.track(Ve.u)}handleTaskViewOpened(){const t=this.route.snapshot.queryParamMap.get("task");t&&(this.selectedTaskId=t,this.showTaskModal=!0,this.cdr.markForCheck())}toggleProjectSubscription(){if(!this.projectId)return;this.project.subscribed=!this.project.subscribed;const t={project_id:this.projectId,user_id:this.session?.id,team_member_id:this.session?.team_member_id,mode:this.project.subscribed?0:1};this.socket.emit(Ne.C.PROJECT_SUBSCRIBERS_CHANGE.toString(),t)}openTemplateCreateDrawer(){this.projectTemplateCreateDrawer.open()}updatePinnedView(t){var n=this;return(0,ce.Z)(function*(){if(n.projectId){try{(yield n.projectsApiService.updateDefaultView(n.projectId,t)).done&&(n.tabs.forEach(o=>{o.isPinned=!1}),n.pinnedTabIndex=t,n.tabs[t].isPinned=!0,n.router.navigate([],{queryParams:{pinned_tab:1===t?"board":"tasks-list"},queryParamsHandling:"merge"}))}catch{}n.cdr.markForCheck(),pt.s.track(Ve.tM)}})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ia.z),e.Y36(wt.gz),e.Y36(wt.F0),e.Y36(yn.e),e.Y36(ji.U),e.Y36(No.c),e.Y36(Pe.qu),e.Y36(Qi.m),e.Y36(YA.b),e.Y36(Kt.s),e.Y36(Pf.g),e.Y36(Il.u),e.Y36(e.sBO),e.Y36(Lr.f),e.Y36(Ie.Ye),e.Y36(qa.s),e.Y36(Ru.L),e.Y36(Ml.k),e.Y36(ti.s),e.Y36(Qi.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-view"]],viewQuery:function(t,n){if(1&t&&(e.Gf(yr.g,5),e.Gf(Ja.p,5),e.Gf(Sl,5)),2&t){let s;e.iGM(s=e.CRH())&&(n.projectsForm=s.first),e.iGM(s=e.CRH())&&(n.projectUpdatesDrawer=s.first),e.iGM(s=e.CRH())&&(n.projectTemplateCreateDrawer=s.first)}},decls:45,vars:27,consts:[[1,"container"],["nzBackIcon","",1,"px-0","project-title-header",3,"nzGhost","nzBack"],["nzType","input","style","width:200px",3,"nzActive","nzSize",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"d-flex",2,"margin-top","4px"],[1,"project-subtitle",3,"ngClass"],[1,"project-subtitle-btn"],["nz-button","","nzType","link","class","m-0","nzSize","small",3,"click",4,"ngIf"],[3,"nzVisible","nzFooter","nzCentered","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],["nz-button","","nz-tooltip","","nzShape","circle","nzType","default",3,"nzTooltipTitle","click",4,"nzSpaceItem"],[4,"ngIf"],["nz-button","","nz-tooltip","",3,"nzTooltipTitle","nzShape","nzType","click",4,"nzSpaceItem"],[4,"nzSpaceItem"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","import","nzTheme","outline"],[1,"d-flex","align-items-center","justify-content-between"],[3,"nzSelectedIndex","nzAnimated","nzSize","nzSelectedIndexChange"],[4,"ngFor","ngForOf"],["nz-tab-link","","class","pe-2",3,"queryParams","routerLink","queryParamsHandling",4,"nzTabLink"],[3,"projectId","refreshing","refresh","refreshAll"],[3,"nzActive","nzLoading"],["class","mt-3",4,"ngIf"],[3,"onDelete","onUpdate"],[3,"show","projectId","isProjectManager","showChange",4,"ngIf"],[3,"drawerVisible","projectId","onImportDone","onCancel",4,"ngIf"],[3,"projectId"],["nzType","input",2,"width","200px",3,"nzActive","nzSize"],[1,"d-flex"],["class","project-title","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],[1,"project-title-icons","d-flex","align-items-center"],["nz-icon","","nz-tooltip","",1,"ms-2",2,"font-size","16px","margin-top","2px",3,"nzType","nzTooltipTitle"],["nz-typography","","nzType","secondary",4,"ngIf"],["nz-tooltip","",1,"project-title",3,"nzTooltipTitle"],[1,"rounded-pill","category-tag","ms-2",3,"nzColor"],["nz-typography","","nzType","secondary"],["nz-icon","","nz-tooltip","",1,"ms-2",2,"font-size","16px",3,"nzType","nzTooltipTitle"],["titleContent",""],["nz-button","","nzType","link","nzSize","small",1,"m-0",3,"click"],["nz-button","","nz-tooltip","","nzShape","circle","nzType","default",3,"nzTooltipTitle","click"],["nz-icon","","nzType","sync",3,"nzSpin","nzTheme"],["nz-icon","","nzType","save",3,"nzTheme"],["nz-icon","","nzTheme","outline","nzType","setting"],["nz-button","","nz-tooltip","",3,"nzTooltipTitle","nzShape","nzType","click"],["nz-icon","","nzType","bell",3,"nzTheme"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight","nzType","primary",3,"nzDropdownMenu",4,"ngIf"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight","nzType","primary",3,"nzDropdownMenu"],["nz-icon","","nzType","down","nzTheme","outline"],["nz-tab-link","","class","me-1 tab-text",3,"queryParams","routerLink","queryParamsHandling","ngClass",4,"nzTabLink"],["nz-tab-link","",1,"me-1","tab-text",3,"queryParams","routerLink","queryParamsHandling","ngClass"],["nz-button","","nzType","text","class","p-0","style","max-width: 20px;",3,"click",4,"ngIf"],["nz-button","","nzType","text",1,"p-0",2,"max-width","20px",3,"click"],[3,"ngClass"],["nz-icon","","nzType","pushpin","nzTheme","outline","class","me-0 pin-icon",4,"ngIf"],["nz-icon","","nzType","pushpin","nzTheme","fill","class","me-0 pin-icon",4,"ngIf"],["nz-icon","","nzType","pushpin","nzTheme","outline",1,"me-0","pin-icon"],["nz-icon","","nzType","pushpin","nzTheme","fill",1,"me-0","pin-icon"],["nz-tab-link","",1,"pe-2",3,"queryParams","routerLink","queryParamsHandling"],["class","updates-badge",4,"ngIf"],[1,"updates-badge"],[1,"mt-3"],[3,"ngSwitch"],["class","position-relative","style","margin-right: -24px;",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"container-fluid"],[1,"position-relative",2,"margin-right","-24px"],[3,"projectName",4,"ngIf"],[3,"projectName"],[3,"show","projectId","isProjectManager","showChange"],[3,"drawerVisible","projectId","onImportDone","onCancel"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nz-page-header",1),e.NdJ("nzBack",function(){return n.back()}),e.TgZ(2,"nz-page-header-title"),e.YNc(3,O2,1,2,"nz-skeleton-element",2),e.YNc(4,G2,8,11,"div",3),e.qZA(),e.TgZ(5,"nz-page-header-subtitle")(6,"div",4)(7,"div",5),e._uU(8),e.ALo(9,"nzEllipsis"),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,K2,2,0,"button",7),e.qZA()()(),e.TgZ(12,"nz-modal",8),e.NdJ("nzVisibleChange",function(o){return n.showDescriptionModel=o})("nzOnCancel",function(){return n.showDescriptionModel=!1}),e.YNc(13,J2,2,1,"ng-container",9),e.qZA(),e.TgZ(14,"nz-page-header-extra")(15,"nz-space"),e.YNc(16,Y2,2,3,"button",10),e.YNc(17,V2,2,0,"ng-container",11),e.ynx(18),e.YNc(19,W2,2,1,"button",10),e.BQk(),e.ynx(20),e.YNc(21,X2,3,5,"button",12),e.BQk(),e.YNc(22,ew,2,0,"ng-container",11),e.ynx(23),e.YNc(24,nw,5,2,"nz-button-group",13),e.TgZ(25,"nz-dropdown-menu",null,14)(27,"ul",15)(28,"li",16),e.NdJ("click",function(){return n.openImportTasksDrawer()}),e._UZ(29,"span",17),e._uU(30,"\xa0 Import Tasks "),e.qZA()()(),e.BQk(),e.qZA()(),e.TgZ(31,"nz-page-header-footer",18)(32,"nz-tabset",19),e.NdJ("nzSelectedIndexChange",function(o){return n.selectedTabIndex=o})("nzSelectedIndexChange",function(o){return n.tabChanged(o)}),e.YNc(33,aw,2,0,"nz-tab",20),e.TgZ(34,"nz-tab"),e.YNc(35,dw,3,6,"a",21),e.qZA()(),e.TgZ(36,"worklenz-project-view-extra",22),e.NdJ("refresh",function(){return n.refresh()})("refreshAll",function(){return n.refreshAll()}),e.qZA()()()(),e.TgZ(37,"div",0),e._UZ(38,"nz-skeleton",23),e.qZA(),e.YNc(39,Cw,12,9,"div",24),e.TgZ(40,"worklenz-project-form-modal",25),e.NdJ("onDelete",function(){return n.back()})("onUpdate",function(){return n.refreshAll()}),e.qZA(),e.YNc(41,Bw,1,3,"worklenz-project-members-form",26),e.YNc(42,bw,1,2,"worklenz-import-tasks-template",27),e._UZ(43,"worklenz-project-updates-drawer")(44,"worklenz-project-template-create-drawer",28)),2&t&&(e.xp6(1),e.Q6J("nzGhost",!1),e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(3),e.Q6J("ngClass",n.project.notes&&n.project.notes.length>60?"ellipsis-on":""),e.xp6(1),e.hij(" ",e.Dn7(9,23,n.project.notes,60,"...")," "),e.xp6(3),e.Q6J("ngIf",n.project.notes&&n.project.notes.length>60),e.xp6(1),e.Q6J("nzVisible",n.showDescriptionModel)("nzFooter",null)("nzCentered",!0),e.xp6(5),e.Q6J("ngIf",n.ownerOrAdmin),e.xp6(5),e.Q6J("ngIf",n.ownerOrAdmin||n.isProjectManager()),e.xp6(10),e.Q6J("nzSelectedIndex",n.selectedTabIndex)("nzAnimated",!1)("nzSize","small"),e.xp6(1),e.Q6J("ngForOf",n.tabs),e.xp6(3),e.Q6J("projectId",n.projectId)("refreshing",n.refreshing),e.xp6(2),e.Q6J("nzActive",!0)("nzLoading",n.refreshing),e.xp6(1),e.Q6J("ngIf",!n.refreshing),e.xp6(2),e.Q6J("ngIf",n.projectId),e.xp6(1),e.Q6J("ngIf",n.projectId),e.xp6(2),e.Q6J("projectId",n.projectId))},dependencies:[Ie.mk,Ie.sg,Ie.O5,Ie.RF,Ie.n9,wt.rH,Oo.du,Oo.Hf,Tr.$O,Tr.u9,Tr.yG,Tr.Jp,Tr.$,Vt.ix,Vt.fY,Wt.w,an.dQ,es.xH,es.xw,es.Ao,es.Fx,zt.Ls,Ut.ZU,AA.j,Zt.SY,Mn.ng,Mn.Xw,Mn.yg,HA.NU,HA.$1,zn.wO,zn.r9,cn.cm,cn.RR,cn.wA,Or,yr.g,Wu,Rf.m,N,Ja.p,Sl,f_,k_,H_,Io,W_,X_,N2,Ie.uU,Qg.N7,VA.m],styles:["nz-page-header-title[_ngcontent-%COMP%]{max-width:60%}nz-page-header-subtitle[_ngcontent-%COMP%]{max-width:35%}.project-title[_ngcontent-%COMP%]{max-width:400px;overflow:hidden;text-overflow:ellipsis}.project-subtitle.ellipsis-on[_ngcontent-%COMP%]{max-width:75%;overflow:hidden;text-overflow:ellipsis}.updates-badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:2px;background-color:#ff4d4f;width:6px;height:6px;border-radius:100%}.tab-text[_ngcontent-%COMP%], .pin-icon[_ngcontent-%COMP%]{color:#1890ff}.rotated[_ngcontent-%COMP%]{transform:rotate(-45deg);transition:.15s all}"],changeDetection:0}),i})(),yw=(()=>{var r;class i{constructor(t){this.api=t,this.import()}import(){var t=this;return(0,ce.Z)(function*(){yield t.api.createTemplates()})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Lc.I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-migrate-templates"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"migrate-templates works!"),e.qZA())}}),i})();var Tw=oe(79207);const kw=[{path:"migrate",component:yw},{path:"migrate/member-allocations",component:(()=>{var r;class i{constructor(t){this.api=t}ngOnInit(){var t=this;return(0,ce.Z)(function*(){(yield t.api.migrateAllocations()).done&&alert("Drop migrate_member_allocations postgres function.")})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(Tw.V))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-migrate-member-allocations"]],decls:0,vars:0,template:function(t,n){}}),i})()},{path:"migrate/project-phases",component:(()=>{var r;class i{constructor(t){this.api=t}ngOnInit(){var t=this;return(0,ce.Z)(function*(){setTimeout((0,ce.Z)(function*(){yield t.api.updateExistPhaseColors()}),500)})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ji.U))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-migrate-project-phases"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"migrate-project-phases works!"),e.qZA())}}),i})()},{path:"migrate/phase-sort-order",component:(()=>{var r;class i{constructor(t){this.api=t}ngOnInit(){var t=this;return(0,ce.Z)(function*(){setTimeout((0,ce.Z)(function*(){yield t.api.updateExistSortOrder()}),500)})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ji.U))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-migrate-phase-sort-order"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"migrate-phase-sort-order works!"),e.qZA())}}),i})()},{path:"",component:jt},{path:"member/:id",component:Ka},{path:":id",component:xw}];let Qw=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[wt.Bz.forChild(kw),wt.Bz]}),i})();var Fw=oe(95717),zw=oe(57907),Fg=oe(70532),Uw=oe(3626),Sw=oe(28538),zg=oe(49388),Ug=oe(8324);let Ew=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[zg.vT,Ie.ez,an.vG,zt.PV,Ug.T]}),i})();var Lw=oe(9526),Sg=oe(33410),lh=oe(57417),Nw=oe(90565),Jo=oe(13080),dh=oe(77920),Gm=oe(68584),Km=oe(21083),LA=oe(96156);function wr(r,i){if((0,qn.Z)(2,arguments),!i||"object"!==(0,en.Z)(i))return new Date(NaN);var A=i.years?(0,LA.Z)(i.years):0,t=i.months?(0,LA.Z)(i.months):0,n=i.weeks?(0,LA.Z)(i.weeks):0,s=i.days?(0,LA.Z)(i.days):0,o=i.hours?(0,LA.Z)(i.hours):0,h=i.minutes?(0,LA.Z)(i.minutes):0,p=i.seconds?(0,LA.Z)(i.seconds):0,_=(0,mA.Z)(r),B=t||A?(0,Km.Z)(_,t+12*A):_,x=s||n?(0,Gm.Z)(B,s+7*n):B,M=1e3*(p+60*(h+60*o));return new Date(x.getTime()+M)}function Jm(r,i){(0,qn.Z)(2,arguments);var A=(0,LA.Z)(i);return(0,Gm.Z)(r,-A)}function Hr(r,i){if((0,qn.Z)(2,arguments),!i||"object"!==(0,en.Z)(i))return new Date(NaN);var A=i.years?(0,LA.Z)(i.years):0,t=i.months?(0,LA.Z)(i.months):0,n=i.weeks?(0,LA.Z)(i.weeks):0,s=i.days?(0,LA.Z)(i.days):0,o=i.hours?(0,LA.Z)(i.hours):0,h=i.minutes?(0,LA.Z)(i.minutes):0,p=i.seconds?(0,LA.Z)(i.seconds):0,_=function Ow(r,i){(0,qn.Z)(2,arguments);var A=(0,LA.Z)(i);return(0,Km.Z)(r,-A)}(r,t+12*A),B=Jm(_,s+7*n),v=1e3*(p+60*(h+60*o));return new Date(B.getTime()-v)}var Rl=oe(26501);function Ym(r){return(0,qn.Z)(1,arguments),(0,mA.Z)(r).getMonth()}function qm(r){var i,A;if((0,qn.Z)(1,arguments),r&&"function"==typeof r.forEach)i=r;else{if("object"!==(0,en.Z)(r)||null===r)return new Date(NaN);i=Array.prototype.slice.call(r)}return i.forEach(function(t){var n=(0,mA.Z)(t);(void 0===A||A>n||isNaN(n.getDate()))&&(A=n)}),A||new Date(NaN)}function Vm(r){var i,A;if((0,qn.Z)(1,arguments),r&&"function"==typeof r.forEach)i=r;else{if("object"!==(0,en.Z)(r)||null===r)return new Date(NaN);i=Array.prototype.slice.call(r)}return i.forEach(function(t){var n=(0,mA.Z)(t);(void 0===A||A<n||isNaN(Number(n)))&&(A=n)}),A||new Date(NaN)}let Wm=(()=>{var r;class i{constructor(t){this.tasksService=t,this.ganttStart="",this.ganttEnd="",this.year="year",this.month="month",this.day="day",this.hour="hour",this.minute="minute",this.second="second",this.millisecond="millisecond",this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.selectedTask={}}parseDate(t,n="-",s=/[.:]/){if(t instanceof Date)return t;if("string"==typeof t){let o,h;const p=t.split(" ");o=p[0].split(n).map(B=>parseInt(B,10)),h=p[1]&&p[1].split(s),o[1]=o[1]-1;let _=o;return h&&h.length&&(4==h.length&&(h[3]="0."+h[3],h[3]=1e3*parseFloat(h[3])),_=_.concat(h)),new Date(..._)}}startOf(t,n){const s={[this.year]:6,[this.month]:5,[this.day]:4,[this.hour]:3,[this.minute]:2,[this.second]:1,[this.millisecond]:0};function o(p){return s[p]<=s[n]}const h=[t.getFullYear(),o(this.year)?0:t.getMonth(),o(this.month)?1:t.getDate(),o(this.day)?0:t.getHours(),o(this.hour)?0:t.getMinutes(),o(this.minute)?0:t.getSeconds(),o(this.second)?0:t.getMilliseconds()];return new Date(...h)}timeDifference(t,n,s=DAY){let o,h,p,_,B,x,y;return o=t-n,h=o/1e3,_=h/60,p=_/60,B=p/24,x=B/30,y=x/12,s.endsWith("s")||(s+="s"),Math.floor({milliseconds:o,seconds:h,minutes:_,hours:p,days:B,months:x,years:y}[s])}setupGanttTasks(t){var n=this;return(0,ce.Z)(function*(){for(let s of t)(!n.ganttStart||s._start<n.ganttStart)&&(n.ganttStart=s._start),(!n.ganttEnd||s._end>n.ganttEnd)&&(n.ganttEnd=s._end);return n.ganttStart=n.startOf(n.ganttStart,"day"),n.ganttEnd=n.startOf(n.ganttEnd,"day"),{end:n.ganttEnd,start:n.ganttStart}})()}getDates(t,n){var s=this;return(0,ce.Z)(function*(){t=Jm(new Date(t),1),n=wr(new Date(n),{weeks:3});let o=[];const h=new Date(t);for(;h<new Date(n);){const p={isSunday:s.isSunday(h),isToday:s.isToday(h),isWeekend:s.isWeekend(h),isLastDayOfWeek:s.isLastDayOfWeek(h),date:new Date(h)};o=[...o,p],h.setDate(h.getDate()+1)}return o=[...o,new Date(n)],o.splice(-1),o})()}getWeekRange(t){var n=this;return(0,ce.Z)(function*(){const s=[];let o=[];for(const h of t){const p=me()(h.date).week(),_=Ym(h.date);if(!o.includes(p)){const B={};B.month_name=n.monthNames[_],B.week_index=p,B.days_of_week=t.filter(x=>me()(x.date).week()===me()(h.date).week()),B.min=t.findIndex(x=>x.date.valueOf()===qm(B.days_of_week.map(y=>y.date)).valueOf()),B.max=t.findIndex(x=>x.date.valueOf()===Vm(B.days_of_week.map(y=>y.date)).valueOf()),o.push(p),s.push(B)}}return s})()}getMonthRange(t){var n=this;return(0,ce.Z)(function*(){const s=[];let o=[];for(const h of t){const p=Ym(h.date);if(!o.includes(p)){const _={};_.month_name=n.monthNames[p],_.month_index=p,_.days_of_month=t.filter(B=>me()(B.date).month()===me()(h.date).month()),_.min=t.findIndex(B=>B.date.valueOf()===qm(_.days_of_month.map(x=>x.date)).valueOf()),_.max=t.findIndex(B=>B.date.valueOf()===Vm(_.days_of_month.map(x=>x.date)).valueOf()),o.push(p),s.push(_)}}return s})()}validateDrag(t){const n=document.querySelector(".grid-scroller");if(!n||this.resizing)return!1;const s=this.dates.findIndex(p=>me()(p.date).isSame(this.selectedTask.start_date,"days")),o=Math.abs(t.x)/this.columnWidth,h=Math.ceil(n.scrollLeft/this.columnWidth);if(t.x>0){const p=Math.floor((n.clientWidth-ln.VT.LEFT)/this.columnWidth);return me()(this.dates[p+h-1]?.date).isSameOrAfter(me()(this.selectedTask.end_date).add(o,"days"))}return!(t.x<0)||Math.ceil(n.scrollLeft/this.columnWidth)<s+1-o}dragStarted(t){this.selectedTask=t}dragEnded(t,n){var s=this;return(0,ce.Z)(function*(){if(s.resizing)return;const o=Math.abs(t.x)/s.columnWidth;t.x>0&&(n.start_date=n.start_date&&wr(new Date(n.start_date),{days:o}),n.end_date=n.end_date&&wr(new Date(n.end_date),{days:o}),n.min=n.min&&n.min+o,n.max=n.max&&n.max+o),t.x<0&&(n.start_date=n.start_date&&Hr(new Date(n.start_date),{days:o}),n.end_date=n.end_date&&Hr(new Date(n.end_date),{days:o}),n.min=n.min&&n.min-o,n.max=n.max&&n.max-o),n.start=me()(n.start_date).format("YYYY-MM-DD"),n.end=me()(n.end_date).format("YYYY-MM-DD"),yield s.tasksService.updateDuration(n,n.id||"")})()}onResizeEnd(t,n){var s=this;return(0,ce.Z)(function*(){const o=t.edges.left&&"number"==typeof t.edges.left?t.edges.left:0,h=t.edges.right&&"number"==typeof t.edges.right?t.edges.right:0;if(o){let p=Math.abs(o)/s.columnWidth;o>0?(n.start_date=me()(n.start_date).add(p,"days").format("YYYY-MM-DD"),n.min=n.min&&n.min+p):(n.start_date=me()(n.start_date).subtract(p,"days").format("YYYY-MM-DD"),n.min=n.min&&n.min-p)}else if(h){let p=Math.abs(h)/s.columnWidth;h>0?(n.end_date=me()(n.end_date).add(p,"days").format("YYYY-MM-DD"),n.max=n.max&&n.max+p):(n.end_date=me()(n.end_date).subtract(p,"days").format("YYYY-MM-DD"),n.max=n.max&&n.max-p)}n.start=me()(n.start_date).format("YYYY-MM-DD"),n.end=me()(n.end_date).format("YYYY-MM-DD"),yield s.tasksService.updateDuration(n,n.id||""),s.selectedTask={},s.resizing=!1})()}openAddModal(t=new Date,n=""){this.showTaskModal=!0}getEdgeValues(t,n){return n.edges[t]||0}getRectangleMargin(t,n){return n.rectangle[t]||0}checkResizeValidity(t,n,s){if(n){let h=Math.abs(n)/this.columnWidth;if(n>0){const p=t.start_date&&wr(new Date(t.start_date),{days:h});return void(t.resize_valid=!(p&&this.dates.some(_=>_.date===p)))}{const p=t.start_date&&Hr(new Date(t.start_date),{days:h});return void(t.resize_valid=!(p&&this.dates.some(_=>_.date===p)))}}let o=Math.abs(s)/this.columnWidth;if(s>0){const h=t.end_date&&wr(new Date(t.end_date),{days:o});t.resize_valid=!(h&&this.dates.some(p=>p.date===h))}else{const h=t.end_date&&Hr(new Date(t.end_date),{days:o});t.resize_valid=!(h&&this.dates.some(p=>p.date===h))}}resizeStarted(t,n){this.resizing=!0,this.selectedTask=n}onResizing(t,n){const s=this.getEdgeValues("left",t),o=this.getEdgeValues("right",t);this.checkResizeValidity(n,s,o)}validateResize(t){const n=document.querySelector(".grid-scroller");if(!n)return!1;let s=this.selectedTask,o=me()(s.start_date).format("YYYY-MM-DD");const h=ln.VT.LEFT+n.scrollLeft,p=n.clientWidth+n.scrollLeft,_=this.getEdgeValues("left",t),B=this.getEdgeValues("right",t),x=this.getRectangleMargin("left",t),y=this.getRectangleMargin("right",t);if(_){let v=Math.abs(_)/this.columnWidth;return!(x<h||(_>0?(o=me()(s.start_date).add(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date())):(o=me()(s.start_date).subtract(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date()))))}if(B){let v=Math.abs(B)/this.columnWidth;return!(p<y||(B>0?(o=me()(s.end_date).add(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date())):(o=me()(s.end_date).subtract(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date()))))}return!0}}return(r=i).\u0275fac=function(t){return new(t||r)(e.LFG(No.c))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),i})();function Pw(r,i){1&r&&e._UZ(0,"nz-empty")}function Dw(r,i){1&r&&e._UZ(0,"nz-empty")}function Hw(r,i){if(1&r&&(e.TgZ(0,"small",21),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.hij("W",A.week_index||-1,"")}}function Zw(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Oqu(A.month_name)}}function jw(r,i){if(1&r&&(e.TgZ(0,"span",18),e.YNc(1,Hw,2,1,"small",19),e.YNc(2,Zw,2,1,"span",20),e._UZ(3,"span"),e.qZA()),2&r){const A=i.$implicit;e.Udp("grid-column",A.min+"/"+A.max),e.xp6(1),e.Q6J("ngIf",A.days_of_week&&A.days_of_week.length>1),e.xp6(1),e.Q6J("ngIf",A.days_of_week&&A.days_of_week.length>2)}}function Rw(r,i){1&r&&e._UZ(0,"div",23),2&r&&e.ekj("sunday",i.$implicit.isSunday)}function Gw(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,A.date,"dd"))}}function Kw(r,i){if(1&r&&(e.TgZ(0,"div",24),e.YNc(1,Gw,3,4,"span",2),e.qZA()),2&r){const A=i.$implicit,t=i.index,n=e.oxw(3);e.ekj("sunday",A.isSunday)("today-header",A.isToday),e.MGl("id","date_",t,""),e.xp6(1),e.Q6J("ngIf",n.viewMode===n.ganttChartViewModes.WEEKS)}}function Jw(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-tag",36),e.NdJ("mouseover",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.getSubTasks(n.id))})("nzTooltipVisibleChange",function(n){e.CHM(A);const s=e.oxw(4);return e.KtG(n?null:s.subTasks=[])}),e._UZ(1,"span",37),e._uU(2),e.qZA()}if(2&r){const A=e.oxw().$implicit,t=e.MAs(6);e.Q6J("nzColor","geekblue")("nzTooltipTitle",t),e.xp6(2),e.hij(" ",A.sub_tasks_count," ")}}function Yw(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Loading..."),e.qZA())}function qw(r,i){1&r&&(e.TgZ(0,"p",40),e._uU(1,"Sub-tasks"),e.qZA())}function Vw(r,i){if(1&r&&(e.TgZ(0,"p",41),e._uU(1),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Oqu(A.name)}}function Ww(r,i){if(1&r&&(e.YNc(0,Yw,2,0,"div",2),e.YNc(1,qw,2,0,"p",38),e.YNc(2,Vw,2,1,"p",39)),2&r){const A=e.oxw(4);e.Q6J("ngIf",A.loadingSubTasks),e.xp6(1),e.Q6J("ngIf",!A.loadingSubTasks),e.xp6(1),e.Q6J("ngForOf",A.subTasks)}}function Xw(r,i){if(1&r&&e._UZ(0,"span",42),2&r){const A=e.oxw().$implicit;e.s9C("nzType",A.show_sub_tasks?"down":"right")}}function $w(r,i){if(1&r&&(e.TgZ(0,"div",44)(1,"span",45),e._UZ(2,"span",46),e.qZA(),e._uU(3),e.qZA()),2&r){const A=i.$implicit,t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("nzTooltipTitle","Sub-task of "+t.name),e.xp6(2),e.hij(" ",A.name," ")}}function ev(r,i){if(1&r&&(e.ynx(0),e.YNc(1,$w,4,2,"div",43),e.BQk()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",A.sub_tasks)}}const Xm=function(){return{left:!0}};function tv(r,i){if(1&r&&e._UZ(0,"span",52),2&r){const A=e.oxw(2).index;e.MGl("id","start_",A,""),e.Q6J("resizeEdges",e.DdM(2,Xm))}}const $m=function(){return{right:!0}};function nv(r,i){1&r&&e._UZ(0,"span",53),2&r&&e.Q6J("resizeEdges",e.DdM(1,$m))}function Av(r,i){if(1&r&&(e.TgZ(0,"p",41)(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"small",41),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()),2&r){const A=e.oxw(2).$implicit;e.xp6(2),e.Oqu(A.name),e.xp6(1),e.hij(" \u2013 ",A.status,""),e.xp6(2),e.AsE("",e.xi3(6,4,A.start_date,"mediumDate")," \u2013 ",e.xi3(7,7,A.end_date,"mediumDate"),"")}}const e1=function(){return{margin:100}},t1=function(){return{x:!0,y:!1}},n1=function(r){return{x:r}},A1=function(r,i){return{left:r,right:i}};function rv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"ul",47)(1,"li",48),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.editModal(s,n))})("dragEnd",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.dragEnded(n,s))})("dragStart",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.dragStarted(n))})("mouseenter",function(){e.CHM(A);const n=e.oxw().$implicit;return e.KtG(n.show_handles=!0)})("mouseleave",function(){e.CHM(A);const n=e.oxw().$implicit;return e.KtG(n.show_handles=!1)})("resizeEnd",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.onResizeEnd(n,s))})("resizeStart",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.resizeStarted(n,s))})("resizing",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.onResizing(n,s))}),e.TgZ(2,"div"),e.YNc(3,tv,1,3,"span",49),e.YNc(4,nv,1,2,"span",50),e.qZA(),e.YNc(5,Av,8,10,"ng-template",null,51,e.W1O),e.qZA()()}if(2&r){const A=e.MAs(6),t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Udp("background-color",t.color_code)("background-color",n.getColor(t.name))("grid-column",t.min+"/"+t.max),e.Q6J("nzTooltipTitle",A)("autoScroll",e.DdM(16,e1))("dragAxis",e.DdM(17,t1))("dragSnapGrid",e.VKq(18,n1,n.columnWidth))("enableGhostResize",!0)("resizeSnapGrid",e.WLB(20,A1,n.columnWidth,n.columnWidth))("validateDrag",n.validateDrag.bind(n))("validateResize",n.validateResize.bind(n)),e.xp6(2),e.Q6J("ngIf",t.show_handles),e.xp6(1),e.Q6J("ngIf",t.show_handles)}}function iv(r,i){if(1&r&&e._UZ(0,"span",52),2&r){const A=e.oxw(3).index;e.MGl("id","start_",A,""),e.Q6J("resizeEdges",e.DdM(2,Xm))}}function sv(r,i){1&r&&e._UZ(0,"span",53),2&r&&e.Q6J("resizeEdges",e.DdM(1,$m))}function ov(r,i){if(1&r&&(e.TgZ(0,"p",41)(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"small",41),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()),2&r){const A=e.oxw(2).$implicit;e.xp6(2),e.Oqu(A.name),e.xp6(1),e.hij(" \u2013 ",A.status,""),e.xp6(2),e.AsE("",e.xi3(6,4,A.start_date,"mediumDate")," \u2013 ",e.xi3(7,7,A.end_date,"mediumDate"),"")}}function av(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",48),e.NdJ("click",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(4);return e.KtG(o.editModal(s,n))})("dragEnd",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(4);return e.KtG(o.dragEnded(n,s))})("dragStart",function(){e.CHM(A);const n=e.oxw().$implicit,s=e.oxw(4);return e.KtG(s.dragStarted(n))})("mouseenter",function(){e.CHM(A);const n=e.oxw().$implicit;return e.KtG(n.show_handles=!0)})("mouseleave",function(){e.CHM(A);const n=e.oxw().$implicit;return e.KtG(n.show_handles=!1)})("resizeEnd",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(4);return e.KtG(o.onResizeEnd(n,s))})("resizeStart",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(4);return e.KtG(o.resizeStarted(n,s))})("resizing",function(n){e.CHM(A);const s=e.oxw().$implicit,o=e.oxw(4);return e.KtG(o.onResizing(n,s))}),e.TgZ(1,"div"),e.YNc(2,iv,1,3,"span",49),e.YNc(3,sv,1,2,"span",50),e.qZA(),e.YNc(4,ov,8,10,"ng-template",null,55,e.W1O),e.qZA()}if(2&r){const A=e.MAs(5),t=e.oxw().$implicit,n=e.oxw(4);e.Udp("background-color",t.color_code)("background-color",n.getColor(t.name))("grid-column",t.min+"/"+t.max),e.Q6J("nzTooltipTitle",A)("autoScroll",e.DdM(16,e1))("dragAxis",e.DdM(17,t1))("dragSnapGrid",e.VKq(18,n1,n.columnWidth))("enableGhostResize",!0)("resizeSnapGrid",e.WLB(20,A1,n.columnWidth,n.columnWidth))("validateDrag",n.validateDrag.bind(n))("validateResize",n.validateResize.bind(n)),e.xp6(2),e.Q6J("ngIf",t.show_handles),e.xp6(1),e.Q6J("ngIf",t.show_handles)}}function cv(r,i){if(1&r&&(e.TgZ(0,"ul",47),e.YNc(1,av,6,23,"li",54),e.qZA()),2&r){const A=i.$implicit;e.xp6(1),e.Q6J("ngIf",A.start_date&&A.end_date)}}function lv(r,i){if(1&r&&e._UZ(0,"div",56),2&r){const A=i.$implicit,t=e.oxw().index;e.Gre("cell-",t,""),e.ekj("sunday",A.isSunday)("today",A.isToday)("weekend",A.isWeekend)}}function dv(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"div",25),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw(3);return e.KtG((s.sub_tasks_count||0)>0?o.showSubTasks(s):null)}),e.TgZ(2,"div",26)(3,"div",27),e.YNc(4,Jw,3,3,"nz-tag",28),e.YNc(5,Ww,3,3,"ng-template",null,29,e.W1O),e.TgZ(7,"div",30)(8,"span"),e._uU(9),e.qZA()()(),e.YNc(10,Xw,1,1,"span",31),e.qZA(),e.YNc(11,ev,2,1,"ng-container",2),e.qZA(),e.TgZ(12,"div",32),e.YNc(13,rv,7,23,"ul",33),e.YNc(14,cv,2,1,"ul",34),e.qZA(),e.YNc(15,lv,1,9,"div",35),e.BQk()}if(2&r){const A=i.$implicit,t=e.oxw(3);e.xp6(1),e.ekj("pb-0",A.show_sub_tasks),e.xp6(1),e.ekj("pb-2",A.show_sub_tasks),e.xp6(2),e.Q6J("ngIf",A.sub_tasks_count),e.xp6(5),e.Oqu(A.name),e.xp6(1),e.Q6J("ngIf",A.sub_tasks_count),e.xp6(1),e.Q6J("ngIf",A.sub_tasks&&A.sub_tasks.length),e.xp6(2),e.Q6J("ngIf",A.start_date&&A.end_date),e.xp6(1),e.Q6J("ngForOf",A.sub_tasks),e.xp6(1),e.Q6J("ngForOf",t.dates)}}function uv(r,i){if(1&r&&(e.TgZ(0,"div")(1,"div",7)(2,"div",8),e._UZ(3,"div",9),e.TgZ(4,"div",10),e.ynx(5),e.TgZ(6,"span",11),e.YNc(7,jw,4,4,"span",12),e.qZA(),e.BQk(),e.qZA(),e.YNc(8,Rw,1,2,"div",13),e._UZ(9,"div",14)(10,"div",15),e.YNc(11,Kw,2,6,"div",16),e.YNc(12,dv,16,11,"ng-container",17),e.qZA()()()),2&r){const A=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",A.weeks),e.xp6(1),e.Q6J("ngForOf",A.dates),e.xp6(3),e.Q6J("ngForOf",A.dates),e.xp6(1),e.Q6J("ngForOf",A.tasks)}}function hv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div")(1,"button",5),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.scrollToday())}),e._uU(2,"Today "),e.qZA(),e.TgZ(3,"div",6)(4,"div",1),e.YNc(5,Dw,1,0,"nz-empty",2),e.YNc(6,uv,13,4,"div",2),e.qZA()()()}if(2&r){const A=e.oxw();e.xp6(5),e.Q6J("ngIf",!A.tasks.length&&!A.loading),e.xp6(1),e.Q6J("ngIf",!A.loading)}}let pv=(()=>{var r;class i{constructor(t,n,s,o,h){this.route=t,this.tasksService=n,this.ganttUtilsService=s,this.subTasksApi=o,this.tvService=h,this.chartType=null,this.resizing=!1,this.ganttChartType=ln.au,this.ganttChartViewModes=ln.fZ,this.viewMode=0,this.options=["Weekly"],this.projects=[],this.tasks=[],this.resourceTasks=[],this.showTaskModal=!1,this.loading=!1,this.loadingSubTasks=!1,this.projectId="",this.selectedTaskId="",this.project={},this.dates=[],this.weeks=[],this.months=[],this.allTasks=[],this.subTasks=[],this.selectedTask={},this.columnWidth=ln.ov.WEEKS,this.todayIndex=0,this.projectId=this.route.snapshot.paramMap.get("id")||"",pt.s.track(Ve.ic)}ngOnInit(){var t=this;return(0,ce.Z)(function*(){yield t.getGanttRoadmap(),t.tvRefreshSubscription=t.tvService.onRefresh.subscribe(()=>{t.getGanttRoadmap()})})()}ngOnDestroy(){this.tvRefreshSubscription?.unsubscribe()}getSubTasks(t){var n=this;return(0,ce.Z)(function*(){if(t)try{n.subTasks=[],n.loadingSubTasks=!0;const s=yield n.subTasksApi.getNames(t);s.done&&(n.subTasks=s.body),n.loadingSubTasks=!1}catch(s){(0,st.tu)(s),n.loadingSubTasks=!1}})()}fetchTasks(){var t=this;return(0,ce.Z)(function*(){yield t.getGanttRoadmap(),-1!==t.todayIndex&&(yield t.scrollToDate(t.todayIndex))})()}getColumnWidth(t){return(0,ce.Z)(function*(){return t===ln.fZ.WEEKS?ln.ov.WEEKS:t===ln.fZ.MONTHS?ln.ov.MONTHS:ln.ov.QUARTERS})()}changeViewMode(t){var n=this;return(0,ce.Z)(function*(){n.viewMode=t,n.columnWidth=yield n.getColumnWidth(t||ln.fZ.WEEKS),document.documentElement.style.setProperty("--column_width",`${n.columnWidth}px`)})()}showModal(){this.showTaskModal=!0}editModal(t,n){var s=this;return(0,ce.Z)(function*(){t&&t.id&&(s.selectedTaskId=t.id,s.showTaskModal=!0,pt.s.track(Ve.pM)),n.preventDefault()})()}getGanttRoadmap(t=!0){var n=this;return(0,ce.Z)(function*(){if(n.projectId)try{t&&(n.loading=!0);const s=yield n.tasksService.getGanttTasksByProject(n.projectId);if(s.done){const o=Math.floor((window.innerHeight-260)/47);if(s.body.tasks&&s.body.tasks?.length<o){const h=o-s.body.tasks?.length;for(let p=0;p<h;p++){const _={};s.body.tasks?.push(_)}}n.tasks=s.body.tasks||[],n.weeks=s.body.weeks||[],n.dates=s.body.dates||[],n.months=s.body.months||[],document.documentElement.style.setProperty("--column_count",n.dates.length.toString()),document.documentElement.style.setProperty("--column_width",`${ln.ov.WEEKS}px`),document.documentElement.style.setProperty("--top-margin","260px"),n.loading=!1}}catch(s){(0,st.tu)(s),n.loading=!1}})()}onTaskCreateOrUpdate(){this.fetchTasks().then(t=>t),this.selectedTaskId=null}prepareTasks(t){var n=this;return(0,ce.Z)(function*(){n.resourceTasks=[],t.forEach(p=>{p&&p.team_members.forEach(_=>{_.tasks?.forEach(B=>{B._start=n.ganttUtilsService.parseDate(B.start),B._end=n.ganttUtilsService.parseDate(B.end),n.allTasks.push(B)})}),n.resourceTasks.push(p)});const{start:s,end:o}=yield n.ganttUtilsService.setupGanttTasks(n.allTasks);n.dates=yield n.ganttUtilsService.getDates(s,o),n.months=yield n.ganttUtilsService.getWeekRange(n.dates),document.documentElement.style.setProperty("--column_count",n.dates.length.toString()),document.documentElement.style.setProperty("--column_width",`${ln.p9.DAYS}px`);const h=n.dates.findIndex(p=>me()(p.date).isSame(me()(),"day"));-1!==h&&(yield n.scrollToDate(h))})()}scrollToday(){const t=this.dates.findIndex(n=>me()(n.date).isSame(me()(),"day"));-1!==t&&this.scrollToDate(t).then(n=>n)}scrollToDate(t){return(0,ce.Z)(function*(){setTimeout(()=>{document.getElementById(`date_${t}`)?.scrollIntoView({behavior:"auto",inline:"center"})},0)})()}getColor(t){return Ot.Lj[t?.charAt(0).toUpperCase()||"A"]}isWeekend(t){return 0==t.getDay()||6==t.getDay()}isSunday(t){return 0==t.getDay()}isLastDayOfWeek(t){return this.isSunday(new Date(t))}isToday(t){return me()().isSame(me()(t).format("YYYY-MM-DD"),"day")}setTaskDateRange(t=new Date,n=new Date){return`${this.dates.findIndex(h=>me()(t).isSame(h.date,"days"))+1} / ${this.dates.findIndex(h=>me()(n).isSame(h.date,"days"))+2}`}getMonthRange(t=this.todayIndex,n=this.todayIndex+3){return`${t+2} / ${n+3}`}closeTaskPopup(t){this.showTaskModal=t}validateDrag(t){const n=document.querySelector(".grid-scroller");if(!n||this.resizing)return!1;const s=this.dates.findIndex(p=>me()(p.date).isSame(this.selectedTask.start_date,"days")),o=Math.abs(t.x)/this.columnWidth,h=Math.ceil(n.scrollLeft/this.columnWidth);if(t.x>0){const p=Math.floor((n.clientWidth-ln.VT.LEFT)/this.columnWidth);return me()(this.dates[p+h-1]?.date).isSameOrAfter(me()(this.selectedTask.end_date).add(o,"days"))}return!(t.x<0)||Math.ceil(n.scrollLeft/this.columnWidth)<s+1-o}dragStarted(t){this.selectedTask=t}dragEnded(t,n){var s=this;return(0,ce.Z)(function*(){if(s.resizing)return;const o=Math.abs(t.x)/s.columnWidth;t.x>0&&(n.start_date=n.start_date&&wr(new Date(n.start_date),{days:o}),n.end_date=n.end_date&&wr(new Date(n.end_date),{days:o}),n.min=n.min&&n.min+o,n.max=n.max&&n.max+o),t.x<0&&(n.start_date=n.start_date&&Hr(new Date(n.start_date),{days:o}),n.end_date=n.end_date&&Hr(new Date(n.end_date),{days:o}),n.min=n.min&&n.min-o,n.max=n.max&&n.max-o),n.start=me()(n.start_date).format("YYYY-MM-DD"),n.end=me()(n.end_date).format("YYYY-MM-DD"),yield s.tasksService.updateDuration(n,n.id||""),pt.s.track(Ve.vP)})()}onResizeEnd(t,n){var s=this;return(0,ce.Z)(function*(){const o=t.edges.left&&"number"==typeof t.edges.left?t.edges.left:0,h=t.edges.right&&"number"==typeof t.edges.right?t.edges.right:0;if(o){let p=Math.abs(o)/s.columnWidth;o>0?(n.start_date=me()(n.start_date).add(p,"days").format("YYYY-MM-DD"),n.min=n.min&&n.min+p):(n.start_date=me()(n.start_date).subtract(p,"days").format("YYYY-MM-DD"),n.min=n.min&&n.min-p)}else if(h){let p=Math.abs(h)/s.columnWidth;h>0?(n.end_date=me()(n.end_date).add(p,"days").format("YYYY-MM-DD"),n.max=n.max&&n.max+p):(n.end_date=me()(n.end_date).subtract(p,"days").format("YYYY-MM-DD"),n.max=n.max&&n.max-p)}n.start=me()(n.start_date).format("YYYY-MM-DD"),n.end=me()(n.end_date).format("YYYY-MM-DD"),yield s.tasksService.updateDuration(n,n.id||""),pt.s.track(Ve.nE),s.selectedTask={},s.resizing=!1})()}openAddModal(t=new Date,n=""){this.showTaskModal=!0}getEdgeValues(t,n){return n.edges[t]||0}getRectangleMargin(t,n){return n.rectangle[t]||0}checkResizeValidity(t,n,s){if(n){let h=Math.abs(n)/this.columnWidth;if(n>0){const p=t.start_date&&wr(new Date(t.start_date),{days:h});return void(t.resize_valid=!(p&&this.dates.some(_=>_.date===p)))}{const p=t.start_date&&Hr(new Date(t.start_date),{days:h});return void(t.resize_valid=!(p&&this.dates.some(_=>_.date===p)))}}let o=Math.abs(s)/this.columnWidth;if(s>0){const h=t.end_date&&wr(new Date(t.end_date),{days:o});t.resize_valid=!(h&&this.dates.some(p=>p.date===h))}else{const h=t.end_date&&Hr(new Date(t.end_date),{days:o});t.resize_valid=!(h&&this.dates.some(p=>p.date===h))}}resizeStarted(t,n){this.resizing=!0,this.selectedTask=n}onResizing(t,n){const s=this.getEdgeValues("left",t),o=this.getEdgeValues("right",t);this.checkResizeValidity(n,s,o)}validateResize(t){const n=document.querySelector(".grid-scroller");if(!n)return!1;let s=this.selectedTask,o=me()(s.start_date).format("YYYY-MM-DD");const h=ln.VT.LEFT+n.scrollLeft,p=n.clientWidth+n.scrollLeft,_=this.getEdgeValues("left",t),B=this.getEdgeValues("right",t),x=this.getRectangleMargin("left",t),y=this.getRectangleMargin("right",t);if(_){let v=Math.abs(_)/this.columnWidth;return!(x<h||(_>0?(o=me()(s.start_date).add(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date())):(o=me()(s.start_date).subtract(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date()))))}if(B){let v=Math.abs(B)/this.columnWidth;return!(p<y||(B>0?(o=me()(s.end_date).add(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date())):(o=me()(s.end_date).subtract(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date()))))}return!0}showSubTasks(t){var n=this;return(0,ce.Z)(function*(){if(t.id||!n.loadingSubTasks)if(n.loadingSubTasks=!0,t.show_sub_tasks=!t.show_sub_tasks,t.show_sub_tasks)try{const s=yield n.subTasksApi.getSubTasksForRoadMap(t.id||"",n.dates);s.done&&(t.sub_tasks=s.body,n.loadingSubTasks=!1)}catch(s){(0,st.tu)(s),n.loading=!1}else t.sub_tasks=[],n.loadingSubTasks=!1})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(wt.gz),e.Y36(No.c),e.Y36(Wm),e.Y36(eh.s),e.Y36(Lr.f))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-roadmap"]],hostBindings:function(t,n){1&t&&e.NdJ("worklenz.tasks.update",function(){return n.onTaskCreateOrUpdate()},!1,e.evT)},inputs:{chartType:"chartType"},standalone:!0,features:[e.jDz],decls:6,vars:7,consts:[[1,"row","bg-white","mx-0"],[1,"col-md-12","p-0"],[4,"ngIf"],[3,"nzActive","nzLoading"],[3,"show","projectId","taskId","showChange","taskIdChange"],["nz-button","","nzType","default",1,"ms-1","btn-primary-custom",3,"click"],[1,"row","bg-white","mt-2","mx-0"],[1,"grid-scroller"],[1,"grid"],[1,"grid-entry","fixed-left","header-bg","grid-entry-top"],[1,"grid-entry","m-0","p-0","month-grid",2,"width","0"],[1,"gantt__row-bars","py-1"],["class","justify-content-between d-flex","style","z-index: 1;",3,"grid-column",4,"ngFor","ngForOf"],["class","grid-entry border-0 header-bg",3,"sunday",4,"ngFor","ngForOf"],[1,"grid-header","fixed-left","top-grid-header"],[1,"grid-header","m-0","p-0"],["class","grid-header",3,"sunday","today-header","id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"justify-content-between","d-flex",2,"z-index","1"],["class","ps-2",4,"ngIf"],["class","month",4,"ngIf"],[1,"ps-2"],[1,"month"],[1,"grid-entry","border-0","header-bg"],[1,"grid-header",3,"id"],["nzEllipsis","",1,"grid-entry","fixed-left","px-0","cursor-pointer","task-entry",2,"min-height","45px",3,"click"],[1,"d-flex","justify-content-between","align-items-center","task-name-cell-padding"],[1,"d-flex"],["class","me-1 ","nz-tooltip","","nzTooltipPlacement","right","nzColor","default","style","height: fit-content;",3,"nzColor","nzTooltipTitle","mouseover","nzTooltipVisibleChange",4,"ngIf"],["subTasksTitle",""],[1,"member","d-block"],["nz-icon","","nzTheme","outline",3,"nzType",4,"ngIf"],[1,"grid-entry","m-0","p-0"],["class","gantt__row-bars",4,"ngIf"],["class","gantt__row-bars",4,"ngFor","ngForOf"],["class","grid-entry",3,"class","sunday","today","weekend",4,"ngFor","ngForOf"],["nz-tooltip","","nzTooltipPlacement","right","nzColor","default",1,"me-1",2,"height","fit-content",3,"nzColor","nzTooltipTitle","mouseover","nzTooltipVisibleChange"],["nz-icon","","nzType","gold","nzTheme","outline",2,"pointer-events","none"],["class","mb-0 border-bottom",4,"ngIf"],["class","mb-0",4,"ngFor","ngForOf"],[1,"mb-0","border-bottom"],[1,"mb-0"],["nz-icon","","nzTheme","outline",3,"nzType"],["class","member sub-task-name-cell",4,"ngFor","ngForOf"],[1,"member","sub-task-name-cell"],["nz-typography","","nzType","secondary","nz-tooltip","",2,"cursor","help",3,"nzTooltipTitle"],["nz-icon","","nzType","gold","nzTheme","outline"],[1,"gantt__row-bars"],["nz-tooltip","","ghostElementPositioning","absolute","mwlDraggable","","mwlResizable","",1,"px-3","py-0",2,"height","22px",3,"nzTooltipTitle","autoScroll","dragAxis","dragSnapGrid","enableGhostResize","resizeSnapGrid","validateDrag","validateResize","click","dragEnd","dragStart","mouseenter","mouseleave","resizeEnd","resizeStart","resizing"],["class","resize-handle-left","mwlResizeHandle","",3,"resizeEdges","id",4,"ngIf"],["class","resize-handle-right","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["contentTemplate",""],["mwlResizeHandle","",1,"resize-handle-left",3,"resizeEdges","id"],["mwlResizeHandle","",1,"resize-handle-right",3,"resizeEdges"],["nz-tooltip","","class","px-3 py-0","ghostElementPositioning","absolute","mwlDraggable","","mwlResizable","","style","height: 22px;",3,"nzTooltipTitle","background-color","autoScroll","dragAxis","dragSnapGrid","enableGhostResize","resizeSnapGrid","grid-column","validateDrag","validateResize","click","dragEnd","dragStart","mouseenter","mouseleave","resizeEnd","resizeStart","resizing",4,"ngIf"],["subContentTemplate",""],[1,"grid-entry"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Pw,1,0,"nz-empty",2),e._UZ(3,"nz-skeleton",3),e.YNc(4,hv,7,2,"div",2),e.qZA()(),e.TgZ(5,"worklenz-task-view",4),e.NdJ("showChange",function(o){return n.showTaskModal=o})("taskIdChange",function(o){return n.selectedTaskId=o}),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.tasks.length&&!n.loading),e.xp6(1),e.Q6J("nzActive",!0)("nzLoading",n.loading),e.xp6(1),e.Q6J("ngIf",n.tasks.length&&!n.loading),e.xp6(1),e.Q6J("show",n.showTaskModal)("projectId",n.projectId)("taskId",n.selectedTaskId))},dependencies:[Ui.Xo,Ui.p9,AA.X,AA.j,Mn.H0,Mn.ng,Ie.O5,Zt.cg,Zt.SY,Ie.sg,dh.Vk,dh.pD,Jo.ym,Jo.E$,Jo.mC,Ut.ZJ,Ut.ZU,Vt.sL,Vt.ix,Wt.w,an.dQ,Ie.uU,zt.PV,zt.Ls,Rl.z,ei.E],styles:['body[_ngcontent-%COMP%]{margin:0}.grid-scroller[_ngcontent-%COMP%]{position:relative;overflow:auto;height:calc(100vh - var(--top-margin))}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px 0 repeat(var(--column_count),var(--column_width));width:calc(250px + var(--column_count) * var(--column_width))}.grid-entry[_ngcontent-%COMP%]{padding:12px 7px;background-color:#fff;border-left:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1}.grid-entry.last[_ngcontent-%COMP%], .grid-header.last[_ngcontent-%COMP%]{border-right:none}.grid-header[_ngcontent-%COMP%]{background-color:#fafafa;padding:2px;font-weight:500;font-size:11px;color:#202125;position:sticky;top:0;z-index:4;border:1px solid #ededed;text-align:center;line-height:13px}.grid-header.fixed-left[_ngcontent-%COMP%]{z-index:5}.fixed-left[_ngcontent-%COMP%]{position:sticky;left:0;z-index:2;border-bottom:1px solid #f1f1f1;border-left:1px solid #f1f1f1;border-right:1.4px solid #B5B4B4}.placeholder[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:95;border-right:none}mwlResizable[_ngcontent-%COMP%]{box-sizing:border-box}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;cursor:row-resize;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;cursor:col-resize;width:9px;height:18px;background:#ffffff;border:none;border-radius:1px;top:0;bottom:0;margin:auto 1px}.resize-handle-right[_ngcontent-%COMP%]:after, .resize-handle-left[_ngcontent-%COMP%]:after{content:"||";position:absolute;display:inline-block;inset:0;color:#929292;line-height:19px;font-weight:400;margin:auto;width:max-content}.gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;box-shadow:0 0 2px #00000040}.gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:transparent!important}.gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .resize-handle-left[_ngcontent-%COMP%], .gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .resize-handle-right[_ngcontent-%COMP%]{box-shadow:0 0 2px #00000073}.member[_ngcontent-%COMP%]{color:#2f4f4f}.resize-handle-left[_ngcontent-%COMP%]{left:0}.resize-handle-right[_ngcontent-%COMP%]{right:0}.project-collapse-icon[_ngcontent-%COMP%]{font-size:12px;line-height:15px;height:15px;width:15px;color:#47474791!important}.today[_ngcontent-%COMP%]{border-left:2px solid #1890ff;background-repeat:no-repeat;background-position:center center}.today-header[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff;color:#fff}.top-grid-header[_ngcontent-%COMP%]{border-top:none}.grid-entry-top[_ngcontent-%COMP%]{border-bottom:none}.month-grid[_ngcontent-%COMP%]{border-top:1px solid #f1f1f1}.parent-relative[_ngcontent-%COMP%]{position:absolute}.px-3.py-0.ng-star-inserted.resize-active.resize-ghost-element[_ngcontent-%COMP%]{margin-top:0!important}.task-name-cell-padding[_ngcontent-%COMP%]{padding:0 7px}.sub-task-name-cell[_ngcontent-%COMP%]{padding:7px;background-color:#f3f3f3;border-bottom:1px #dcdcdc solid}.task-entry[_ngcontent-%COMP%]:hover{background:#fafafa}']}),i})();function gv(r,i){1&r&&e._UZ(0,"nz-empty")}function mv(r,i){if(1&r&&(e.TgZ(0,"small",23),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.hij("W",A.week_index||-1,"")}}function _v(r,i){if(1&r&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Oqu(A.month_name)}}function wv(r,i){if(1&r&&(e.TgZ(0,"span",20),e.YNc(1,mv,2,1,"small",21),e.YNc(2,_v,2,1,"span",22),e._UZ(3,"span"),e.qZA()),2&r){const A=i.$implicit;e.Udp("grid-column",A.min+"/"+A.max),e.xp6(1),e.Q6J("ngIf",A.days_of_week&&A.days_of_week.length>1),e.xp6(1),e.Q6J("ngIf",A.days_of_week&&A.days_of_week.length>2)}}function vv(r,i){1&r&&e._UZ(0,"div",25),2&r&&e.ekj("sunday",i.$implicit.isSunday)}function Cv(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"date"),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.hij("",e.xi3(2,2,A.date,"E")," "),e.xp6(3),e.hij(" ",e.xi3(5,5,A.date,"d"),"")}}function Bv(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,A.date,"dd"))}}function bv(r,i){if(1&r&&(e.TgZ(0,"div",26),e.YNc(1,Cv,6,8,"span",0),e.YNc(2,Bv,3,4,"span",0),e.qZA()),2&r){const A=i.$implicit,t=i.index,n=e.oxw(4);e.ekj("sunday",A.isSunday)("today-header",A.isToday),e.MGl("id","date_",t,""),e.xp6(1),e.Q6J("ngIf",2!==n.viewMode),e.xp6(1),e.Q6J("ngIf",2===n.viewMode)}}const r1=function(){return{left:!0}};function xv(r,i){if(1&r&&e._UZ(0,"span",41),2&r){const A=e.oxw().index;e.MGl("id","start_",A,""),e.Q6J("resizeEdges",e.DdM(2,r1))}}const s1=function(){return{right:!0}};function yv(r,i){1&r&&e._UZ(0,"span",42),2&r&&e.Q6J("resizeEdges",e.DdM(1,s1))}function Tv(r,i){if(1&r&&(e.TgZ(0,"p",43)(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"small",43),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(2),e.Oqu(A.name),e.xp6(1),e.hij(" \u2013 ",A.status,""),e.xp6(2),e.AsE("",e.xi3(6,4,A.start_date,"mediumDate")," \u2013 ",e.xi3(7,7,A.end_date,"mediumDate"),"")}}const kv=function(){return{margin:100}},o1=function(){return{x:!0,y:!1}},a1=function(r){return{x:r}},c1=function(r,i){return{left:r,right:i}};function Qv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",35),e.NdJ("click",function(n){const o=e.CHM(A).$implicit,h=e.oxw(5);return e.KtG(h.editModal(o,n))})("dragEnd",function(n){const o=e.CHM(A).$implicit,h=e.oxw(5);return e.KtG(h.dragEnded(n,o))})("dragStart",function(){const s=e.CHM(A).$implicit,o=e.oxw(5);return e.KtG(o.dragStarted(s))})("mouseenter",function(){const s=e.CHM(A).$implicit;return e.KtG(s.show_handles=!0)})("mouseleave",function(){const s=e.CHM(A).$implicit;return e.KtG(s.show_handles=!1)})("resizeEnd",function(n){const o=e.CHM(A).$implicit,h=e.oxw(5);return e.KtG(h.onResizeEnd(n,o))})("resizeStart",function(n){const o=e.CHM(A).$implicit,h=e.oxw(5);return e.KtG(h.resizeStarted(n,o))})("resizing",function(n){const o=e.CHM(A).$implicit,h=e.oxw(5);return e.KtG(h.onResizing(n,o))}),e.TgZ(1,"div",36),e.YNc(2,xv,1,3,"span",37),e._UZ(3,"span",38),e.YNc(4,yv,1,2,"span",39),e.qZA(),e.YNc(5,Tv,8,10,"ng-template",null,40,e.W1O),e.qZA()}if(2&r){const A=i.$implicit,t=e.MAs(6),n=e.oxw().$implicit,s=e.oxw(4);e.Udp("background-color",s.getColor(n.name))("grid-column",A.min+"/"+A.max),e.Q6J("autoScroll",e.DdM(17,kv))("dragAxis",e.DdM(18,o1))("dragSnapGrid",e.VKq(19,a1,s.columnWidth))("enableGhostResize",!0)("resizeSnapGrid",e.WLB(21,c1,s.columnWidth,s.columnWidth))("validateDrag",s.validateDrag.bind(s))("validateResize",s.validateResize.bind(s)),e.xp6(1),e.Udp("background-color",A.color_code),e.Q6J("nzTooltipTitle",t),e.xp6(1),e.Q6J("ngIf",A.show_handles),e.xp6(1),e.Q6J("nzContent",A.name),e.xp6(1),e.Q6J("ngIf",A.show_handles)}}function Fv(r,i){if(1&r&&e._UZ(0,"div",44),2&r){const A=i.$implicit;e.ekj("sunday",A.isSunday)("today",A.isToday)("weekend",A.isWeekend)}}function zv(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",27)(2,"div",28),e._UZ(3,"nz-avatar",29),e.qZA(),e.TgZ(4,"div",30),e._uU(5),e.qZA()(),e.TgZ(6,"div",31)(7,"ul",32),e.YNc(8,Qv,7,24,"li",33),e.qZA()(),e.YNc(9,Fv,1,6,"div",34),e.BQk()),2&r){const A=i.$implicit,t=e.oxw(4);e.xp6(3),e.Udp("background-color",A.name?t.getColor(A.name):"#ececec"),e.Q6J("nzSize",7),e.xp6(2),e.hij(" ",A.name," "),e.xp6(3),e.Q6J("ngForOf",t.getMemberTasks(A.id)),e.xp6(1),e.Q6J("ngForOf",t.dates)}}function Uv(r,i){if(1&r&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",11),e.TgZ(4,"div",12),e.ynx(5),e.TgZ(6,"span",13),e.YNc(7,wv,4,4,"span",14),e.qZA(),e.BQk(),e.qZA(),e.YNc(8,vv,1,2,"div",15),e._UZ(9,"div",16)(10,"div",17),e.YNc(11,bv,3,7,"div",18),e.YNc(12,zv,10,6,"ng-container",19),e.qZA()()()),2&r){const A=e.oxw(3);e.xp6(7),e.Q6J("ngForOf",A.months),e.xp6(1),e.Q6J("ngForOf",A.dates),e.xp6(3),e.Q6J("ngForOf",A.dates),e.xp6(1),e.Q6J("ngForOf",A.projectMembersModel)}}function Sv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div")(1,"nz-segmented",6),e.NdJ("nzValueChange",function(n){e.CHM(A);const s=e.oxw(2);return e.KtG(s.changeViewMode(n))}),e.qZA(),e.TgZ(2,"button",7),e.NdJ("click",function(){e.CHM(A);const n=e.oxw(2);return e.KtG(n.scrollToday())}),e._uU(3,"Today "),e.qZA(),e.TgZ(4,"div",8)(5,"div",4),e.YNc(6,gv,1,0,"nz-empty",0),e.YNc(7,Uv,13,4,"div",0),e.qZA()()()}if(2&r){const A=e.oxw(2);e.xp6(1),e.Q6J("nzOptions",A.options),e.xp6(5),e.Q6J("ngIf",!A.tasks.length&&!A.loading),e.xp6(1),e.Q6J("ngIf",!A.loading)}}function Iv(r,i){if(1&r&&(e.TgZ(0,"div")(1,"div",3)(2,"div",4),e._UZ(3,"nz-skeleton",5),e.YNc(4,Sv,8,3,"div",0),e.qZA()()()),2&r){const A=e.oxw();e.xp6(3),e.Q6J("nzActive",!0)("nzLoading",A.loading),e.xp6(1),e.Q6J("ngIf",A.tasks.length&&!A.loading)}}function Mv(r,i){1&r&&e._UZ(0,"nz-empty")}function Ev(r,i){1&r&&(e.TgZ(0,"div",50),e._UZ(1,"nz-spin",51),e.qZA())}function Lv(r,i){if(1&r&&(e.TgZ(0,"span",20)(1,"small",23),e._uU(2),e.qZA(),e.TgZ(3,"span",24),e._uU(4),e.qZA(),e._UZ(5,"span"),e.qZA()),2&r){const A=i.$implicit,t=e.oxw(3);e.Udp("grid-column",t.getMonthRange(A.min,A.max)),e.xp6(2),e.hij("W",A.week_index||9,""),e.xp6(2),e.Oqu(A.month_name)}}function Nv(r,i){1&r&&e._UZ(0,"div",25),2&r&&e.ekj("sunday",i.$implicit.isLastDayOfWeek)}function Ov(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.AsE("",e.xi3(2,2,A.date,"E")," ",e.xi3(3,5,A.date,"d"),"")}}function Pv(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,A.date,"dd"))}}function Dv(r,i){if(1&r&&(e.TgZ(0,"div",26),e.YNc(1,Ov,4,8,"span",0),e.YNc(2,Pv,3,4,"span",0),e.qZA()),2&r){const A=i.$implicit,t=i.index,n=e.oxw(3);e.ekj("sunday",A.isSunday)("today-header",A.isToday),e.MGl("id","date_",t,""),e.xp6(1),e.Q6J("ngIf",2!==n.viewMode),e.xp6(1),e.Q6J("ngIf",2===n.viewMode)}}function Hv(r,i){1&r&&e._UZ(0,"div",58),2&r&&e.ekj("weekend",i.$implicit.isWeekend)}function Zv(r,i){1&r&&e._UZ(0,"span",67),2&r&&e.Q6J("resizeEdges",e.DdM(1,r1))}function jv(r,i){1&r&&e._UZ(0,"span",42),2&r&&e.Q6J("resizeEdges",e.DdM(1,s1))}function Rv(r,i){if(1&r&&(e.TgZ(0,"table",68)(1,"tr")(2,"th",69),e._uU(3,"Task"),e.qZA(),e.TgZ(4,"td",70)(5,"span",71),e._uU(6,":"),e.qZA(),e._uU(7),e.ALo(8,"safeString"),e.qZA()(),e.TgZ(9,"tr")(10,"th",69),e._uU(11,"Start date"),e.qZA(),e.TgZ(12,"td",70)(13,"span",71),e._uU(14,":"),e.qZA(),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"tr")(18,"th",69),e._uU(19,"End date"),e.qZA(),e.TgZ(20,"td",70)(21,"span",71),e._uU(22,":"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA()(),e.TgZ(25,"tr")(26,"th",69),e._uU(27,"Status"),e.qZA(),e.TgZ(28,"td",23)(29,"span",71),e._uU(30,":"),e.qZA(),e._uU(31),e.qZA()()()),2&r){const A=e.oxw().$implicit;e.xp6(7),e.hij(" ",e.lcZ(8,4,A.name),""),e.xp6(8),e.hij(" ",e.xi3(16,6,A._start,"mediumDate")," "),e.xp6(8),e.hij(" ",e.xi3(24,9,A._end,"mediumDate")," "),e.xp6(8),e.hij(" ",A.status,"")}}function Gv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"li",64),e.NdJ("click",function(n){const o=e.CHM(A).$implicit,h=e.oxw(7);return e.KtG(h.editModal(o,n))})("dragEnd",function(n){const o=e.CHM(A).$implicit,h=e.oxw(7);return e.KtG(h.dragEnded(n,o))})("dragStart",function(){const s=e.CHM(A).$implicit,o=e.oxw(7);return e.KtG(o.dragStarted(s))})("mouseenter",function(){const s=e.CHM(A).$implicit;return e.KtG(s.show_handles=!0)})("mouseleave",function(){const s=e.CHM(A).$implicit;return e.KtG(s.show_handles=!1)})("resizeEnd",function(n){const o=e.CHM(A).$implicit,h=e.oxw(7);return e.KtG(h.onResizeEnd(n,o))})("resizeStart",function(n){const o=e.CHM(A).$implicit,h=e.oxw(7);return e.KtG(h.resizeStarted(n,o))})("resizing",function(n){const o=e.CHM(A).$implicit,h=e.oxw(7);return e.KtG(h.onResizing(n,o))}),e.TgZ(1,"div",65),e.YNc(2,Zv,1,2,"span",66),e._UZ(3,"span",38),e.ALo(4,"safeString"),e.YNc(5,jv,1,2,"span",39),e.qZA(),e.YNc(6,Rv,32,12,"ng-template",null,40,e.W1O),e.qZA()}if(2&r){const A=i.$implicit,t=e.MAs(7),n=e.oxw(7);e.Udp("background-color",A.color_code)("grid-column",n.setTaskDateRange(A._start,A._end)),e.Q6J("dragAxis",e.DdM(19,o1))("dragSnapGrid",e.VKq(20,a1,n.columnWidth))("enableGhostResize",!0)("resizeSnapGrid",e.WLB(22,c1,n.columnWidth,n.columnWidth))("validateDrag",n.validateDrag.bind(n))("validateResize",n.validateResize.bind(n)),e.xp6(1),e.Udp("background-color",A.color_code),e.Q6J("nzPopoverContent",t)("nzPopoverMouseEnterDelay",1),e.xp6(1),e.Q6J("ngIf",A.show_handles),e.xp6(1),e.Q6J("nzContent",e.lcZ(4,17,A.name)),e.xp6(2),e.Q6J("ngIf",A.show_handles)}}function Kv(r,i){if(1&r&&(e.TgZ(0,"div",31)(1,"ul",32),e.YNc(2,Gv,8,25,"li",63),e.qZA()()),2&r){const A=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",A.tasks)}}function Jv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"div",72),e.NdJ("click",function(){const s=e.CHM(A).$implicit,o=e.oxw().$implicit,h=e.oxw(5);return e.KtG(h.openAddModal(s.date,o.id))}),e.qZA()}2&r&&e.ekj("weekend",i.$implicit.isWeekend)}function Yv(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",59)(2,"div",28),e._UZ(3,"nz-avatar",60),e.qZA(),e.TgZ(4,"div",30),e._uU(5),e.qZA()(),e.YNc(6,Kv,3,1,"div",61),e.YNc(7,Jv,1,2,"div",62),e.BQk()),2&r){const A=i.$implicit,t=e.oxw(2).$implicit,n=e.oxw(3);e.xp6(3),e.Udp("background-color",n.getColor(A.name)),e.Q6J("nzSize",7),e.xp6(2),e.hij(" ",A.name," "),e.xp6(1),e.Q6J("ngIf",!t.collapsed),e.xp6(1),e.Q6J("ngForOf",n.dates)}}function qv(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Yv,8,6,"ng-container",19),e.BQk()),2&r){const A=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",A.team_members)}}function Vv(r,i){if(1&r){const A=e.EpF();e.ynx(0),e.TgZ(1,"div",53)(2,"a",54),e.NdJ("click",function(){const s=e.CHM(A).$implicit;return e.KtG(s.collapsed=!s.collapsed)}),e._UZ(3,"span",55),e.qZA()(),e._UZ(4,"div",56),e.YNc(5,Hv,1,2,"div",57),e.YNc(6,qv,2,1,"ng-container",0),e.BQk()}if(2&r){const A=i.$implicit,t=e.oxw(3);e.xp6(3),e.Q6J("nzType",A.collapsed?"plus":"minus"),e.xp6(2),e.Q6J("ngForOf",t.dates),e.xp6(1),e.Q6J("ngIf",!A.collapsed)}}function Wv(r,i){if(1&r&&(e.TgZ(0,"div")(1,"div",9)(2,"div",10),e._UZ(3,"div",52),e.TgZ(4,"div",12),e.ynx(5),e.TgZ(6,"span",13),e.YNc(7,Lv,6,4,"span",14),e.qZA(),e.BQk(),e.qZA(),e.YNc(8,Nv,1,2,"div",15),e._UZ(9,"div",16)(10,"div",17),e.YNc(11,Dv,3,7,"div",18),e.YNc(12,Vv,7,3,"ng-container",19),e.qZA()()()),2&r){const A=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",A.months),e.xp6(1),e.Q6J("ngForOf",A.dates),e.xp6(3),e.Q6J("ngForOf",A.dates),e.xp6(1),e.Q6J("ngForOf",A.resourceTasks)}}function Xv(r,i){if(1&r){const A=e.EpF();e.TgZ(0,"nz-content",45)(1,"div")(2,"nz-segmented",6),e.NdJ("nzValueChange",function(n){e.CHM(A);const s=e.oxw();return e.KtG(s.changeViewMode(n))}),e.qZA(),e.TgZ(3,"button",46),e._uU(4,"Today"),e.qZA(),e.TgZ(5,"nz-button-group",47)(6,"button",48),e.NdJ("click",function(){e.CHM(A);const n=e.oxw();return e.KtG(n.showModal())}),e._uU(7,"Create Task"),e.qZA()(),e.TgZ(8,"div",8)(9,"div",4),e.YNc(10,Mv,1,0,"nz-empty",0),e.YNc(11,Ev,2,0,"div",49),e.YNc(12,Wv,13,4,"div",0),e.qZA()()()()}if(2&r){const A=e.oxw();e.xp6(2),e.Q6J("nzOptions",A.options),e.xp6(8),e.Q6J("ngIf",!A.resourceTasks.length&&!A.loading),e.xp6(1),e.Q6J("ngIf",A.loading),e.xp6(1),e.Q6J("ngIf",A.resourceTasks.length&&!A.loading)}}let $v=(()=>{var r;class i{constructor(t,n,s,o,h,p,_){this.app=t,this.route=n,this.projectsApiService=s,this.teamMembersApiService=o,this.tasksService=h,this.dateUtilsService=p,this.taskViewService=_,this.chartType=null,this.resizing=!1,this.options=["Daily","Weekly","Monthly"],this.projects=[],this.projectMembersModel=[],this.tasks=[],this.resourceTasks=[],this.viewMode=0,this.showTaskModal=!1,this.isOkLoading=!1,this.loading=!1,this.scrollLoading=!1,this.projectId="",this.selectedTaskId="",this.project={},this.dates=[],this.months=[],this.allTasks=[],this.selectedTask={},this.columnWidth=ln.p9.DAYS,this.initialScrollPosition=0,this.previousScrollPosition=0,this.newScrollPosition=0,this.total=0,this.pageSize=Ot.L8,this.pageIndex=1,this.paginationSizes=[5,10,15,20,50,100],this.sortField=null,this.sortOrder=null,this.todayIndex=0,this.chartStartDate=me()().subtract(50,"days").format("YYYY-MM-DD"),this.chartEndDate=me()().add(40,"days").format("YYYY-MM-DD"),pt.s.track(Ve.Kx),this.projectId=this.route.snapshot.paramMap.get("id")||""}ngOnInit(){var t=this;return(0,ce.Z)(function*(){yield t.fetchTasks(),yield t.getProjectMembers(),yield t.getTasksBetweenRange(),t.tvRefreshSubscription=t.taskViewService.onRefresh.subscribe(()=>{t.fetchTasks()})})()}ngOnDestroy(){this.tvRefreshSubscription?.unsubscribe()}fetchTasks(){var t=this;return(0,ce.Z)(function*(){t.chartType===ln.au.PROJECT?(yield t.getProject(),yield t.getTasksBetweenRange(),-1!==t.todayIndex&&(yield t.scrollToDate(t.todayIndex))):yield t.getResourceTasks()})()}getColumnWidth(t){return(0,ce.Z)(function*(){return t===ln.nd.WEEKS?ln.p9.WEEKS:t===ln.nd.MONTHS?ln.p9.MONTHS:ln.p9.DAYS})()}changeViewMode(t){var n=this;return(0,ce.Z)(function*(){n.viewMode=t,n.columnWidth=yield n.getColumnWidth(t||ln.nd.DAYS),document.documentElement.style.setProperty("--column_width",`${n.columnWidth}px`)})()}showModal(){this.showTaskModal=!0}editModal(t,n){var s=this;return(0,ce.Z)(function*(){t&&t.id&&(s.selectedTaskId=t.id,s.showTaskModal=!0,pt.s.track(Ve.zX)),n.preventDefault()})()}getProjectMembers(){var t=this;return(0,ce.Z)(function*(){if(t.projectId)try{t.loading=!0;const n=yield t.teamMembersApiService.getTeamMembersByProjectId(t.projectId);if(n.done){const s=Math.floor((window.innerHeight-260)/47)||15;if(n.body&&n.body.length<s){const o=s-n.body.length;for(let h=0;h<o;h++)n.body.push({id:"",team_member_id:"",project_access_level_id:"",project_access_level_name:"",name:""})}t.projectMembersModel=n.body}t.loading=!1}catch(n){(0,st.tu)(n),t.loading=!1}})()}getTasksBetweenRange(t=!0){var n=this;return(0,ce.Z)(function*(){if(n.projectId)try{t&&(n.loading=!0);const s=yield n.tasksService.getTasksBetweenRange(n.projectId,n.chartStartDate,n.chartEndDate);if(s.done){if(n.tasks=s.body.tasks||[],n.dates=s.body.dates||[],n.months=s.body.months||[],document.documentElement.style.setProperty("--column_count",n.dates.length.toString()),document.documentElement.style.setProperty("--column_width",`${ln.p9.DAYS}px`),document.documentElement.style.setProperty("--top-margin","260px"),t){const o=n.dates.findIndex(h=>me()(h.date).isSame(me()(),"day"));-1!==o&&(yield n.scrollToDate(o))}n.loading=!1}}catch(s){(0,st.tu)(s),n.loading=!1}})()}getResourceTasks(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.tasksService.getTasksByTeam();if(n.done){const s=n.body;yield t.prepareTasks(s)}t.loading=!1}catch{t.loading=!1}})()}onTaskCreateOrUpdate(){this.fetchTasks().then(t=>t),this.selectedTaskId=null}prepareTasks(t){var n=this;return(0,ce.Z)(function*(){n.resourceTasks=[],t.forEach(p=>{p&&p.team_members.forEach(_=>{_.tasks?.forEach(B=>{B._start=n.dateUtilsService.parseDate(B.start),B._end=n.dateUtilsService.parseDate(B.end),n.allTasks.push(B)})}),n.resourceTasks.push(p)});const{start:s,end:o}=yield n.dateUtilsService.setupGanttTasks(n.allTasks);n.dates=yield n.dateUtilsService.getDates(s,o),n.months=yield n.dateUtilsService.getWeekRange(n.dates),document.documentElement.style.setProperty("--column_count",n.dates.length.toString()),document.documentElement.style.setProperty("--column_width",`${ln.p9.DAYS}px`);const h=n.dates.findIndex(p=>me()(p.date).isSame(me()(),"day"));-1!==h&&(yield n.scrollToDate(h))})()}scrollToday(){const t=this.dates.findIndex(n=>me()(n.date).isSame(me()(),"day"));-1!==t&&this.scrollToDate(t).then(n=>n)}scrollToDate(t){return(0,ce.Z)(function*(){setTimeout(()=>{document.getElementById(`date_${t}`)?.scrollIntoView({behavior:"auto",block:"center",inline:"center"})},0)})()}getProject(){var t=this;return(0,ce.Z)(function*(){try{t.loading=!0;const n=yield t.projectsApiService.getById(t.projectId);n.done&&(t.project=n.body),t.loading=!1}catch{t.loading=!1}})()}getColor(t){return Ot.Lj[t?.charAt(0).toUpperCase()||"A"]}isWeekend(t){return 0==t.getDay()||6==t.getDay()}isSunday(t){return 0==t.getDay()}isLastDayOfWeek(t){return function fv(r){return(0,qn.Z)(1,arguments),0===(0,mA.Z)(r).getDay()}(new Date(t))}isToday(t){return me()().isSame(me()(t).format("YYYY-MM-DD"),"day")}setTaskDateRange(t=new Date,n=new Date){return`${this.dates.findIndex(h=>me()(t).isSame(h.date,"days"))+1} / ${this.dates.findIndex(h=>me()(n).isSame(h.date,"days"))+2}`}getMonthRange(t=this.todayIndex,n=this.todayIndex+3){return`${t+2} / ${n+3}`}closeTaskPopup(t){this.showTaskModal=t}onResizeEnd(t,n){var s=this;return(0,ce.Z)(function*(){const o=t.edges.left&&"number"==typeof t.edges.left?t.edges.left:0,h=t.edges.right&&"number"==typeof t.edges.right?t.edges.right:0;if(o){let p=Math.abs(o)/s.columnWidth;o>0?(n.start_date=me()(n.start_date).add(p,"days").format("YYYY-MM-DD"),n.min=n.min&&n.min+p):(n.start_date=me()(n.start_date).subtract(p,"days").format("YYYY-MM-DD"),n.min=n.min&&n.min-p)}else if(h){let p=Math.abs(h)/s.columnWidth;h>0?(n.end_date=me()(n.end_date).add(p,"days").format("YYYY-MM-DD"),n.max=n.max&&n.max+p):(n.end_date=me()(n.end_date).subtract(p,"days").format("YYYY-MM-DD"),n.max=n.max&&n.max-p)}n.start=me()(n.start_date).format("YYYY-MM-DD"),n.end=me()(n.end_date).format("YYYY-MM-DD"),me()(n.end).isSameOrAfter(n.start)&&(yield s.tasksService.updateDuration(n,n.id||""),pt.s.track(Ve.j6)),yield s.getTasksBetweenRange(!1),s.selectedTask={},s.resizing=!1})()}openAddModal(t=new Date,n=""){this.showTaskModal=!0}getEdgeValues(t,n){return n.edges[t]||0}getRectangleMargin(t,n){return n.rectangle[t]||0}checkResizeValidity(t,n,s){if(n){let h=Math.abs(n)/this.columnWidth;if(n>0){const p=t.start_date&&wr(new Date(t.start_date),{days:h});return void(t.resize_valid=!(p&&this.dates.some(_=>_.date===p)))}{const p=t.start_date&&Hr(new Date(t.start_date),{days:h});return void(t.resize_valid=!(p&&this.dates.some(_=>_.date===p)))}}let o=Math.abs(s)/this.columnWidth;if(s>0){const h=t.end_date&&wr(new Date(t.end_date),{days:o});t.resize_valid=!(h&&this.dates.some(p=>p.date===h))}else{const h=t.end_date&&Hr(new Date(t.end_date),{days:o});t.resize_valid=!(h&&this.dates.some(p=>p.date===h))}}resizeStarted(t,n){this.resizing=!0,this.selectedTask=n}onResizing(t,n){const s=this.getEdgeValues("left",t),o=this.getEdgeValues("right",t);this.checkResizeValidity(n,s,o)}validateResize(t){const n=document.querySelector(".grid-scroller");if(!n)return!1;let s=this.selectedTask,o=me()(s.start_date).format("YYYY-MM-DD");const h=ln.VT.LEFT+n.scrollLeft,p=n.clientWidth+n.scrollLeft,_=this.getEdgeValues("left",t),B=this.getEdgeValues("right",t),x=this.getRectangleMargin("left",t),y=this.getRectangleMargin("right",t);if(_){let v=Math.abs(_)/this.columnWidth;return!(x<h||(_>0?(o=me()(s.start_date).add(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date())):(o=me()(s.start_date).subtract(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date()))))}if(B){let v=Math.abs(B)/this.columnWidth;return!(p<y||(B>0?(o=me()(s.end_date).add(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date())):(o=me()(s.end_date).subtract(v,"days").format("YYYY-MM-DD"),!o||!this.dates.some(M=>+me()(M.date).date()==+me()(o).date()))))}return!0}dragEnded(t,n){var s=this;return(0,ce.Z)(function*(){if(s.resizing)return;const o=Math.abs(t.x)/s.columnWidth;t.x>0&&(n.start_date=n.start_date&&wr(new Date(n.start_date),{days:o}),n.end_date=n.end_date&&wr(new Date(n.end_date),{days:o}),n.min=n.min&&n.min+o,n.max=n.max&&n.max+o),t.x<0&&(n.start_date=n.start_date&&Hr(new Date(n.start_date),{days:o}),n.end_date=n.end_date&&Hr(new Date(n.end_date),{days:o}),n.min=n.min&&n.min-o,n.max=n.max&&n.max-o),n.start=me()(n.start_date).format("YYYY-MM-DD"),n.end=me()(n.end_date).format("YYYY-MM-DD"),yield s.tasksService.updateDuration(n,n.id||""),pt.s.track(Ve.QY),yield s.getTasksBetweenRange(!1)})()}validateDrag(t){const n=document.querySelector(".grid-scroller");if(!n||this.resizing)return!1;const s=this.dates.findIndex(p=>me()(p.date).isSame(this.selectedTask.start_date,"days")),o=Math.abs(t.x)/this.columnWidth,h=Math.ceil(n.scrollLeft/this.columnWidth);if(t.x>0){const p=Math.floor((n.clientWidth-ln.VT.LEFT)/this.columnWidth);return me()(this.dates[p+h-1]?.date).isSameOrAfter(me()(this.selectedTask.end_date).add(o,"days"))}return!(t.x<0)||Math.ceil(n.scrollLeft/this.columnWidth)<s+1-o}dragStarted(t){this.selectedTask=t}getMemberTasks(t){return this.tasks.length&&this.tasks[0][t]}scrolled(t){var n=this;return(0,ce.Z)(function*(){n.initialScrollPosition||(n.initialScrollPosition=t.currentTarget?.scrollLeft),n.newScrollPosition=t.currentTarget?.scrollLeft,n.newScrollPosition<800&&n.previousScrollPosition<n.newScrollPosition&&!n.scrollLoading&&(n.scrollLoading=!0,n.chartStartDate=me()(n.chartStartDate).subtract(50,"days").format("YYYY-MM-DD"),n.chartEndDate=me()(n.chartEndDate).add(40,"days").format("YYYY-MM-DD"),yield n.getTasksBetweenRange(!1),n.scrollLoading=!1)})()}}return(r=i).\u0275fac=function(t){return new(t||r)(e.Y36(ia.z),e.Y36(wt.gz),e.Y36(ji.U),e.Y36(Ha.B),e.Y36(No.c),e.Y36(Wm),e.Y36(Lr.f))},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-gantt-chart"]],hostBindings:function(t,n){1&t&&e.NdJ("worklenz.tasks.update",function(){return n.onTaskCreateOrUpdate()},!1,e.evT)},inputs:{chartType:"chartType"},standalone:!0,features:[e.jDz],decls:3,vars:5,consts:[[4,"ngIf"],["class","page-data mb-0",4,"ngIf"],[3,"show","projectId","taskId","showChange","taskIdChange"],[1,"row","bg-white","mx-0"],[1,"col-md-12","p-0"],[3,"nzActive","nzLoading"],[3,"nzOptions","nzValueChange"],["nz-button","","nzType","default",1,"ms-1","btn-primary-custom",3,"click"],[1,"row","bg-white","mt-2","mx-0"],[1,"grid-scroller"],[1,"grid"],[1,"grid-entry","fixed-left","header-bg","grid-entry-top"],[1,"grid-entry","m-0","p-0","month-grid",2,"width","0"],[1,"gantt__row-bars","py-1"],["class","justify-content-between d-flex","style","z-index: 1;",3,"grid-column",4,"ngFor","ngForOf"],["class","grid-entry border-0 header-bg",3,"sunday",4,"ngFor","ngForOf"],[1,"grid-header","fixed-left","top-grid-header"],[1,"grid-header","m-0","p-0"],["class","grid-header",3,"sunday","today-header","id",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"justify-content-between","d-flex",2,"z-index","1"],["class","ps-2",4,"ngIf"],["class","month",4,"ngIf"],[1,"ps-2"],[1,"month"],[1,"grid-entry","border-0","header-bg"],[1,"grid-header",3,"id"],[1,"grid-entry","fixed-left","d-flex","align-items-center"],[1,"avatar"],[1,"me-2","ms-2",3,"nzSize"],[1,"member"],[1,"grid-entry","m-0","p-0",2,"width","0"],[1,"gantt__row-bars"],["class","px-3 py-0","ghostElementPositioning","absolute","mwlDraggable","","mwlResizable","","style","height: 22px;",3,"autoScroll","dragAxis","dragSnapGrid","enableGhostResize","resizeSnapGrid","background-color","grid-column","validateDrag","validateResize","click","dragEnd","dragStart","mouseenter","mouseleave","resizeEnd","resizeStart","resizing",4,"ngFor","ngForOf"],["class","grid-entry",3,"sunday","today","weekend",4,"ngFor","ngForOf"],["ghostElementPositioning","absolute","mwlDraggable","","mwlResizable","",1,"px-3","py-0",2,"height","22px",3,"autoScroll","dragAxis","dragSnapGrid","enableGhostResize","resizeSnapGrid","validateDrag","validateResize","click","dragEnd","dragStart","mouseenter","mouseleave","resizeEnd","resizeStart","resizing"],["nz-tooltip","",3,"nzTooltipTitle"],["class","resize-handle-left","mwlResizeHandle","",3,"resizeEdges","id",4,"ngIf"],["nz-typography","","nzEllipsis","",1,"text-white",2,"pointer-events","none",3,"nzContent"],["class","resize-handle-right","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["contentTemplate",""],["mwlResizeHandle","",1,"resize-handle-left",3,"resizeEdges","id"],["mwlResizeHandle","",1,"resize-handle-right",3,"resizeEdges"],[1,"mb-0"],[1,"grid-entry"],[1,"page-data","mb-0"],["nz-button","","nzType","default"],[1,"float-end"],["nz-button","","nzSize","default","nzType","primary",3,"click"],["class","text-center py-5",4,"ngIf"],[1,"text-center","py-5"],["nzSimple",""],[1,"grid-entry","fixed-left","header-bg"],[1,"grid-entry","gantt__row-first","d-flex","align-items-center","justify-content-between","project-header","fixed-left"],["nz-button","","nzType","text",1,"float-end","p-0","project-collapse-icon",3,"click"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"grid-entry","m-0","p-0","project-header",2,"width","0"],["class","grid-entry project-header",3,"weekend",4,"ngFor","ngForOf"],[1,"grid-entry","project-header"],[1,"grid-entry","fixed-left","d-flex","align-items-center","ps-4"],[1,"me-2",3,"nzSize"],["class","grid-entry m-0 p-0","style","width: 0;",4,"ngIf"],["class","grid-entry",3,"weekend","click",4,"ngFor","ngForOf"],["class","px-3 py-0","ghostElementPositioning","absolute","mwlDraggable","","mwlResizable","","style","height: 22px;",3,"dragAxis","dragSnapGrid","enableGhostResize","resizeSnapGrid","background-color","grid-column","validateDrag","validateResize","click","dragEnd","dragStart","mouseenter","mouseleave","resizeEnd","resizeStart","resizing",4,"ngFor","ngForOf"],["ghostElementPositioning","absolute","mwlDraggable","","mwlResizable","",1,"px-3","py-0",2,"height","22px",3,"dragAxis","dragSnapGrid","enableGhostResize","resizeSnapGrid","validateDrag","validateResize","click","dragEnd","dragStart","mouseenter","mouseleave","resizeEnd","resizeStart","resizing"],["nz-popover","",3,"nzPopoverContent","nzPopoverMouseEnterDelay"],["class","resize-handle-left","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"resize-handle-left",3,"resizeEdges"],["aria-label","popover content"],[1,"pb-1",2,"font-weight","500"],[1,"ps-2","pb-2"],[1,"pe-2"],[1,"grid-entry",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,Iv,5,3,"div",0),e.YNc(1,Xv,13,4,"nz-content",1),e.TgZ(2,"worklenz-task-view",2),e.NdJ("showChange",function(o){return n.showTaskModal=o})("taskIdChange",function(o){return n.selectedTaskId=o}),e.qZA()),2&t&&(e.Q6J("ngIf",1===n.chartType),e.xp6(1),e.Q6J("ngIf",0===n.chartType),e.xp6(1),e.Q6J("show",n.showTaskModal)("projectId",n.projectId)("taskId",n.selectedTaskId))},dependencies:[Ut.ZJ,Ut.ZU,Jo.ym,Jo.E$,Jo.mC,Ie.O5,dh.Vk,dh.pD,Ie.sg,Vt.sL,Vt.ix,Vt.fY,Wt.w,an.dQ,lh.$6,lh.lU,yA.Rt,yA.Dz,QA.j,QA.W,Zt.cg,Zt.SY,Mn.H0,Mn.ng,Ri.KW,Ri.wY,Ui.Xo,Ui.p9,Sg.wm,Sg.OK,Ie.uU,zt.PV,zt.Ls,Rl.z,ei.E,VA.m],styles:['body[_ngcontent-%COMP%]{margin:0}.grid-scroller[_ngcontent-%COMP%]{position:relative;overflow:auto;height:calc(100vh - var(--top-margin))}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px 0 repeat(var(--column_count),var(--column_width));width:calc(250px + var(--column_count) * var(--column_width))}.grid-entry[_ngcontent-%COMP%]{padding:12px 7px;background-color:#fff;border-left:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1}.grid-entry.last[_ngcontent-%COMP%], .grid-header.last[_ngcontent-%COMP%]{border-right:none}.grid-header[_ngcontent-%COMP%]{background-color:#fafafa;padding:2px;font-weight:500;font-size:11px;color:#202125;position:sticky;top:0;z-index:4;border:1px solid #ededed;text-align:center;line-height:13px}.grid-header.fixed-left[_ngcontent-%COMP%]{z-index:5}.fixed-left[_ngcontent-%COMP%]{position:sticky;left:0;z-index:2;border-bottom:1px solid #f1f1f1;border-left:1px solid #f1f1f1;border-right:1.4px solid #B5B4B4}.placeholder[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:95;border-right:none}mwlResizable[_ngcontent-%COMP%]{box-sizing:border-box}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;cursor:row-resize;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;cursor:col-resize;width:9px;height:18px;background:#ffffff;border:none;border-radius:1px;top:0;bottom:0;margin:auto 1px}.resize-handle-right[_ngcontent-%COMP%]:after, .resize-handle-left[_ngcontent-%COMP%]:after{content:"||";position:absolute;display:inline-block;inset:0;color:#929292;line-height:19px;font-weight:400;margin:auto;width:max-content}.gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;box-shadow:0 0 2px #00000040}.gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:transparent!important}.gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .resize-handle-left[_ngcontent-%COMP%], .gantt__row-bars[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .resize-handle-right[_ngcontent-%COMP%]{box-shadow:0 0 2px #00000073}.member[_ngcontent-%COMP%]{color:#2f4f4f}.resize-handle-left[_ngcontent-%COMP%]{left:0}.resize-handle-right[_ngcontent-%COMP%]{right:0}.project-collapse-icon[_ngcontent-%COMP%]{font-size:12px;line-height:15px;height:15px;width:15px;color:#47474791!important}.today[_ngcontent-%COMP%]{border-left:2px solid #1890ff;background-repeat:no-repeat;background-position:center center}.today-header[_ngcontent-%COMP%]{background-color:#1890ff;border-color:#1890ff;color:#fff}.top-grid-header[_ngcontent-%COMP%]{border-top:none}.grid-entry-top[_ngcontent-%COMP%]{border-bottom:none}.month-grid[_ngcontent-%COMP%]{border-top:1px solid #f1f1f1}.parent-relative[_ngcontent-%COMP%]{position:absolute}.px-3.py-0.ng-star-inserted.resize-active.resize-ghost-element[_ngcontent-%COMP%]{margin-top:0!important}']}),i})();var l1=oe(62831);let eC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Ie.ez]}),i})(),sC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[zg.vT,Ie.ez,l1.ud,Ug.T,eC]}),i})(),UC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[zg.vT,Ie.ez,Ug.T,l1.ud]}),i})();var d1=oe(331),u1=oe(29666);const SC=[{path:"",component:N}];let IC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[wt.Bz.forChild(SC),wt.Bz]}),i})(),MC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Ie.ez,IC,yA.Rt,fr.mS,Vt.sL,qA.Wr,_r.Hb,cn.b1,Ui.Xo,mn.U5,zt.PV,nA.o7,vA.Ph,mr._p,lh.$6,ms.W,$n.LV,Mn.H0,HA.zf,QA.j,xt.HQ,AA.X,Zt.cg,Ut.ZJ,Oo.Qp,ni._t,Rl.z,Ro.W,Qg.YS,Pe.u5,Pe.UX,lA.BL,$a.L,DA.vh,FA.o]}),i})();var EC=oe(61320),LC=oe(36513);let NC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["worklenz-project-updates-input"]],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(t,n){},dependencies:[Ie.ez,Pe.u5,Vt.sL,mn.U5,nA.o7,HA.zf,an.vG,Pe.UX,LC.Gl],changeDetection:0}),i})();var OC=oe(29402);const PC=[];let DC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[wt.Bz.forChild(PC),wt.Bz]}),i})(),HC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Ie.ez,DC,qA.Wr,hn.Jb,AA.X,zt.PV,Rl.z,Ut.ZJ,yA.Rt,Zt.cg,Mn.H0,Vt.sL,nA.o7,an.vG,Pe.UX,Pe.u5,_r.Hb,u1.V,cn.b1,zn.ip,Fg.N7,Fg.Cl]}),i})(),ZC=(()=>{var r;class i{}return(r=i).\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Ie.ez,Qw,Do.S,Oo.Qp,Pe.UX,mn.U5,nA.o7,Fw.ic,Tr.KJ,Vt.sL,xt.HQ,es.we,zt.PV,vA.Ph,Ut.ZJ,$n.LV,AA.X,Pe.u5,qA.Wr,ms.W,mr._p,yA.Rt,Zt.cg,Mn.H0,zw.aF,_r.Hb,Ui.Xo,Fg.Cl,DA.vh,HA.zf,Uw.lt,Sw.j,Sg.wm,Ew,Lw.AdministratorModule,QA.j,fr.mS,lh.$6,Nw.cD,Jo.ym,Ri.KW,lA.BL,cn.b1,ni._t,Nc.Ju,$a.L,pv,Ro.W,FA.o,Or,$v,yr.g,Wu,sC,UC,Rl.z,d1.g,u1.V,Qg.YS,MC,Ja.p,EC.YM,NC,Dm.D,sr.vQ,Sl,Ec.p,OC.J,Zm.o,HC]}),i})();e.B6R(Io,[Ie.mk,Ie.O5,Pe.JJ,hn.SK,Vt.ix,Wt.w,an.dQ,zt.Ls,Pe.On,qA.Ie,Ri.wY,d1.P,Ka,Mu,xu],[])},74456:function(bm){bm.exports=function(){"use strict";var ao=function(l,c){return(ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(u[w]=d[w])})(l,c)};function oe(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function u(){this.constructor=l}ao(l,c),l.prototype=null===c?Object.create(c):(u.prototype=c.prototype,new u)}var Ie=function(){return Ie=Object.assign||function(c){for(var u,d=1,w=arguments.length;d<w;d++)for(var b in u=arguments[d])Object.prototype.hasOwnProperty.call(u,b)&&(c[b]=u[b]);return c},Ie.apply(this,arguments)};function wt(l,c,u,d){return new(u||(u=Promise))(function(b,Q){function O(Ae){try{W(d.next(Ae))}catch(de){Q(de)}}function N(Ae){try{W(d.throw(Ae))}catch(de){Q(de)}}function W(Ae){Ae.done?b(Ae.value):function w(b){return b instanceof u?b:new u(function(Q){Q(b)})}(Ae.value).then(O,N)}W((d=d.apply(l,c||[])).next())})}function ce(l,c){var d,w,b,Q,u={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return Q={next:O(0),throw:O(1),return:O(2)},"function"==typeof Symbol&&(Q[Symbol.iterator]=function(){return this}),Q;function O(W){return function(Ae){return function N(W){if(d)throw new TypeError("Generator is already executing.");for(;u;)try{if(d=1,w&&(b=2&W[0]?w.return:W[0]?w.throw||((b=w.return)&&b.call(w),0):w.next)&&!(b=b.call(w,W[1])).done)return b;switch(w=0,b&&(W=[2&W[0],b.value]),W[0]){case 0:case 1:b=W;break;case 4:return u.label++,{value:W[1],done:!1};case 5:u.label++,w=W[1],W=[0];continue;case 7:W=u.ops.pop(),u.trys.pop();continue;default:if(!(b=(b=u.trys).length>0&&b[b.length-1])&&(6===W[0]||2===W[0])){u=0;continue}if(3===W[0]&&(!b||W[1]>b[0]&&W[1]<b[3])){u.label=W[1];break}if(6===W[0]&&u.label<b[1]){u.label=b[1],b=W;break}if(b&&u.label<b[2]){u.label=b[2],u.ops.push(W);break}b[2]&&u.ops.pop(),u.trys.pop();continue}W=c.call(l,u)}catch(Ae){W=[6,Ae],w=0}finally{d=b=0}if(5&W[0])throw W[1];return{value:W[0]?W[1]:void 0,done:!0}}([W,Ae])}}}function e(l,c,u){if(u||2===arguments.length)for(var b,d=0,w=c.length;d<w;d++)(b||!(d in c))&&(b||(b=Array.prototype.slice.call(c,0,d)),b[d]=c[d]);return l.concat(b||c)}for(var Ot=function(){function l(c,u,d,w){this.left=c,this.top=u,this.width=d,this.height=w}return l.prototype.add=function(c,u,d,w){return new l(this.left+c,this.top+u,this.width+d,this.height+w)},l.fromClientRect=function(c,u){return new l(u.left+c.windowBounds.left,u.top+c.windowBounds.top,u.width,u.height)},l.fromDOMRectList=function(c,u){var d=Array.from(u).find(function(w){return 0!==w.width});return d?new l(d.left+c.windowBounds.left,d.top+c.windowBounds.top,d.width,d.height):l.EMPTY},l.EMPTY=new l(0,0,0,0),l}(),yr=function(l,c){return Ot.fromClientRect(l,c.getBoundingClientRect())},pt=function(l){for(var c=[],u=0,d=l.length;u<d;){var w=l.charCodeAt(u++);if(w>=55296&&w<=56319&&u<d){var b=l.charCodeAt(u++);56320==(64512&b)?c.push(((1023&w)<<10)+(1023&b)+65536):(c.push(w),u--)}else c.push(w)}return c},Ve=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(String.fromCodePoint)return String.fromCodePoint.apply(String,l);var u=l.length;if(!u)return"";for(var d=[],w=-1,b="";++w<u;){var Q=l[w];Q<=65535?d.push(Q):d.push(55296+((Q-=65536)>>10),Q%1024+56320),(w+1===u||d.length>16384)&&(b+=String.fromCharCode.apply(String,d),d.length=0)}return b},Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pt=typeof Uint8Array>"u"?[]:new Uint8Array(256),ra=0;ra<64;ra++)Pt[Pe.charCodeAt(ra)]=ra;for(var vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hn=typeof Uint8Array>"u"?[]:new Uint8Array(256),mn=0;mn<64;mn++)hn[vd.charCodeAt(mn)]=mn;for(var Bd=function(l,c,u){return l.slice?l.slice(c,u):new Uint16Array(Array.prototype.slice.call(l,c,u))},tp=function(){function l(c,u,d,w,b,Q){this.initialValue=c,this.errorValue=u,this.highStart=d,this.highValueIndex=w,this.index=b,this.data=Q}return l.prototype.get=function(c){var u;if(c>=0){if(c<55296||c>56319&&c<=65535)return this.data[u=((u=this.index[c>>5])<<2)+(31&c)];if(c<=65535)return this.data[u=((u=this.index[2048+(c-55296>>5)])<<2)+(31&c)];if(c<this.highStart)return u=this.index[u=2080+(c>>11)],this.data[u=((u=this.index[u+=c>>5&63])<<2)+(31&c)];if(c<=1114111)return this.data[this.highValueIndex]}return this.errorValue},l}(),Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt=typeof Uint8Array>"u"?[]:new Uint8Array(256),zt=0;zt<64;zt++)xt[Tr.charCodeAt(zt)]=zt;var u,d,w,Q,O,FA=10,Oc=13,co=15,sa=17,lo=18,Ap=19,xd=20,Dc=21,uo=22,_s=24,ZA=25,ho=26,po=27,ws=28,Gi=30,oa=32,aa=33,Zc=34,jc=35,fo=37,Gc=38,ca=39,la=40,Td=42,sp=[9001,65288],jt="\xd7",mA=(u=function(l){var d,b,Q,O,N,c=.75*l.length,u=l.length,w=0;"="===l[l.length-1]&&(c--,"="===l[l.length-2]&&c--);var W=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(c):new Array(c),Ae=Array.isArray(W)?W:new Uint8Array(W);for(d=0;d<u;d+=4)b=hn[l.charCodeAt(d)],Q=hn[l.charCodeAt(d+1)],O=hn[l.charCodeAt(d+2)],N=hn[l.charCodeAt(d+3)],Ae[w++]=b<<2|Q>>4,Ae[w++]=(15&Q)<<4|O>>2,Ae[w++]=(3&O)<<6|63&N;return W}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),d=Array.isArray(u)?function(l){for(var c=l.length,u=[],d=0;d<c;d+=4)u.push(l[d+3]<<24|l[d+2]<<16|l[d+1]<<8|l[d]);return u}(u):new Uint32Array(u),w=Array.isArray(u)?function(l){for(var c=l.length,u=[],d=0;d<c;d+=2)u.push(l[d+1]<<8|l[d]);return u}(u):new Uint16Array(u),Q=Bd(w,12,d[4]/2),O=2===d[5]?Bd(w,(24+d[4])/2):function(l,c,u){return l.slice?l.slice(c,u):new Uint32Array(Array.prototype.slice.call(l,c,u))}(d,Math.ceil((24+d[4])/4)),new tp(d[0],d[1],d[2],d[3],Q,O)),qn=[Gi,36],vs=[1,2,3,5],Qd=[FA,8],Fd=[po,ho],op=vs.concat(Qd),zd=[Gc,ca,la,Zc,jc],ap=[co,Oc],Jc=function(l,c,u,d){var w=d[u];if(Array.isArray(l)?-1!==l.indexOf(w):l===w)for(var b=u;b<=d.length;){if((Q=d[++b])===c)return!0;if(Q!==FA)break}if(w===FA)for(b=u;b>0;){var O=d[--b];if(Array.isArray(l)?-1!==l.indexOf(O):l===O)for(var N=u;N<=d.length;){var Q;if((Q=d[++N])===c)return!0;if(Q!==FA)break}if(O!==FA)break}return!1},Yc=function(l,c){for(var u=l;u>=0;){var d=c[u];if(d!==FA)return d;u--}return 0},Sd=function(l,c,u,d,w){if(0===u[d])return jt;var b=d-1;if(Array.isArray(w)&&!0===w[b])return jt;var Q=b-1,O=b+1,N=c[b],W=Q>=0?c[Q]:0,Ae=c[O];if(2===N&&3===Ae)return jt;if(-1!==vs.indexOf(N))return"!";if(-1!==vs.indexOf(Ae)||-1!==Qd.indexOf(Ae))return jt;if(8===Yc(b,c))return"\xf7";if(11===mA.get(l[b])||(N===oa||N===aa)&&11===mA.get(l[O])||7===N||7===Ae||9===N||-1===[FA,Oc,co].indexOf(N)&&9===Ae||-1!==[sa,lo,Ap,_s,ws].indexOf(Ae)||Yc(b,c)===uo||Jc(23,uo,b,c)||Jc([sa,lo],Dc,b,c)||Jc(12,12,b,c))return jt;if(N===FA)return"\xf7";if(23===N||23===Ae)return jt;if(16===Ae||16===N)return"\xf7";if(-1!==[Oc,co,Dc].indexOf(Ae)||14===N||36===W&&-1!==ap.indexOf(N)||N===ws&&36===Ae||Ae===xd||-1!==qn.indexOf(Ae)&&N===ZA||-1!==qn.indexOf(N)&&Ae===ZA||N===po&&-1!==[fo,oa,aa].indexOf(Ae)||-1!==[fo,oa,aa].indexOf(N)&&Ae===ho||-1!==qn.indexOf(N)&&-1!==Fd.indexOf(Ae)||-1!==Fd.indexOf(N)&&-1!==qn.indexOf(Ae)||-1!==[po,ho].indexOf(N)&&(Ae===ZA||-1!==[uo,co].indexOf(Ae)&&c[O+1]===ZA)||-1!==[uo,co].indexOf(N)&&Ae===ZA||N===ZA&&-1!==[ZA,ws,_s].indexOf(Ae))return jt;if(-1!==[ZA,ws,_s,sa,lo].indexOf(Ae))for(var de=b;de>=0;){if((xe=c[de])===ZA)return jt;if(-1===[ws,_s].indexOf(xe))break;de--}if(-1!==[po,ho].indexOf(Ae))for(de=-1!==[sa,lo].indexOf(N)?Q:b;de>=0;){var xe;if((xe=c[de])===ZA)return jt;if(-1===[ws,_s].indexOf(xe))break;de--}if(Gc===N&&-1!==[Gc,ca,Zc,jc].indexOf(Ae)||-1!==[ca,Zc].indexOf(N)&&-1!==[ca,la].indexOf(Ae)||-1!==[la,jc].indexOf(N)&&Ae===la||-1!==zd.indexOf(N)&&-1!==[xd,ho].indexOf(Ae)||-1!==zd.indexOf(Ae)&&N===po||-1!==qn.indexOf(N)&&-1!==qn.indexOf(Ae)||N===_s&&-1!==qn.indexOf(Ae)||-1!==qn.concat(ZA).indexOf(N)&&Ae===uo&&-1===sp.indexOf(l[O])||-1!==qn.concat(ZA).indexOf(Ae)&&N===lo)return jt;if(41===N&&41===Ae){for(var tt=u[b],Ze=1;tt>0&&41===c[--tt];)Ze++;if(Ze%2!=0)return jt}return N===oa&&Ae===aa?jt:"\xf7"},cp=function(l,c){c||(c={lineBreak:"normal",wordBreak:"normal"});var u=function(l,c){void 0===c&&(c="strict");var u=[],d=[],w=[];return l.forEach(function(b,Q){var O=mA.get(b);if(O>50?(w.push(!0),O-=50):w.push(!1),-1!==["normal","auto","loose"].indexOf(c)&&-1!==[8208,8211,12316,12448].indexOf(b))return d.push(Q),u.push(16);if(4===O||11===O){if(0===Q)return d.push(Q),u.push(Gi);var N=u[Q-1];return-1===op.indexOf(N)?(d.push(d[Q-1]),u.push(N)):(d.push(Q),u.push(Gi))}return d.push(Q),31===O?u.push("strict"===c?Dc:fo):O===Td||29===O?u.push(Gi):43===O?u.push(b>=131072&&b<=196605||b>=196608&&b<=262141?fo:Gi):void u.push(O)}),[d,u,w]}(l,c.lineBreak),d=u[0],w=u[1],b=u[2];return("break-all"===c.wordBreak||"break-word"===c.wordBreak)&&(w=w.map(function(O){return-1!==[ZA,Gi,Td].indexOf(O)?fo:O})),[d,w,"keep-all"===c.wordBreak?b.map(function(O,N){return O&&l[N]>=19968&&l[N]<=40959}):void 0]},qc=function(){function l(c,u,d,w){this.codePoints=c,this.required="!"===u,this.start=d,this.end=w}return l.prototype.slice=function(){return Ve.apply(void 0,this.codePoints.slice(this.start,this.end))},l}(),_A=function(l){return l>=48&&l<=57},RA=function(l){return _A(l)||l>=65&&l<=70||l>=97&&l<=102},zA=function(l){return 10===l||9===l||32===l},En=function(l){return function(l){return function(l){return l>=97&&l<=122}(l)||function(l){return l>=65&&l<=90}(l)}(l)||function(l){return l>=128}(l)||95===l},Wn=function(l){return En(l)||_A(l)||45===l},Gd=function(l){return l>=0&&l<=8||11===l||l>=14&&l<=31||127===l},qr=function(l,c){return 92===l&&10!==c},xo=function(l,c,u){return 45===l?En(c)||qr(c,u):!!En(l)||!(92!==l||!qr(l,c))},_a=function(l,c,u){return 43===l||45===l?!!_A(c)||46===c&&_A(u):_A(46===l?c:l)},Kd=function(l){var c=0,u=1;(43===l[c]||45===l[c])&&(45===l[c]&&(u=-1),c++);for(var d=[];_A(l[c]);)d.push(l[c++]);var w=d.length?parseInt(Ve.apply(void 0,d),10):0;46===l[c]&&c++;for(var b=[];_A(l[c]);)b.push(l[c++]);var Q=b.length,O=Q?parseInt(Ve.apply(void 0,b),10):0;(69===l[c]||101===l[c])&&c++;var N=1;(43===l[c]||45===l[c])&&(45===l[c]&&(N=-1),c++);for(var W=[];_A(l[c]);)W.push(l[c++]);var Ae=W.length?parseInt(Ve.apply(void 0,W),10):0;return u*(w+O*Math.pow(10,-Q))*Math.pow(10,N*Ae)},Jd={type:2},Tm={type:3},km={type:4},Qm={type:13},fp={type:8},wa={type:21},Fm={type:9},zm={type:10},Yd={type:11},yo={type:12},Um={type:14},Al={type:23},Sm={type:1},qd={type:25},Im={type:24},Mm={type:26},gp={type:27},rl={type:28},Em={type:29},Lm={type:31},Vd={type:32},ks=function(){function l(){this._value=[]}return l.prototype.write=function(c){this._value=this._value.concat(pt(c))},l.prototype.read=function(){for(var c=[],u=this.consumeToken();u!==Vd;)c.push(u),u=this.consumeToken();return c},l.prototype.consumeToken=function(){var c=this.consumeCodePoint();switch(c){case 34:return this.consumeStringToken(34);case 35:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Wn(u)||qr(d,w)){var b=xo(u,d,w)?2:1;return{type:5,value:this.consumeName(),flags:b}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qm;break;case 39:return this.consumeStringToken(39);case 40:return Jd;case 41:return Tm;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Um;break;case 43:if(_a(c,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(c),this.consumeNumericToken();break;case 44:return km;case 45:var O=c,N=this.peekCodePoint(0),W=this.peekCodePoint(1);if(_a(O,N,W))return this.reconsumeCodePoint(c),this.consumeNumericToken();if(xo(O,N,W))return this.reconsumeCodePoint(c),this.consumeIdentLikeToken();if(45===N&&62===W)return this.consumeCodePoint(),this.consumeCodePoint(),Im;break;case 46:if(_a(c,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(c),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var Ae=this.consumeCodePoint();if(42===Ae&&47===(Ae=this.consumeCodePoint()))return this.consumeToken();if(-1===Ae)return this.consumeToken()}break;case 58:return Mm;case 59:return gp;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),qd;break;case 64:var de=this.peekCodePoint(0),xe=this.peekCodePoint(1),tt=this.peekCodePoint(2);if(xo(de,xe,tt))return{type:7,value:this.consumeName()};break;case 91:return rl;case 92:if(qr(c,this.peekCodePoint(0)))return this.reconsumeCodePoint(c),this.consumeIdentLikeToken();break;case 93:return Em;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),fp;break;case 123:return Yd;case 125:return yo;case 117:case 85:var Ze=this.peekCodePoint(0),Je=this.peekCodePoint(1);return 43===Ze&&(RA(Je)||63===Je)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(c),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Fm;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),wa;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),zm;break;case-1:return Vd}return zA(c)?(this.consumeWhiteSpace(),Lm):_A(c)?(this.reconsumeCodePoint(c),this.consumeNumericToken()):En(c)?(this.reconsumeCodePoint(c),this.consumeIdentLikeToken()):{type:6,value:Ve(c)}},l.prototype.consumeCodePoint=function(){var c=this._value.shift();return typeof c>"u"?-1:c},l.prototype.reconsumeCodePoint=function(c){this._value.unshift(c)},l.prototype.peekCodePoint=function(c){return c>=this._value.length?-1:this._value[c]},l.prototype.consumeUnicodeRangeToken=function(){for(var c=[],u=this.consumeCodePoint();RA(u)&&c.length<6;)c.push(u),u=this.consumeCodePoint();for(var d=!1;63===u&&c.length<6;)c.push(u),u=this.consumeCodePoint(),d=!0;if(d)return{type:30,start:parseInt(Ve.apply(void 0,c.map(function(N){return 63===N?48:N})),16),end:parseInt(Ve.apply(void 0,c.map(function(N){return 63===N?70:N})),16)};var Q=parseInt(Ve.apply(void 0,c),16);if(45===this.peekCodePoint(0)&&RA(this.peekCodePoint(1))){this.consumeCodePoint(),u=this.consumeCodePoint();for(var O=[];RA(u)&&O.length<6;)O.push(u),u=this.consumeCodePoint();return{type:30,start:Q,end:parseInt(Ve.apply(void 0,O),16)}}return{type:30,start:Q,end:Q}},l.prototype.consumeIdentLikeToken=function(){var c=this.consumeName();return"url"===c.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:c}):{type:20,value:c}},l.prototype.consumeUrlToken=function(){var c=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var u=this.peekCodePoint(0);if(39===u||34===u){var d=this.consumeStringToken(this.consumeCodePoint());return 0===d.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:d.value}):(this.consumeBadUrlRemnants(),Al)}for(;;){var w=this.consumeCodePoint();if(-1===w||41===w)return{type:22,value:Ve.apply(void 0,c)};if(zA(w))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:Ve.apply(void 0,c)}):(this.consumeBadUrlRemnants(),Al);if(34===w||39===w||40===w||Gd(w))return this.consumeBadUrlRemnants(),Al;if(92===w){if(!qr(w,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Al;c.push(this.consumeEscapedCodePoint())}else c.push(w)}},l.prototype.consumeWhiteSpace=function(){for(;zA(this.peekCodePoint(0));)this.consumeCodePoint()},l.prototype.consumeBadUrlRemnants=function(){for(;;){var c=this.consumeCodePoint();if(41===c||-1===c)return;qr(c,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},l.prototype.consumeStringSlice=function(c){for(var d="";c>0;){var w=Math.min(5e4,c);d+=Ve.apply(void 0,this._value.splice(0,w)),c-=w}return this._value.shift(),d},l.prototype.consumeStringToken=function(c){for(var u="",d=0;;){var w=this._value[d];if(-1===w||void 0===w||w===c)return{type:0,value:u+=this.consumeStringSlice(d)};if(10===w)return this._value.splice(0,d),Sm;if(92===w){var b=this._value[d+1];-1!==b&&void 0!==b&&(10===b?(u+=this.consumeStringSlice(d),d=-1,this._value.shift()):qr(w,b)&&(u+=this.consumeStringSlice(d),u+=Ve(this.consumeEscapedCodePoint()),d=-1))}d++}},l.prototype.consumeNumber=function(){var c=[],u=4,d=this.peekCodePoint(0);for((43===d||45===d)&&c.push(this.consumeCodePoint());_A(this.peekCodePoint(0));)c.push(this.consumeCodePoint());d=this.peekCodePoint(0);var w=this.peekCodePoint(1);if(46===d&&_A(w))for(c.push(this.consumeCodePoint(),this.consumeCodePoint()),u=8;_A(this.peekCodePoint(0));)c.push(this.consumeCodePoint());d=this.peekCodePoint(0),w=this.peekCodePoint(1);var b=this.peekCodePoint(2);if((69===d||101===d)&&((43===w||45===w)&&_A(b)||_A(w)))for(c.push(this.consumeCodePoint(),this.consumeCodePoint()),u=8;_A(this.peekCodePoint(0));)c.push(this.consumeCodePoint());return[Kd(c),u]},l.prototype.consumeNumericToken=function(){var c=this.consumeNumber(),u=c[0],d=c[1],w=this.peekCodePoint(0),b=this.peekCodePoint(1),Q=this.peekCodePoint(2);return xo(w,b,Q)?{type:15,number:u,flags:d,unit:this.consumeName()}:37===w?(this.consumeCodePoint(),{type:16,number:u,flags:d}):{type:17,number:u,flags:d}},l.prototype.consumeEscapedCodePoint=function(){var c=this.consumeCodePoint();if(RA(c)){for(var u=Ve(c);RA(this.peekCodePoint(0))&&u.length<6;)u+=Ve(this.consumeCodePoint());zA(this.peekCodePoint(0))&&this.consumeCodePoint();var d=parseInt(u,16);return 0===d||function(l){return l>=55296&&l<=57343}(d)||d>1114111?65533:d}return-1===c?65533:c},l.prototype.consumeName=function(){for(var c="";;){var u=this.consumeCodePoint();if(Wn(u))c+=Ve(u);else{if(!qr(u,this.peekCodePoint(0)))return this.reconsumeCodePoint(u),c;c+=Ve(this.consumeEscapedCodePoint())}}},l}(),mp=function(){function l(c){this._tokens=c}return l.create=function(c){var u=new ks;return u.write(c),new l(u.read())},l.parseValue=function(c){return l.create(c).parseComponentValue()},l.parseValues=function(c){return l.create(c).parseComponentValues()},l.prototype.parseComponentValue=function(){for(var c=this.consumeToken();31===c.type;)c=this.consumeToken();if(32===c.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(c);var u=this.consumeComponentValue();do{c=this.consumeToken()}while(31===c.type);if(32===c.type)return u;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},l.prototype.parseComponentValues=function(){for(var c=[];;){var u=this.consumeComponentValue();if(32===u.type)return c;c.push(u),c.push()}},l.prototype.consumeComponentValue=function(){var c=this.consumeToken();switch(c.type){case 11:case 28:case 2:return this.consumeSimpleBlock(c.type);case 19:return this.consumeFunction(c)}return c},l.prototype.consumeSimpleBlock=function(c){for(var u={type:c,values:[]},d=this.consumeToken();;){if(32===d.type||Xd(d,c))return u;this.reconsumeToken(d),u.values.push(this.consumeComponentValue()),d=this.consumeToken()}},l.prototype.consumeFunction=function(c){for(var u={name:c.value,values:[],type:18};;){var d=this.consumeToken();if(32===d.type||3===d.type)return u;this.reconsumeToken(d),u.values.push(this.consumeComponentValue())}},l.prototype.consumeToken=function(){var c=this._tokens.shift();return typeof c>"u"?Vd:c},l.prototype.reconsumeToken=function(c){this._tokens.unshift(c)},l}(),va=function(l){return 15===l.type},Qs=function(l){return 17===l.type},nn=function(l){return 20===l.type},Nm=function(l){return 0===l.type},Wd=function(l,c){return nn(l)&&l.value===c},_p=function(l){return 31!==l.type},To=function(l){return 31!==l.type&&4!==l.type},nr=function(l){var c=[],u=[];return l.forEach(function(d){if(4===d.type){if(0===u.length)throw new Error("Error parsing function args, zero tokens for arg");return c.push(u),void(u=[])}31!==d.type&&u.push(d)}),u.length&&c.push(u),c},Xd=function(l,c){return 11===c&&12===l.type||28===c&&29===l.type||2===c&&3===l.type},bi=function(l){return 17===l.type||15===l.type},Ln=function(l){return 16===l.type||bi(l)},il=function(l){return l.length>1?[l[0],l[1]]:[l[0]]},dA={type:17,number:0,flags:4},Fs={type:16,number:50,flags:4},Vr={type:16,number:100,flags:4},Ca=function(l,c,u){var d=l[0],w=l[1];return[Bn(d,c),Bn(typeof w<"u"?w:d,u)]},Bn=function(l,c){if(16===l.type)return l.number/100*c;if(va(l))switch(l.unit){case"rem":case"em":return 16*l.number;default:return l.number}return l.number},sn_parse=function(l,c){if(15===c.type)switch(c.unit){case"deg":return Math.PI*c.number/180;case"grad":return Math.PI/200*c.number;case"rad":return c.number;case"turn":return 2*Math.PI*c.number}throw new Error("Unsupported angle type")},ba=function(l){return 15===l.type&&("deg"===l.unit||"grad"===l.unit||"rad"===l.unit||"turn"===l.unit)},sl=function(l){switch(l.filter(nn).map(function(u){return u.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[dA,dA];case"to top":case"bottom":return xA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[dA,Vr];case"to right":case"left":return xA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vr,Vr];case"to bottom":case"top":return xA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vr,dA];case"to left":case"right":return xA(270)}return 0},xA=function(l){return Math.PI*l/180},Ar_parse=function(l,c){if(18===c.type){var u=wA[c.name];if(typeof u>"u")throw new Error('Attempting to parse an unsupported color function "'+c.name+'"');return u(l,c.values)}if(5===c.type){if(3===c.value.length){var d=c.value.substring(0,1),w=c.value.substring(1,2),b=c.value.substring(2,3);return Wr(parseInt(d+d,16),parseInt(w+w,16),parseInt(b+b,16),1)}if(4===c.value.length){d=c.value.substring(0,1),w=c.value.substring(1,2),b=c.value.substring(2,3);var Q=c.value.substring(3,4);return Wr(parseInt(d+d,16),parseInt(w+w,16),parseInt(b+b,16),parseInt(Q+Q,16)/255)}if(6===c.value.length)return d=c.value.substring(0,2),w=c.value.substring(2,4),b=c.value.substring(4,6),Wr(parseInt(d,16),parseInt(w,16),parseInt(b,16),1);if(8===c.value.length)return d=c.value.substring(0,2),w=c.value.substring(2,4),b=c.value.substring(4,6),Q=c.value.substring(6,8),Wr(parseInt(d,16),parseInt(w,16),parseInt(b,16),parseInt(Q,16)/255)}if(20===c.type){var O=Fr[c.value.toUpperCase()];if(typeof O<"u")return O}return Fr.TRANSPARENT},Qr=function(l){return 0==(255&l)},Tn=function(l){var c=255&l,u=255&l>>8,d=255&l>>16,w=255&l>>24;return c<255?"rgba("+w+","+d+","+u+","+c/255+")":"rgb("+w+","+d+","+u+")"},Wr=function(l,c,u,d){return(l<<24|c<<16|u<<8|Math.round(255*d)<<0)>>>0},xa=function(l,c){if(17===l.type)return l.number;if(16===l.type){var u=3===c?1:255;return 3===c?l.number/100*u:Math.round(l.number/100*u)}return 0},ko=function(l,c){var u=c.filter(To);if(3===u.length){var d=u.map(xa);return Wr(d[0],d[1],d[2],1)}if(4===u.length){var O=u.map(xa);return Wr(O[0],O[1],O[2],O[3])}return 0};function rA(l,c,u){return u<0&&(u+=1),u>=1&&(u-=1),u<1/6?(c-l)*u*6+l:u<.5?c:u<2/3?6*(c-l)*(2/3-u)+l:l}var uA=function(l,c){var u=c.filter(To),d=u[0],w=u[1],b=u[2],Q=u[3],O=(17===d.type?xA(d.number):sn_parse(l,d))/(2*Math.PI),N=Ln(w)?w.number/100:0,W=Ln(b)?b.number/100:0,Ae=typeof Q<"u"&&Ln(Q)?Bn(Q,1):1;if(0===N)return Wr(255*W,255*W,255*W,1);var de=W<=.5?W*(N+1):W+N-W*N,xe=2*W-de,tt=rA(xe,de,O+1/3),Ze=rA(xe,de,O),Je=rA(xe,de,O-1/3);return Wr(255*tt,255*Ze,255*Je,Ae)},wA={hsl:uA,hsla:uA,rgb:ko,rgba:ko},Zn=function(l,c){return Ar_parse(l,mp.create(c).parseComponentValue())},Fr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Cp={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(l,c){return c.map(function(u){if(nn(u))switch(u.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},$d={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ya=function(l,c){var u=Ar_parse(l,c[0]),d=c[1];return d&&Ln(d)?{color:u,stop:d}:{color:u,stop:null}},eu=function(l,c){var u=l[0],d=l[l.length-1];null===u.stop&&(u.stop=dA),null===d.stop&&(d.stop=Vr);for(var w=[],b=0,Q=0;Q<l.length;Q++){var O=l[Q].stop;if(null!==O){var N=Bn(O,c);w.push(N>b?N:b),b=N}else w.push(null)}var W=null;for(Q=0;Q<w.length;Q++){var Ae=w[Q];if(null===Ae)null===W&&(W=Q);else if(null!==W){for(var de=Q-W,tt=(Ae-w[W-1])/(de+1),Ze=1;Ze<=de;Ze++)w[W+Ze-1]=tt*Ze;W=null}}return l.map(function(Je,St){return{color:Je.color,stop:Math.max(Math.min(1,w[St]/c),0)}})},Bp=function(l,c,u){var d="number"==typeof l?l:function(l,c,u){var d=c/2,w=u/2,b=Bn(l[0],c)-d,Q=w-Bn(l[1],u);return(Math.atan2(Q,b)+2*Math.PI)%(2*Math.PI)}(l,c,u),w=Math.abs(c*Math.sin(d))+Math.abs(u*Math.cos(d)),b=c/2,Q=u/2,O=w/2,N=Math.sin(d-Math.PI/2)*O,W=Math.cos(d-Math.PI/2)*O;return[w,b-W,b+W,Q-N,Q+N]},iA=function(l,c){return Math.sqrt(l*l+c*c)},Ta=function(l,c,u,d,w){return[[0,0],[0,c],[l,0],[l,c]].reduce(function(Q,O){var Ae=iA(u-O[0],d-O[1]);return(w?Ae<Q.optimumDistance:Ae>Q.optimumDistance)?{optimumCorner:O,optimumDistance:Ae}:Q},{optimumDistance:w?1/0:-1/0,optimumCorner:null}).optimumCorner},Xr=function(l,c){var u=xA(180),d=[];return nr(c).forEach(function(w,b){if(0===b){var Q=w[0];if(20===Q.type&&-1!==["top","left","right","bottom"].indexOf(Q.value))return void(u=sl(w));if(ba(Q))return void(u=(sn_parse(l,Q)+xA(270))%xA(360))}var O=ya(l,w);d.push(O)}),{angle:u,stops:d,type:1}},Qo="closest-side",al="farthest-side",xi="closest-corner",qi="farthest-corner",Un="ellipse",yi="contain",Ct=function(l,c){var u=0,d=3,w=[],b=[];return nr(c).forEach(function(Q,O){var N=!0;if(0===O?N=Q.reduce(function(Ae,de){if(nn(de))switch(de.value){case"center":return b.push(Fs),!1;case"top":case"left":return b.push(dA),!1;case"right":case"bottom":return b.push(Vr),!1}else if(Ln(de)||bi(de))return b.push(de),!1;return Ae},N):1===O&&(N=Q.reduce(function(Ae,de){if(nn(de))switch(de.value){case"circle":return u=0,!1;case Un:return u=1,!1;case yi:case Qo:return d=0,!1;case al:return d=1,!1;case xi:return d=2,!1;case"cover":case qi:return d=3,!1}else if(bi(de)||Ln(de))return Array.isArray(d)||(d=[]),d.push(de),!1;return Ae},N)),N){var W=ya(l,Q);w.push(W)}}),{size:d,shape:u,stops:w,position:b,type:2}},Qa_parse=function(l,c){if(22===c.type){var u={url:c.value,type:0};return l.cache.addImage(c.value),u}if(18===c.type){var d=Au[c.name];if(typeof d>"u")throw new Error('Attempting to parse an unsupported image function "'+c.name+'"');return d(l,c.values)}throw new Error("Unsupported image type "+c.type)};for(var Au={"linear-gradient":function(l,c){var u=xA(180),d=[];return nr(c).forEach(function(w,b){if(0===b){var Q=w[0];if(20===Q.type&&"to"===Q.value)return void(u=sl(w));if(ba(Q))return void(u=sn_parse(l,Q))}var O=ya(l,w);d.push(O)}),{angle:u,stops:d,type:1}},"-moz-linear-gradient":Xr,"-ms-linear-gradient":Xr,"-o-linear-gradient":Xr,"-webkit-linear-gradient":Xr,"radial-gradient":function(l,c){var u=0,d=3,w=[],b=[];return nr(c).forEach(function(Q,O){var N=!0;if(0===O){var W=!1;N=Q.reduce(function(de,xe){if(W)if(nn(xe))switch(xe.value){case"center":return b.push(Fs),de;case"top":case"left":return b.push(dA),de;case"right":case"bottom":return b.push(Vr),de}else(Ln(xe)||bi(xe))&&b.push(xe);else if(nn(xe))switch(xe.value){case"circle":return u=0,!1;case Un:return u=1,!1;case"at":return W=!0,!1;case Qo:return d=0,!1;case"cover":case al:return d=1,!1;case yi:case xi:return d=2,!1;case qi:return d=3,!1}else if(bi(xe)||Ln(xe))return Array.isArray(d)||(d=[]),d.push(xe),!1;return de},N)}if(N){var Ae=ya(l,Q);w.push(Ae)}}),{size:d,shape:u,stops:w,position:b,type:2}},"-moz-radial-gradient":Ct,"-ms-radial-gradient":Ct,"-o-radial-gradient":Ct,"-webkit-radial-gradient":Ct,"-webkit-gradient":function(l,c){var u=xA(180),d=[],w=1;return nr(c).forEach(function(N,W){var Ae=N[0];if(0===W){if(nn(Ae)&&"linear"===Ae.value)return void(w=1);if(nn(Ae)&&"radial"===Ae.value)return void(w=2)}if(18===Ae.type)if("from"===Ae.name){var de=Ar_parse(l,Ae.values[0]);d.push({stop:dA,color:de})}else if("to"===Ae.name)de=Ar_parse(l,Ae.values[0]),d.push({stop:Vr,color:de});else if("color-stop"===Ae.name){var xe=Ae.values.filter(To);if(2===xe.length){de=Ar_parse(l,xe[1]);var tt=xe[0];Qs(tt)&&d.push({stop:{type:16,number:100*tt.number,flags:tt.flags},color:de})}}}),1===w?{angle:(u+xA(180))%xA(360),stops:d,type:w}:{size:3,shape:0,stops:d,position:[],type:w}}},bp={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(l,c){if(0===c.length)return[];var u=c[0];return 20===u.type&&"none"===u.value?[]:c.filter(function(d){return To(d)&&function zr(l){return!(20===l.type&&"none"===l.value||18===l.type&&!Au[l.name])}(d)}).map(function(d){return Qa_parse(l,d)})}},xp={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(l,c){return c.map(function(u){if(nn(u))switch(u.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Nn={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(l,c){return nr(c).map(function(u){return u.filter(Ln)}).map(il)}},On={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(l,c){return nr(c).map(function(u){return u.filter(nn).map(function(d){return d.value}).join(" ")}).map(Pn)}},Pn=function(l){switch(l){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Fo=function(l){return l.AUTO="auto",l.CONTAIN="contain",l.COVER="cover",l}(Fo||{}),yp={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(l,c){return nr(c).map(function(u){return u.filter(cl)})}},cl=function(l){return nn(l)||Ln(l)},Vi=function(l){return{name:"border-"+l+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Tp=Vi("top"),kp=Vi("right"),Qp=Vi("bottom"),Fp=Vi("left"),zo=function(l){return{name:"border-radius-"+l,initialValue:"0 0",prefix:!1,type:1,parse:function(c,u){return il(u.filter(Ln))}}},ll=zo("top-left"),Ur=zo("top-right"),ru=zo("bottom-right"),iu=zo("bottom-left"),SA=function(l){return{name:"border-"+l+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(c,u){switch(u){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ss=SA("top"),Is=SA("right"),Ms=SA("bottom"),Fa=SA("left"),Dn=function(l){return{name:"border-"+l+"-width",initialValue:"0",type:0,prefix:!1,parse:function(c,u){return va(u)?u.number:0}}},za=Dn("top"),Es=Dn("right"),Ua=Dn("bottom"),Sa=Dn("left"),Wi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ia={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(l,c){return"rtl"===c?1:0}},ct={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(l,c){return c.filter(nn).reduce(function(u,d){return u|zp(d.value)},0)}},zp=function(l){switch(l){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Om={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},su={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(l,c){return 20===c.type&&"normal"===c.value?0:17===c.type||15===c.type?c.number:0}},Ma=function(l){return l.NORMAL="normal",l.STRICT="strict",l}(Ma||{}),ou={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){return"strict"===c?Ma.STRICT:Ma.NORMAL}},dl={name:"line-height",initialValue:"normal",prefix:!1,type:4},ul=function(l,c){return nn(l)&&"normal"===l.value?1.2*c:17===l.type?c*l.number:Ln(l)?Bn(l,c):c},Up={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(l,c){return 20===c.type&&"none"===c.value?null:Qa_parse(l,c)}},hl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(l,c){return"inside"===c?0:1}},Ea={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},La=function(l){return{name:"margin-"+l,initialValue:"0",prefix:!1,type:4}},au=La("top"),cu=La("right"),Sp=La("bottom"),lu=La("left"),Ip={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(l,c){return c.filter(nn).map(function(u){switch(u.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Mp={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){return"break-word"===c?"break-word":"normal"}},Xi=function(l){return{name:"padding-"+l,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},du=Xi("top"),uu=Xi("right"),pl=Xi("bottom"),Ls=Xi("left"),Na={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(l,c){switch(c){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},hu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(l,c){switch(c){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},pu={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(l,c){return 1===c.length&&Wd(c[0],"none")?[]:nr(c).map(function(u){for(var d={color:Fr.TRANSPARENT,offsetX:dA,offsetY:dA,blur:dA},w=0,b=0;b<u.length;b++){var Q=u[b];bi(Q)?(0===w?d.offsetX=Q:1===w?d.offsetY=Q:d.blur=Q,w++):d.color=Ar_parse(l,Q)}return d})}},fu={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ep={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(l,c){if(20===c.type&&"none"===c.value)return null;if(18===c.type){var u=fl[c.name];if(typeof u>"u")throw new Error('Attempting to parse an unsupported transform function "'+c.name+'"');return u(c.values)}return null}},fl={matrix:function(l){var c=l.filter(function(u){return 17===u.type}).map(function(u){return u.number});return 6===c.length?c:null},matrix3d:function(l){var c=l.filter(function(N){return 17===N.type}).map(function(N){return N.number});return 16===c.length?[c[0],c[1],c[4],c[5],c[12],c[13]]:null}},rr={type:16,number:50,flags:4},mu=[rr,rr],gr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(l,c){var u=c.filter(Ln);return 2!==u.length?mu:[u[0],u[1]]}},ki={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(l,c){switch(c){case"hidden":return 1;case"collapse":return 2;default:return 0}}},Oa=function(l){return l.NORMAL="normal",l.BREAK_ALL="break-all",l.KEEP_ALL="keep-all",l}(Oa||{}),Np={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){switch(c){case"break-all":return Oa.BREAK_ALL;case"keep-all":return Oa.KEEP_ALL;default:return Oa.NORMAL}}},Sr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(l,c){if(20===c.type)return{auto:!0,order:0};if(Qs(c))return{auto:!1,order:c.number};throw new Error("Invalid z-index number parsed")}},_u={name:"time",parse:function(l,c){if(15===c.type)switch(c.unit.toLowerCase()){case"s":return 1e3*c.number;case"ms":return c.number}throw new Error("Unsupported time type")}},wu={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(l,c){return Qs(c)?c.number:1}},vu={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Op={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(l,c){return c.filter(nn).map(function(u){switch(u.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(u){return 0!==u})}},Pp={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(l,c){var u=[],d=[];return c.forEach(function(w){switch(w.type){case 20:case 0:u.push(w.value);break;case 17:u.push(w.number.toString());break;case 4:d.push(u.join(" ")),u.length=0}}),u.length&&d.push(u.join(" ")),d.map(function(w){return-1===w.indexOf(" ")?w:"'"+w+"'"})}},Dp={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Hp={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(l,c){return Qs(c)?c.number:nn(c)&&"bold"===c.value?700:400}},Zp={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(l,c){return c.filter(nn).map(function(u){return u.value})}},jp={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(l,c){switch(c){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Xn=function(l,c){return 0!=(l&c)},Cu={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(l,c){if(0===c.length)return[];var u=c[0];return 20===u.type&&"none"===u.value?[]:c}},Rp={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(l,c){if(0===c.length)return null;var u=c[0];if(20===u.type&&"none"===u.value)return null;for(var d=[],w=c.filter(_p),b=0;b<w.length;b++){var Q=w[b],O=w[b+1];if(20===Q.type){var N=O&&Qs(O)?O.number:1;d.push({counter:Q.value,increment:N})}}return d}},Gp={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(l,c){if(0===c.length)return[];for(var u=[],d=c.filter(_p),w=0;w<d.length;w++){var b=d[w],Q=d[w+1];if(nn(b)&&"none"!==b.value){var O=Q&&Qs(Q)?Q.number:0;u.push({counter:b.value,reset:O})}}return u}},Kp={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(l,c){return c.filter(va).map(function(u){return _u.parse(l,u)})}},Jp={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(l,c){if(0===c.length)return null;var u=c[0];if(20===u.type&&"none"===u.value)return null;var d=[],w=c.filter(Nm);if(w.length%2!=0)return null;for(var b=0;b<w.length;b+=2)d.push({open:w[b].value,close:w[b+1].value});return d}},Bu=function(l,c,u){if(!l)return"";var d=l[Math.min(c,l.length-1)];return d?u?d.open:d.close:""},gl={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(l,c){return 1===c.length&&Wd(c[0],"none")?[]:nr(c).map(function(u){for(var d={color:255,offsetX:dA,offsetY:dA,blur:dA,spread:dA,inset:!1},w=0,b=0;b<u.length;b++){var Q=u[b];Wd(Q,"inset")?d.inset=!0:bi(Q)?(0===w?d.offsetX=Q:1===w?d.offsetY=Q:2===w?d.blur=Q:d.spread=Q,w++):d.color=Ar_parse(l,Q)}return d})}},Yp={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(l,c){var d=[];return c.filter(nn).forEach(function(w){switch(w.value){case"stroke":d.push(1);break;case"fill":d.push(0);break;case"markers":d.push(2)}}),[0,1,2].forEach(function(w){-1===d.indexOf(w)&&d.push(w)}),d}},ml={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_l={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(l,c){return va(c)?c.number:0}},Pa=function(){function l(c,u){var d,w;this.animationDuration=Xe(c,Kp,u.animationDuration),this.backgroundClip=Xe(c,Cp,u.backgroundClip),this.backgroundColor=Xe(c,$d,u.backgroundColor),this.backgroundImage=Xe(c,bp,u.backgroundImage),this.backgroundOrigin=Xe(c,xp,u.backgroundOrigin),this.backgroundPosition=Xe(c,Nn,u.backgroundPosition),this.backgroundRepeat=Xe(c,On,u.backgroundRepeat),this.backgroundSize=Xe(c,yp,u.backgroundSize),this.borderTopColor=Xe(c,Tp,u.borderTopColor),this.borderRightColor=Xe(c,kp,u.borderRightColor),this.borderBottomColor=Xe(c,Qp,u.borderBottomColor),this.borderLeftColor=Xe(c,Fp,u.borderLeftColor),this.borderTopLeftRadius=Xe(c,ll,u.borderTopLeftRadius),this.borderTopRightRadius=Xe(c,Ur,u.borderTopRightRadius),this.borderBottomRightRadius=Xe(c,ru,u.borderBottomRightRadius),this.borderBottomLeftRadius=Xe(c,iu,u.borderBottomLeftRadius),this.borderTopStyle=Xe(c,Ss,u.borderTopStyle),this.borderRightStyle=Xe(c,Is,u.borderRightStyle),this.borderBottomStyle=Xe(c,Ms,u.borderBottomStyle),this.borderLeftStyle=Xe(c,Fa,u.borderLeftStyle),this.borderTopWidth=Xe(c,za,u.borderTopWidth),this.borderRightWidth=Xe(c,Es,u.borderRightWidth),this.borderBottomWidth=Xe(c,Ua,u.borderBottomWidth),this.borderLeftWidth=Xe(c,Sa,u.borderLeftWidth),this.boxShadow=Xe(c,gl,u.boxShadow),this.color=Xe(c,Wi,u.color),this.direction=Xe(c,Ia,u.direction),this.display=Xe(c,ct,u.display),this.float=Xe(c,Om,u.cssFloat),this.fontFamily=Xe(c,Pp,u.fontFamily),this.fontSize=Xe(c,Dp,u.fontSize),this.fontStyle=Xe(c,jp,u.fontStyle),this.fontVariant=Xe(c,Zp,u.fontVariant),this.fontWeight=Xe(c,Hp,u.fontWeight),this.letterSpacing=Xe(c,su,u.letterSpacing),this.lineBreak=Xe(c,ou,u.lineBreak),this.lineHeight=Xe(c,dl,u.lineHeight),this.listStyleImage=Xe(c,Up,u.listStyleImage),this.listStylePosition=Xe(c,hl,u.listStylePosition),this.listStyleType=Xe(c,Ea,u.listStyleType),this.marginTop=Xe(c,au,u.marginTop),this.marginRight=Xe(c,cu,u.marginRight),this.marginBottom=Xe(c,Sp,u.marginBottom),this.marginLeft=Xe(c,lu,u.marginLeft),this.opacity=Xe(c,wu,u.opacity);var b=Xe(c,Ip,u.overflow);this.overflowX=b[0],this.overflowY=b[b.length>1?1:0],this.overflowWrap=Xe(c,Mp,u.overflowWrap),this.paddingTop=Xe(c,du,u.paddingTop),this.paddingRight=Xe(c,uu,u.paddingRight),this.paddingBottom=Xe(c,pl,u.paddingBottom),this.paddingLeft=Xe(c,Ls,u.paddingLeft),this.paintOrder=Xe(c,Yp,u.paintOrder),this.position=Xe(c,hu,u.position),this.textAlign=Xe(c,Na,u.textAlign),this.textDecorationColor=Xe(c,vu,null!==(d=u.textDecorationColor)&&void 0!==d?d:u.color),this.textDecorationLine=Xe(c,Op,null!==(w=u.textDecorationLine)&&void 0!==w?w:u.textDecoration),this.textShadow=Xe(c,pu,u.textShadow),this.textTransform=Xe(c,fu,u.textTransform),this.transform=Xe(c,Ep,u.transform),this.transformOrigin=Xe(c,gr,u.transformOrigin),this.visibility=Xe(c,ki,u.visibility),this.webkitTextStrokeColor=Xe(c,ml,u.webkitTextStrokeColor),this.webkitTextStrokeWidth=Xe(c,_l,u.webkitTextStrokeWidth),this.wordBreak=Xe(c,Np,u.wordBreak),this.zIndex=Xe(c,Sr,u.zIndex)}return l.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},l.prototype.isTransparent=function(){return Qr(this.backgroundColor)},l.prototype.isTransformed=function(){return null!==this.transform},l.prototype.isPositioned=function(){return 0!==this.position},l.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},l.prototype.isFloating=function(){return 0!==this.float},l.prototype.isInlineLevel=function(){return Xn(this.display,4)||Xn(this.display,33554432)||Xn(this.display,268435456)||Xn(this.display,536870912)||Xn(this.display,67108864)||Xn(this.display,134217728)},l}(),$r=function l(c,u){this.content=Xe(c,Cu,u.content),this.quotes=Xe(c,Jp,u.quotes)},Kt=function l(c,u){this.counterIncrement=Xe(c,Rp,u.counterIncrement),this.counterReset=Xe(c,Gp,u.counterReset)},Xe=function(l,c,u){var d=new ks,w=null!==u&&typeof u<"u"?u.toString():c.initialValue;d.write(w);var b=new mp(d.read());switch(c.type){case 2:var Q=b.parseComponentValue();return c.parse(l,nn(Q)?Q.value:c.initialValue);case 0:return c.parse(l,b.parseComponentValue());case 1:return c.parse(l,b.parseComponentValues());case 4:return b.parseComponentValue();case 3:switch(c.format){case"angle":return sn_parse(l,b.parseComponentValue());case"color":return Ar_parse(l,b.parseComponentValue());case"image":return Qa_parse(l,b.parseComponentValue());case"length":var O=b.parseComponentValue();return bi(O)?O:dA;case"length-percentage":var N=b.parseComponentValue();return Ln(N)?N:dA;case"time":return _u.parse(l,b.parseComponentValue())}}},wl=function(l,c){var u=function(l){switch(l.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(l);return 1===u||c===u},Ir=function l(c,u){this.context=c,this.textNodes=[],this.elements=[],this.flags=0,wl(u,3),this.styles=new Pa(c,window.getComputedStyle(u,null)),Ul(u)&&(this.styles.animationDuration.some(function(d){return d>0})&&(u.style.animationDuration="0s"),null!==this.styles.transform&&(u.style.transform="none")),this.bounds=yr(this.context,u),wl(u,4)&&(this.flags|=16)},Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",So=typeof Uint8Array>"u"?[]:new Uint8Array(256),Mr=0;Mr<64;Mr++)So[Da.charCodeAt(Mr)]=Mr;for(var yu=function(l,c,u){return l.slice?l.slice(c,u):new Uint16Array(Array.prototype.slice.call(l,c,u))},cf=function(){function l(c,u,d,w,b,Q){this.initialValue=c,this.errorValue=u,this.highStart=d,this.highValueIndex=w,this.index=b,this.data=Q}return l.prototype.get=function(c){var u;if(c>=0){if(c<55296||c>56319&&c<=65535)return this.data[u=((u=this.index[c>>5])<<2)+(31&c)];if(c<=65535)return this.data[u=((u=this.index[2048+(c-55296>>5)])<<2)+(31&c)];if(c<this.highStart)return u=this.index[u=2080+(c>>11)],this.data[u=((u=this.index[u+=c>>5&63])<<2)+(31&c)];if(c<=1114111)return this.data[this.highValueIndex]}return this.errorValue},l}(),Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lf=typeof Uint8Array>"u"?[]:new Uint8Array(256),Za=0;Za<64;Za++)lf[Tu.charCodeAt(Za)]=Za;var Fu=8,xl=9,zu=11,Uu=12,hf=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];if(String.fromCodePoint)return String.fromCodePoint.apply(String,l);var u=l.length;if(!u)return"";for(var d=[],w=-1,b="";++w<u;){var Q=l[w];Q<=65535?d.push(Q):d.push(55296+((Q-=65536)>>10),Q%1024+56320),(w+1===u||d.length>16384)&&(b+=String.fromCharCode.apply(String,d),d.length=0)}return b},pf=function(l,c){var u=function(l){var d,b,Q,O,N,c=.75*l.length,u=l.length,w=0;"="===l[l.length-1]&&(c--,"="===l[l.length-2]&&c--);var W=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(c):new Array(c),Ae=Array.isArray(W)?W:new Uint8Array(W);for(d=0;d<u;d+=4)b=So[l.charCodeAt(d)],Q=So[l.charCodeAt(d+1)],O=So[l.charCodeAt(d+2)],N=So[l.charCodeAt(d+3)],Ae[w++]=b<<2|Q>>4,Ae[w++]=(15&Q)<<4|O>>2,Ae[w++]=(3&O)<<6|63&N;return W}(l),d=Array.isArray(u)?function(l){for(var c=l.length,u=[],d=0;d<c;d+=4)u.push(l[d+3]<<24|l[d+2]<<16|l[d+1]<<8|l[d]);return u}(u):new Uint32Array(u),w=Array.isArray(u)?function(l){for(var c=l.length,u=[],d=0;d<c;d+=2)u.push(l[d+1]<<8|l[d]);return u}(u):new Uint16Array(u),Q=yu(w,12,d[4]/2),O=2===d[5]?yu(w,(24+d[4])/2):function(l,c,u){return l.slice?l.slice(c,u):new Uint32Array(Array.prototype.slice.call(l,c,u))}(d,Math.ceil((24+d[4])/4));return new cf(d[0],d[1],d[2],d[3],Q,O)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),ff=function(l){return pf.get(l)},gf=function(l,c,u){var d=u-2,w=c[d],b=c[u-1],Q=c[u];if(2===b&&3===Q)return"\xd7";if(2===b||3===b||4===b||2===Q||3===Q||4===Q)return"\xf7";if(b===Fu&&-1!==[Fu,xl,zu,Uu].indexOf(Q)||(b===zu||b===xl)&&(Q===xl||10===Q)||(b===Uu||10===b)&&10===Q||13===Q||5===Q||7===Q||1===b)return"\xd7";if(13===b&&14===Q){for(;5===w;)w=c[--d];if(14===w)return"\xd7"}if(15===b&&15===Q){for(var O=0;15===w;)O++,w=c[--d];if(O%2==0)return"\xd7"}return"\xf7"},mf=function(l){var c=function(l){for(var c=[],u=0,d=l.length;u<d;){var w=l.charCodeAt(u++);if(w>=55296&&w<=56319&&u<d){var b=l.charCodeAt(u++);56320==(64512&b)?c.push(((1023&w)<<10)+(1023&b)+65536):(c.push(w),u--)}else c.push(w)}return c}(l),u=c.length,d=0,w=0,b=c.map(ff);return{next:function(){if(d>=u)return{done:!0,value:null};for(var Q="\xd7";d<u&&"\xd7"===(Q=gf(0,b,++d)););if("\xd7"!==Q||d===u){var O=hf.apply(null,c.slice(w,d));return w=d,{value:O,done:!1}}return{done:!0,value:null}}}},Ga=function(l){return 0===l[0]&&255===l[1]&&0===l[2]&&255===l[3]},sr=function(l,c,u,d,w){var b="http://www.w3.org/2000/svg",Q=document.createElementNS(b,"svg"),O=document.createElementNS(b,"foreignObject");return Q.setAttributeNS(null,"width",l.toString()),Q.setAttributeNS(null,"height",c.toString()),O.setAttributeNS(null,"width","100%"),O.setAttributeNS(null,"height","100%"),O.setAttributeNS(null,"x",u.toString()),O.setAttributeNS(null,"y",d.toString()),O.setAttributeNS(null,"externalResourcesRequired","true"),Q.appendChild(O),O.appendChild(w),Q},Os=function(l){return new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,d.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(l))})},hA={get SUPPORT_RANGE_BOUNDS(){var l=function(l){if(l.createRange){var u=l.createRange();if(u.getBoundingClientRect){var d=l.createElement("boundtest");d.style.height="123px",d.style.display="block",l.body.appendChild(d),u.selectNode(d);var w=u.getBoundingClientRect(),b=Math.round(w.height);if(l.body.removeChild(d),123===b)return!0}}return!1}(document);return Object.defineProperty(hA,"SUPPORT_RANGE_BOUNDS",{value:l}),l},get SUPPORT_WORD_BREAKING(){var l=hA.SUPPORT_RANGE_BOUNDS&&function(l){var c=l.createElement("boundtest");c.style.width="50px",c.style.display="block",c.style.fontSize="12px",c.style.letterSpacing="0px",c.style.wordSpacing="0px",l.body.appendChild(c);var u=l.createRange();c.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var d=c.firstChild,w=pt(d.data).map(function(N){return Ve(N)}),b=0,Q={},O=w.every(function(N,W){u.setStart(d,b),u.setEnd(d,b+N.length);var Ae=u.getBoundingClientRect();b+=N.length;var de=Ae.x>Q.x||Ae.y>Q.y;return Q=Ae,0===W||de});return l.body.removeChild(c),O}(document);return Object.defineProperty(hA,"SUPPORT_WORD_BREAKING",{value:l}),l},get SUPPORT_SVG_DRAWING(){var l=function(l){var c=new Image,u=l.createElement("canvas"),d=u.getContext("2d");if(!d)return!1;c.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{d.drawImage(c,0,0),u.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(hA,"SUPPORT_SVG_DRAWING",{value:l}),l},get SUPPORT_FOREIGNOBJECT_DRAWING(){var l="function"==typeof Array.from&&"function"==typeof window.fetch?function(l){var c=l.createElement("canvas"),u=100;c.width=u,c.height=u;var d=c.getContext("2d");if(!d)return Promise.reject(!1);d.fillStyle="rgb(0, 255, 0)",d.fillRect(0,0,u,u);var w=new Image,b=c.toDataURL();w.src=b;var Q=sr(u,u,0,0,w);return d.fillStyle="red",d.fillRect(0,0,u,u),Os(Q).then(function(O){d.drawImage(O,0,0);var N=d.getImageData(0,0,u,u).data;d.fillStyle="red",d.fillRect(0,0,u,u);var W=l.createElement("div");return W.style.backgroundImage="url("+b+")",W.style.height=u+"px",Ga(N)?Os(sr(u,u,0,0,W)):Promise.reject(!1)}).then(function(O){return d.drawImage(O,0,0),Ga(d.getImageData(0,0,u,u).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(hA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:l}),l},get SUPPORT_CORS_IMAGES(){var l=typeof(new Image).crossOrigin<"u";return Object.defineProperty(hA,"SUPPORT_CORS_IMAGES",{value:l}),l},get SUPPORT_RESPONSE_TYPE(){var l="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(hA,"SUPPORT_RESPONSE_TYPE",{value:l}),l},get SUPPORT_CORS_XHR(){var l="withCredentials"in new XMLHttpRequest;return Object.defineProperty(hA,"SUPPORT_CORS_XHR",{value:l}),l},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var l=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(hA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:l}),l}},Mo=function l(c,u){this.text=c,this.bounds=u},xf=function(l,c){var u=c.ownerDocument;if(u){var d=u.createElement("html2canvaswrapper");d.appendChild(c.cloneNode(!0));var w=c.parentNode;if(w){w.replaceChild(d,c);var b=yr(l,d);return d.firstChild&&w.replaceChild(d.firstChild,d),b}}return Ot.EMPTY},Eu=function(l,c,u){var d=l.ownerDocument;if(!d)throw new Error("Node has no owner document");var w=d.createRange();return w.setStart(l,c),w.setEnd(l,c+u),w},Ql=function(l){if(hA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var c=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(c.segment(l)).map(function(u){return u.segment})}return function(l){for(var d,c=mf(l),u=[];!(d=c.next()).done;)d.value&&u.push(d.value.slice());return u}(l)},Tf=function(l,c){return 0!==c.letterSpacing?Ql(l):function(l,c){if(hA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var u=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(u.segment(l)).map(function(d){return d.segment})}return Qf(l,c)}(l,c)},kf=[32,160,4961,65792,65793,4153,4241],Qf=function(l,c){for(var w,u=function(l,c){var u=pt(l),d=cp(u,c),w=d[0],b=d[1],Q=d[2],O=u.length,N=0,W=0;return{next:function(){if(W>=O)return{done:!0,value:null};for(var Ae=jt;W<O&&(Ae=Sd(u,b,w,++W,Q))===jt;);if(Ae!==jt||W===O){var de=new qc(u,Ae,N,W);return N=W,{value:de,done:!1}}return{done:!0,value:null}}}}(l,{lineBreak:c.lineBreak,wordBreak:"break-word"===c.overflowWrap?"break-word":c.wordBreak}),d=[],b=function(){if(w.value){var Q=w.value.slice(),O=pt(Q),N="";O.forEach(function(W){-1===kf.indexOf(W)?N+=Ve(W):(N.length&&d.push(N),d.push(Ve(W)),N="")}),N.length&&d.push(N)}};!(w=u.next()).done;)b();return d},Ne=function l(c,u,d){this.text=ei(u.data,d.textTransform),this.textBounds=function(l,c,u,d){var w=Tf(c,u),b=[],Q=0;return w.forEach(function(O){if(u.textDecorationLine.length||O.trim().length>0)if(hA.SUPPORT_RANGE_BOUNDS){var N=Eu(d,Q,O.length).getClientRects();if(N.length>1){var W=Ql(O),Ae=0;W.forEach(function(xe){b.push(new Mo(xe,Ot.fromDOMRectList(l,Eu(d,Ae+Q,xe.length).getClientRects()))),Ae+=xe.length})}else b.push(new Mo(O,Ot.fromDOMRectList(l,N)))}else{var de=d.splitText(O.length);b.push(new Mo(O,xf(l,d))),d=de}else hA.SUPPORT_RANGE_BOUNDS||(d=d.splitText(O.length));Q+=O.length}),b}(c,this.text,d,u)},ei=function(l,c){switch(c){case 1:return l.toLowerCase();case 3:return l.replace(Ff,zf);case 2:return l.toUpperCase();default:return l}},Ff=/(^|\s|:|-|\(|\))([a-z])/g,zf=function(l,c,u){return l.length>0?c+u.toUpperCase():l},Lu=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w.src=d.currentSrc||d.src,w.intrinsicWidth=d.naturalWidth,w.intrinsicHeight=d.naturalHeight,w.context.cache.addImage(w.src),w}return oe(c,l),c}(Ir),Nu=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w.canvas=d,w.intrinsicWidth=d.width,w.intrinsicHeight=d.height,w}return oe(c,l),c}(Ir),Ou=function(l){function c(u,d){var w=l.call(this,u,d)||this,b=new XMLSerializer,Q=yr(u,d);return d.setAttribute("width",Q.width+"px"),d.setAttribute("height",Q.height+"px"),w.svg="data:image/svg+xml,"+encodeURIComponent(b.serializeToString(d)),w.intrinsicWidth=d.width.baseVal.value,w.intrinsicHeight=d.height.baseVal.value,w.context.cache.addImage(w.svg),w}return oe(c,l),c}(Ir),Pu=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w.value=d.value,w}return oe(c,l),c}(Ir),Fl=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w.start=d.start,w.reversed="boolean"==typeof d.reversed&&!0===d.reversed,w}return oe(c,l),c}(Ir),Uf=[{type:15,flags:0,unit:"px",number:3}],Sf=[{type:16,flags:0,number:50}],Eo="checkbox",Lo="radio",Ef="password",Du=707406591,zl=function(l){function c(u,d){var w=l.call(this,u,d)||this;switch(w.type=d.type.toLowerCase(),w.checked=d.checked,w.value=function(l){var c=l.type===Ef?new Array(l.value.length+1).join("\u2022"):l.value;return 0===c.length?l.placeholder||"":c}(d),(w.type===Eo||w.type===Lo)&&(w.styles.backgroundColor=3739148031,w.styles.borderTopColor=w.styles.borderRightColor=w.styles.borderBottomColor=w.styles.borderLeftColor=2779096575,w.styles.borderTopWidth=w.styles.borderRightWidth=w.styles.borderBottomWidth=w.styles.borderLeftWidth=1,w.styles.borderTopStyle=w.styles.borderRightStyle=w.styles.borderBottomStyle=w.styles.borderLeftStyle=1,w.styles.backgroundClip=[0],w.styles.backgroundOrigin=[0],w.bounds=function(l){return l.width>l.height?new Ot(l.left+(l.width-l.height)/2,l.top,l.height,l.height):l.width<l.height?new Ot(l.left,l.top+(l.height-l.width)/2,l.width,l.width):l}(w.bounds)),w.type){case Eo:w.styles.borderTopRightRadius=w.styles.borderTopLeftRadius=w.styles.borderBottomRightRadius=w.styles.borderBottomLeftRadius=Uf;break;case Lo:w.styles.borderTopRightRadius=w.styles.borderTopLeftRadius=w.styles.borderBottomRightRadius=w.styles.borderBottomLeftRadius=Sf}return w}return oe(c,l),c}(Ir),Hu=function(l){function c(u,d){var w=l.call(this,u,d)||this,b=d.options[d.selectedIndex||0];return w.value=b&&b.text||"",w}return oe(c,l),c}(Ir),Ka=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w.value=d.value,w}return oe(c,l),c}(Ir),ln=function(l){function c(u,d){var w=l.call(this,u,d)||this;w.src=d.src,w.width=parseInt(d.width,10)||0,w.height=parseInt(d.height,10)||0,w.backgroundColor=w.styles.backgroundColor;try{if(d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.documentElement){w.tree=Zu(u,d.contentWindow.document.documentElement);var b=d.contentWindow.document.documentElement?Zn(u,getComputedStyle(d.contentWindow.document.documentElement).backgroundColor):Fr.TRANSPARENT,Q=d.contentWindow.document.body?Zn(u,getComputedStyle(d.contentWindow.document.body).backgroundColor):Fr.TRANSPARENT;w.backgroundColor=Qr(b)?Qr(Q)?w.styles.backgroundColor:Q:b}}catch{}return w}return oe(c,l),c}(Ir),Lf=["OL","UL","MENU"],Er=function(l,c,u,d){for(var w=c.firstChild,b=void 0;w;w=b)if(b=w.nextSibling,ju(w)&&w.data.trim().length>0)u.textNodes.push(new Ne(l,w,u.styles));else if(Ps(w))if(Va(w)&&w.assignedNodes)w.assignedNodes().forEach(function(O){return Er(l,O,u,d)});else{var Q=Ja(l,w);Q.styles.isVisible()&&(Nf(w,Q,d)?Q.flags|=4:Of(Q.styles)&&(Q.flags|=2),-1!==Lf.indexOf(w.tagName)&&(Q.flags|=8),u.elements.push(Q),w.shadowRoot?Er(l,w.shadowRoot,Q,d):!$n(w)&&!Il(w)&&!Nr(w)&&Er(l,w,Q,d))}},Ja=function(l,c){return Ml(c)?new Lu(l,c):qa(c)?new Nu(l,c):Il(c)?new Ou(l,c):Sl(c)?new Pu(l,c):No(c)?new Fl(l,c):Qi(c)?new zl(l,c):Nr(c)?new Hu(l,c):$n(c)?new Ka(l,c):ti(c)?new ln(l,c):new Ir(l,c)},Zu=function(l,c){var u=Ja(l,c);return u.flags|=4,Er(l,c,u,u),u},Nf=function(l,c,u){return c.styles.isPositionedWithZIndex()||c.styles.opacity<1||c.styles.isTransformed()||Lr(l)&&u.styles.isTransparent()},Of=function(l){return l.isPositioned()||l.isFloating()},ju=function(l){return l.nodeType===Node.TEXT_NODE},Ps=function(l){return l.nodeType===Node.ELEMENT_NODE},Ul=function(l){return Ps(l)&&typeof l.style<"u"&&!Ya(l)},Ya=function(l){return"object"==typeof l.className},Sl=function(l){return"LI"===l.tagName},No=function(l){return"OL"===l.tagName},Qi=function(l){return"INPUT"===l.tagName},Il=function(l){return"svg"===l.tagName},Lr=function(l){return"BODY"===l.tagName},qa=function(l){return"CANVAS"===l.tagName},Ru=function(l){return"VIDEO"===l.tagName},Ml=function(l){return"IMG"===l.tagName},ti=function(l){return"IFRAME"===l.tagName},Oo=function(l){return"STYLE"===l.tagName},$n=function(l){return"TEXTAREA"===l.tagName},Nr=function(l){return"SELECT"===l.tagName},Va=function(l){return"SLOT"===l.tagName},Gu=function(l){return l.tagName.indexOf("-")>0},Df=function(){function l(){this.counters={}}return l.prototype.getCounterValue=function(c){var u=this.counters[c];return u&&u.length?u[u.length-1]:1},l.prototype.getCounterValues=function(c){return this.counters[c]||[]},l.prototype.pop=function(c){var u=this;c.forEach(function(d){return u.counters[d].pop()})},l.prototype.parse=function(c){var u=this,d=c.counterIncrement,w=c.counterReset,b=!0;null!==d&&d.forEach(function(O){var N=u.counters[O.counter];N&&0!==O.increment&&(b=!1,N.length||N.push(1),N[Math.max(0,N.length-1)]+=O.increment)});var Q=[];return b&&w.forEach(function(O){var N=u.counters[O.counter];Q.push(O.counter),N||(N=u.counters[O.counter]=[]),N.push(O.reset)}),Q},l}(),Ku={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ju={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Hf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Zf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ds=function(l,c,u,d,w,b){return l<c||l>u?Ho(l,w,b.length>0):d.integers.reduce(function(Q,O,N){for(;l>=O;)l-=O,Q+=d.values[N];return Q},"")+b},Yu=function(l,c,u,d){var w="";do{u||l--,w=d(l)+w,l/=c}while(l*c>=c);return w},Sn=function(l,c,u,d,w){var b=u-c+1;return(l<0?"-":"")+(Yu(Math.abs(l),b,d,function(Q){return Ve(Math.floor(Q%b)+c)})+w)},vA=function(l,c,u){void 0===u&&(u=". ");var d=c.length;return Yu(Math.abs(l),d,!1,function(w){return c[Math.floor(w%d)]})+u},Or=function(l,c,u,d,w,b){if(l<-9999||l>9999)return Ho(l,4,w.length>0);var Q=Math.abs(l),O=w;if(0===Q)return c[0]+O;for(var N=0;Q>0&&N<=4;N++){var W=Q%10;0===W&&Xn(b,1)&&""!==O?O=c[W]+O:W>1||1===W&&0===N||1===W&&1===N&&Xn(b,2)||1===W&&1===N&&Xn(b,4)&&l>100||1===W&&N>1&&Xn(b,8)?O=c[W]+(N>0?u[N-1]:"")+O:1===W&&N>0&&(O=u[N-1]+O),Q=Math.floor(Q/10)}return(l<0?d:"")+O},Ll="\ub9c8\uc774\ub108\uc2a4",Ho=function(l,c,u){var d=u?". ":"",w=u?"\u3001":"",b=u?", ":"",Q=u?" ":"";switch(c){case 0:return"\u2022"+Q;case 1:return"\u25e6"+Q;case 2:return"\u25fe"+Q;case 5:var O=Sn(l,48,57,!0,d);return O.length<4?"0"+O:O;case 4:return vA(l,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",w);case 6:return Ds(l,1,3999,Ku,3,d).toLowerCase();case 7:return Ds(l,1,3999,Ku,3,d);case 8:return Sn(l,945,969,!1,d);case 9:return Sn(l,97,122,!1,d);case 10:return Sn(l,65,90,!1,d);case 11:return Sn(l,1632,1641,!0,d);case 12:case 49:return Ds(l,1,9999,Ju,3,d);case 35:return Ds(l,1,9999,Ju,3,d).toLowerCase();case 13:return Sn(l,2534,2543,!0,d);case 14:case 30:return Sn(l,6112,6121,!0,d);case 15:return vA(l,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",w);case 16:return vA(l,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",w);case 17:case 48:return Or(l,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",w,14);case 47:return Or(l,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",w,15);case 42:return Or(l,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",w,14);case 41:return Or(l,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",w,15);case 26:return Or(l,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",w,0);case 25:return Or(l,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",w,7);case 31:return Or(l,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Ll,b,7);case 33:return Or(l,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Ll,b,0);case 32:return Or(l,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Ll,b,7);case 18:return Sn(l,2406,2415,!0,d);case 20:return Ds(l,1,19999,Zf,3,d);case 21:return Sn(l,2790,2799,!0,d);case 22:return Sn(l,2662,2671,!0,d);case 22:return Ds(l,1,10999,Hf,3,d);case 23:return vA(l,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return vA(l,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Sn(l,3302,3311,!0,d);case 28:return vA(l,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",w);case 29:return vA(l,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",w);case 34:return Sn(l,3792,3801,!0,d);case 37:return Sn(l,6160,6169,!0,d);case 38:return Sn(l,4160,4169,!0,d);case 39:return Sn(l,2918,2927,!0,d);case 40:return Sn(l,1776,1785,!0,d);case 43:return Sn(l,3046,3055,!0,d);case 44:return Sn(l,3174,3183,!0,d);case 45:return Sn(l,3664,3673,!0,d);case 46:return Sn(l,3872,3881,!0,d);default:return Sn(l,48,57,!0,d)}},qu="data-html2canvas-ignore",Vu=function(){function l(c,u,d){if(this.context=c,this.options=d,this.scrolledElements=[],this.referenceElement=u,this.counters=new Df,this.quoteDepth=0,!u.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(u.ownerDocument.documentElement,!1)}return l.prototype.toIFrame=function(c,u){var d=this,w=jf(c,u);if(!w.contentWindow)return Promise.reject("Unable to find iframe window");var b=c.defaultView.pageXOffset,Q=c.defaultView.pageYOffset,O=w.contentWindow,N=O.document,W=ni(w).then(function(){return wt(d,void 0,void 0,function(){var Ae,de;return ce(this,function(xe){switch(xe.label){case 0:return this.scrolledElements.forEach(Zo),O&&(O.scrollTo(u.left,u.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(O.scrollY!==u.top||O.scrollX!==u.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(O.scrollX-u.left,O.scrollY-u.top,0,0))),Ae=this.options.onclone,typeof(de=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:N.fonts&&N.fonts.ready?[4,N.fonts.ready]:[3,2];case 1:xe.sent(),xe.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Rf(N)]:[3,4];case 3:xe.sent(),xe.label=4;case 4:return"function"==typeof Ae?[2,Promise.resolve().then(function(){return Ae(N,de)}).then(function(){return w})]:[2,w]}})})});return N.open(),N.write(Gf(document.doctype)+"<html></html>"),me(this.referenceElement.ownerDocument,b,Q),N.replaceChild(N.adoptNode(this.documentElement),N.documentElement),N.close(),W},l.prototype.createElementClone=function(c){if(wl(c,2),qa(c))return this.createCanvasClone(c);if(Ru(c))return this.createVideoClone(c);if(Oo(c))return this.createStyleClone(c);var u=c.cloneNode(!1);return Ml(u)&&(Ml(c)&&c.currentSrc&&c.currentSrc!==c.src&&(u.src=c.currentSrc,u.srcset=""),"lazy"===u.loading&&(u.loading="eager")),Gu(u)?this.createCustomElementClone(u):u},l.prototype.createCustomElementClone=function(c){var u=document.createElement("html2canvascustomelement");return Nl(c.style,u),u},l.prototype.createStyleClone=function(c){try{var u=c.sheet;if(u&&u.cssRules){var d=[].slice.call(u.cssRules,0).reduce(function(b,Q){return Q&&"string"==typeof Q.cssText?b+Q.cssText:b},""),w=c.cloneNode(!1);return w.textContent=d,w}}catch(b){if(this.context.logger.error("Unable to access cssRules property",b),"SecurityError"!==b.name)throw b}return c.cloneNode(!1)},l.prototype.createCanvasClone=function(c){var u;if(this.options.inlineImages&&c.ownerDocument){var d=c.ownerDocument.createElement("img");try{return d.src=c.toDataURL(),d}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",c)}}var w=c.cloneNode(!1);try{w.width=c.width,w.height=c.height;var b=c.getContext("2d"),Q=w.getContext("2d");if(Q)if(!this.options.allowTaint&&b)Q.putImageData(b.getImageData(0,0,c.width,c.height),0,0);else{var O=null!==(u=c.getContext("webgl2"))&&void 0!==u?u:c.getContext("webgl");if(O){var N=O.getContextAttributes();!1===N?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",c)}Q.drawImage(c,0,0)}return w}catch{this.context.logger.info("Unable to clone canvas as it is tainted",c)}return w},l.prototype.createVideoClone=function(c){var u=c.ownerDocument.createElement("canvas");u.width=c.offsetWidth,u.height=c.offsetHeight;var d=u.getContext("2d");try{return d&&(d.drawImage(c,0,0,u.width,u.height),this.options.allowTaint||d.getImageData(0,0,u.width,u.height)),u}catch{this.context.logger.info("Unable to clone video as it is tainted",c)}var w=c.ownerDocument.createElement("canvas");return w.width=c.offsetWidth,w.height=c.offsetHeight,w},l.prototype.appendChildNode=function(c,u,d){(!Ps(u)||!function(l){return"SCRIPT"===l.tagName}(u)&&!u.hasAttribute(qu)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(u)))&&(!this.options.copyStyles||!Ps(u)||!Oo(u))&&c.appendChild(this.cloneNode(u,d))},l.prototype.cloneChildNodes=function(c,u,d){for(var w=this,b=c.shadowRoot?c.shadowRoot.firstChild:c.firstChild;b;b=b.nextSibling)if(Ps(b)&&Va(b)&&"function"==typeof b.assignedNodes){var Q=b.assignedNodes();Q.length&&Q.forEach(function(O){return w.appendChildNode(u,O,d)})}else this.appendChildNode(u,b,d)},l.prototype.cloneNode=function(c,u){if(ju(c))return document.createTextNode(c.data);if(!c.ownerDocument)return c.cloneNode(!1);var d=c.ownerDocument.defaultView;if(d&&Ps(c)&&(Ul(c)||Ya(c))){var w=this.createElementClone(c);w.style.transitionProperty="none";var b=d.getComputedStyle(c),Q=d.getComputedStyle(c,":before"),O=d.getComputedStyle(c,":after");this.referenceElement===c&&Ul(w)&&(this.clonedReferenceElement=w),Lr(w)&&Hs(w);var N=this.counters.parse(new Kt(this.context,b)),W=this.resolvePseudoContent(c,w,Q,Wa.BEFORE);Gu(c)&&(u=!0),Ru(c)||this.cloneChildNodes(c,w,u),W&&w.insertBefore(W,w.firstChild);var Ae=this.resolvePseudoContent(c,w,O,Wa.AFTER);return Ae&&w.appendChild(Ae),this.counters.pop(N),(b&&(this.options.copyStyles||Ya(c))&&!ti(c)||u)&&Nl(b,w),(0!==c.scrollTop||0!==c.scrollLeft)&&this.scrolledElements.push([w,c.scrollLeft,c.scrollTop]),($n(c)||Nr(c))&&($n(w)||Nr(w))&&(w.value=c.value),w}return c.cloneNode(!1)},l.prototype.resolvePseudoContent=function(c,u,d,w){var b=this;if(d){var Q=d.content,O=u.ownerDocument;if(O&&Q&&"none"!==Q&&"-moz-alt-content"!==Q&&"none"!==d.display){this.counters.parse(new Kt(this.context,d));var N=new $r(this.context,d),W=O.createElement("html2canvaspseudoelement");Nl(d,W),N.content.forEach(function(de){if(0===de.type)W.appendChild(O.createTextNode(de.value));else if(22===de.type){var xe=O.createElement("img");xe.src=de.value,xe.style.opacity="1",W.appendChild(xe)}else if(18===de.type){if("attr"===de.name){var tt=de.values.filter(nn);tt.length&&W.appendChild(O.createTextNode(c.getAttribute(tt[0].value)||""))}else if("counter"===de.name){var Ze=de.values.filter(To),St=Ze[1];if((Je=Ze[0])&&nn(Je)){var dt=b.counters.getCounterValue(Je.value),lt=St&&nn(St)?Ea.parse(b.context,St.value):3;W.appendChild(O.createTextNode(Ho(dt,lt,!1)))}}else if("counters"===de.name){var Je,Xt=de.values.filter(To),Et=Xt[1];if(St=Xt[2],(Je=Xt[0])&&nn(Je)){var Bt=b.counters.getCounterValues(Je.value),$e=St&&nn(St)?Ea.parse(b.context,St.value):3,Jt=Et&&0===Et.type?Et.value:"",Yt=Bt.map(function(IA){return Ho(IA,$e,!1)}).join(Jt);W.appendChild(O.createTextNode(Yt))}}}else if(20===de.type)switch(de.value){case"open-quote":W.appendChild(O.createTextNode(Bu(N.quotes,b.quoteDepth++,!0)));break;case"close-quote":W.appendChild(O.createTextNode(Bu(N.quotes,--b.quoteDepth,!1)));break;default:W.appendChild(O.createTextNode(de.value))}}),W.className=_r+" "+Ro;var Ae=w===Wa.BEFORE?" "+_r:" "+Ro;return Ya(u)?u.className.baseValue+=Ae:u.className+=Ae,W}}},l.destroy=function(c){return!!c.parentNode&&(c.parentNode.removeChild(c),!0)},l}(),Wa=function(l){return l[l.BEFORE=0]="BEFORE",l[l.AFTER=1]="AFTER",l}(Wa||{}),jf=function(l,c){var u=l.createElement("iframe");return u.className="html2canvas-container",u.style.visibility="hidden",u.style.position="fixed",u.style.left="-10000px",u.style.top="0px",u.style.border="0",u.width=c.width.toString(),u.height=c.height.toString(),u.scrolling="no",u.setAttribute(qu,"true"),l.body.appendChild(u),u},Wu=function(l){return new Promise(function(c){l.complete?c():l.src?(l.onload=c,l.onerror=c):c()})},Rf=function(l){return Promise.all([].slice.call(l.images,0).map(Wu))},ni=function(l){return new Promise(function(c,u){var d=l.contentWindow;if(!d)return u("No window assigned for iframe");var w=d.document;d.onload=l.onload=function(){d.onload=l.onload=null;var b=setInterval(function(){w.body.childNodes.length>0&&"complete"===w.readyState&&(clearInterval(b),c(l))},50)}})},Xa=["all","d","content"],Nl=function(l,c){for(var u=l.length-1;u>=0;u--){var d=l.item(u);-1===Xa.indexOf(d)&&c.style.setProperty(d,l.getPropertyValue(d))}return c},Gf=function(l){var c="";return l&&(c+="<!DOCTYPE ",l.name&&(c+=l.name),l.internalSubset&&(c+=l.internalSubset),l.publicId&&(c+='"'+l.publicId+'"'),l.systemId&&(c+='"'+l.systemId+'"'),c+=">"),c},me=function(l,c,u){l&&l.defaultView&&(c!==l.defaultView.pageXOffset||u!==l.defaultView.pageYOffset)&&l.defaultView.scrollTo(c,u)},Zo=function(l){var c=l[0],d=l[2];c.scrollLeft=l[1],c.scrollTop=d},_r="___html2canvas___pseudoelement_before",Ro="___html2canvas___pseudoelement_after",$a='{\n    content: "" !important;\n    display: none !important;\n}',Hs=function(l){Xu(l,"."+_r+":before"+$a+"\n         ."+Ro+":after"+$a)},Xu=function(l,c){var u=l.ownerDocument;if(u){var d=u.createElement("style");d.textContent=c,l.appendChild(d)}},$u=function(){function l(){}return l.getOrigin=function(c){var u=l._link;return u?(u.href=c,u.href=u.href,u.protocol+u.hostname+u.port):"about:blank"},l.isSameOrigin=function(c){return l.getOrigin(c)===l._origin},l.setContext=function(c){l._link=c.document.createElement("a"),l._origin=l.getOrigin(c.location.href)},l._origin="about:blank",l}(),jn=function(){function l(c,u){this.context=c,this._options=u,this._cache={}}return l.prototype.addImage=function(c){var u=Promise.resolve();return this.has(c)||(Pl(c)||qf(c))&&(this._cache[c]=this.loadImage(c)).catch(function(){}),u},l.prototype.match=function(c){return this._cache[c]},l.prototype.loadImage=function(c){return wt(this,void 0,void 0,function(){var u,d,w,b,Q=this;return ce(this,function(O){switch(O.label){case 0:return u=$u.isSameOrigin(c),d=!Ol(c)&&!0===this._options.useCORS&&hA.SUPPORT_CORS_IMAGES&&!u,w=!Ol(c)&&!u&&!Pl(c)&&"string"==typeof this._options.proxy&&hA.SUPPORT_CORS_XHR&&!d,u||!1!==this._options.allowTaint||Ol(c)||Pl(c)||w||d?(b=c,w?[4,this.proxy(b)]:[3,2]):[2];case 1:b=O.sent(),O.label=2;case 2:return this.context.logger.debug("Added image "+c.substring(0,256)),[4,new Promise(function(N,W){var Ae=new Image;Ae.onload=function(){return N(Ae)},Ae.onerror=W,(Vf(b)||d)&&(Ae.crossOrigin="anonymous"),Ae.src=b,!0===Ae.complete&&setTimeout(function(){return N(Ae)},500),Q._options.imageTimeout>0&&setTimeout(function(){return W("Timed out ("+Q._options.imageTimeout+"ms) loading image")},Q._options.imageTimeout)})];case 3:return[2,O.sent()]}})})},l.prototype.has=function(c){return typeof this._cache[c]<"u"},l.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},l.prototype.proxy=function(c){var u=this,d=this._options.proxy;if(!d)throw new Error("No proxy defined");var w=c.substring(0,256);return new Promise(function(b,Q){var O=hA.SUPPORT_RESPONSE_TYPE?"blob":"text",N=new XMLHttpRequest;N.onload=function(){if(200===N.status)if("text"===O)b(N.response);else{var de=new FileReader;de.addEventListener("load",function(){return b(de.result)},!1),de.addEventListener("error",function(xe){return Q(xe)},!1),de.readAsDataURL(N.response)}else Q("Failed to proxy resource "+w+" with status code "+N.status)},N.onerror=Q;var W=d.indexOf("?")>-1?"&":"?";if(N.open("GET",""+d+W+"url="+encodeURIComponent(c)+"&responseType="+O),"text"!==O&&N instanceof XMLHttpRequest&&(N.responseType=O),u._options.imageTimeout){var Ae=u._options.imageTimeout;N.timeout=Ae,N.ontimeout=function(){return Q("Timed out ("+Ae+"ms) proxying "+w)}}N.send()})},l}(),Pr=/^data:image\/svg\+xml/i,Jf=/^data:image\/.*;base64,/i,Yf=/^data:image\/.*/i,qf=function(l){return hA.SUPPORT_SVG_DRAWING||!Wf(l)},Ol=function(l){return Yf.test(l)},Vf=function(l){return Jf.test(l)},Pl=function(l){return"blob"===l.substr(0,4)},Wf=function(l){return"svg"===l.substr(-3).toLowerCase()||Pr.test(l)},We=function(){function l(c,u){this.type=0,this.x=c,this.y=u}return l.prototype.add=function(c,u){return new l(this.x+c,this.y+u)},l}(),Zs=function(l,c,u){return new We(l.x+(c.x-l.x)*u,l.y+(c.y-l.y)*u)},ec=function(){function l(c,u,d,w){this.type=1,this.start=c,this.startControl=u,this.endControl=d,this.end=w}return l.prototype.subdivide=function(c,u){var d=Zs(this.start,this.startControl,c),w=Zs(this.startControl,this.endControl,c),b=Zs(this.endControl,this.end,c),Q=Zs(d,w,c),O=Zs(w,b,c),N=Zs(Q,O,c);return u?new l(this.start,d,Q,N):new l(N,O,b,this.end)},l.prototype.add=function(c,u){return new l(this.start.add(c,u),this.startControl.add(c,u),this.endControl.add(c,u),this.end.add(c,u))},l.prototype.reverse=function(){return new l(this.end,this.endControl,this.startControl,this.start)},l}(),or=function(l){return 1===l.type},Xf=function l(c){var u=c.styles,d=c.bounds,w=Ca(u.borderTopLeftRadius,d.width,d.height),b=w[0],Q=w[1],O=Ca(u.borderTopRightRadius,d.width,d.height),N=O[0],W=O[1],Ae=Ca(u.borderBottomRightRadius,d.width,d.height),de=Ae[0],xe=Ae[1],tt=Ca(u.borderBottomLeftRadius,d.width,d.height),Ze=tt[0],Je=tt[1],St=[];St.push((b+N)/d.width),St.push((Ze+de)/d.width),St.push((Q+Je)/d.height),St.push((W+xe)/d.height);var dt=Math.max.apply(Math,St);dt>1&&(b/=dt,Q/=dt,N/=dt,W/=dt,de/=dt,xe/=dt,Ze/=dt,Je/=dt);var lt=d.width-N,Xt=d.height-xe,Et=d.width-de,Bt=d.height-Je,$e=u.borderTopWidth,Jt=u.borderRightWidth,Yt=u.borderBottomWidth,yt=u.borderLeftWidth,Rn=Bn(u.paddingTop,c.bounds.width),IA=Bn(u.paddingRight,c.bounds.width),GA=Bn(u.paddingBottom,c.bounds.width),pn=Bn(u.paddingLeft,c.bounds.width);this.topLeftBorderDoubleOuterBox=b>0||Q>0?kn(d.left+yt/3,d.top+$e/3,b-yt/3,Q-$e/3,dn.TOP_LEFT):new We(d.left+yt/3,d.top+$e/3),this.topRightBorderDoubleOuterBox=b>0||Q>0?kn(d.left+lt,d.top+$e/3,N-Jt/3,W-$e/3,dn.TOP_RIGHT):new We(d.left+d.width-Jt/3,d.top+$e/3),this.bottomRightBorderDoubleOuterBox=de>0||xe>0?kn(d.left+Et,d.top+Xt,de-Jt/3,xe-Yt/3,dn.BOTTOM_RIGHT):new We(d.left+d.width-Jt/3,d.top+d.height-Yt/3),this.bottomLeftBorderDoubleOuterBox=Ze>0||Je>0?kn(d.left+yt/3,d.top+Bt,Ze-yt/3,Je-Yt/3,dn.BOTTOM_LEFT):new We(d.left+yt/3,d.top+d.height-Yt/3),this.topLeftBorderDoubleInnerBox=b>0||Q>0?kn(d.left+2*yt/3,d.top+2*$e/3,b-2*yt/3,Q-2*$e/3,dn.TOP_LEFT):new We(d.left+2*yt/3,d.top+2*$e/3),this.topRightBorderDoubleInnerBox=b>0||Q>0?kn(d.left+lt,d.top+2*$e/3,N-2*Jt/3,W-2*$e/3,dn.TOP_RIGHT):new We(d.left+d.width-2*Jt/3,d.top+2*$e/3),this.bottomRightBorderDoubleInnerBox=de>0||xe>0?kn(d.left+Et,d.top+Xt,de-2*Jt/3,xe-2*Yt/3,dn.BOTTOM_RIGHT):new We(d.left+d.width-2*Jt/3,d.top+d.height-2*Yt/3),this.bottomLeftBorderDoubleInnerBox=Ze>0||Je>0?kn(d.left+2*yt/3,d.top+Bt,Ze-2*yt/3,Je-2*Yt/3,dn.BOTTOM_LEFT):new We(d.left+2*yt/3,d.top+d.height-2*Yt/3),this.topLeftBorderStroke=b>0||Q>0?kn(d.left+yt/2,d.top+$e/2,b-yt/2,Q-$e/2,dn.TOP_LEFT):new We(d.left+yt/2,d.top+$e/2),this.topRightBorderStroke=b>0||Q>0?kn(d.left+lt,d.top+$e/2,N-Jt/2,W-$e/2,dn.TOP_RIGHT):new We(d.left+d.width-Jt/2,d.top+$e/2),this.bottomRightBorderStroke=de>0||xe>0?kn(d.left+Et,d.top+Xt,de-Jt/2,xe-Yt/2,dn.BOTTOM_RIGHT):new We(d.left+d.width-Jt/2,d.top+d.height-Yt/2),this.bottomLeftBorderStroke=Ze>0||Je>0?kn(d.left+yt/2,d.top+Bt,Ze-yt/2,Je-Yt/2,dn.BOTTOM_LEFT):new We(d.left+yt/2,d.top+d.height-Yt/2),this.topLeftBorderBox=b>0||Q>0?kn(d.left,d.top,b,Q,dn.TOP_LEFT):new We(d.left,d.top),this.topRightBorderBox=N>0||W>0?kn(d.left+lt,d.top,N,W,dn.TOP_RIGHT):new We(d.left+d.width,d.top),this.bottomRightBorderBox=de>0||xe>0?kn(d.left+Et,d.top+Xt,de,xe,dn.BOTTOM_RIGHT):new We(d.left+d.width,d.top+d.height),this.bottomLeftBorderBox=Ze>0||Je>0?kn(d.left,d.top+Bt,Ze,Je,dn.BOTTOM_LEFT):new We(d.left,d.top+d.height),this.topLeftPaddingBox=b>0||Q>0?kn(d.left+yt,d.top+$e,Math.max(0,b-yt),Math.max(0,Q-$e),dn.TOP_LEFT):new We(d.left+yt,d.top+$e),this.topRightPaddingBox=N>0||W>0?kn(d.left+Math.min(lt,d.width-Jt),d.top+$e,lt>d.width+Jt?0:Math.max(0,N-Jt),Math.max(0,W-$e),dn.TOP_RIGHT):new We(d.left+d.width-Jt,d.top+$e),this.bottomRightPaddingBox=de>0||xe>0?kn(d.left+Math.min(Et,d.width-yt),d.top+Math.min(Xt,d.height-Yt),Math.max(0,de-Jt),Math.max(0,xe-Yt),dn.BOTTOM_RIGHT):new We(d.left+d.width-Jt,d.top+d.height-Yt),this.bottomLeftPaddingBox=Ze>0||Je>0?kn(d.left+yt,d.top+Math.min(Bt,d.height-Yt),Math.max(0,Ze-yt),Math.max(0,Je-Yt),dn.BOTTOM_LEFT):new We(d.left+yt,d.top+d.height-Yt),this.topLeftContentBox=b>0||Q>0?kn(d.left+yt+pn,d.top+$e+Rn,Math.max(0,b-(yt+pn)),Math.max(0,Q-($e+Rn)),dn.TOP_LEFT):new We(d.left+yt+pn,d.top+$e+Rn),this.topRightContentBox=N>0||W>0?kn(d.left+Math.min(lt,d.width+yt+pn),d.top+$e+Rn,lt>d.width+yt+pn?0:N-yt+pn,W-($e+Rn),dn.TOP_RIGHT):new We(d.left+d.width-(Jt+IA),d.top+$e+Rn),this.bottomRightContentBox=de>0||xe>0?kn(d.left+Math.min(Et,d.width-(yt+pn)),d.top+Math.min(Xt,d.height+$e+Rn),Math.max(0,de-(Jt+IA)),xe-(Yt+GA),dn.BOTTOM_RIGHT):new We(d.left+d.width-(Jt+IA),d.top+d.height-(Yt+GA)),this.bottomLeftContentBox=Ze>0||Je>0?kn(d.left+yt+pn,d.top+Bt,Math.max(0,Ze-(yt+pn)),Je-(Yt+GA),dn.BOTTOM_LEFT):new We(d.left+yt+pn,d.top+d.height-(Yt+GA))},dn=function(l){return l[l.TOP_LEFT=0]="TOP_LEFT",l[l.TOP_RIGHT=1]="TOP_RIGHT",l[l.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",l[l.BOTTOM_LEFT=3]="BOTTOM_LEFT",l}(dn||{}),kn=function(l,c,u,d,w){var b=(Math.sqrt(2)-1)/3*4,Q=u*b,O=d*b,N=l+u,W=c+d;switch(w){case dn.TOP_LEFT:return new ec(new We(l,W),new We(l,W-O),new We(N-Q,c),new We(N,c));case dn.TOP_RIGHT:return new ec(new We(l,c),new We(l+Q,c),new We(N,W-O),new We(N,W));case dn.BOTTOM_RIGHT:return new ec(new We(N,c),new We(N,c+O),new We(l+Q,W),new We(l,W));default:return new ec(new We(N,W),new We(N-Q,W),new We(l,c+O),new We(l,c))}},tc=function(l){return[l.topLeftBorderBox,l.topRightBorderBox,l.bottomRightBorderBox,l.bottomLeftBorderBox]},nc=function(l){return[l.topLeftPaddingBox,l.topRightPaddingBox,l.bottomRightPaddingBox,l.bottomLeftPaddingBox]},eh=function l(c,u,d){this.offsetX=c,this.offsetY=u,this.matrix=d,this.type=0,this.target=6},Ac=function l(c,u){this.path=c,this.target=u,this.type=1},eg=function l(c){this.opacity=c,this.type=2,this.target=6},th=function(l){return 1===l.type},nh=function(l,c){return l.length===c.length&&l.some(function(u,d){return u===c[d]})},Dl=function l(c){this.element=c,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},rh=function(){function l(c,u){if(this.container=c,this.parent=u,this.effects=[],this.curves=new Xf(this.container),this.container.styles.opacity<1&&this.effects.push(new eg(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new eh(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var Q=tc(this.curves),O=nc(this.curves);nh(Q,O)?this.effects.push(new Ac(Q,6)):(this.effects.push(new Ac(Q,2)),this.effects.push(new Ac(O,4)))}}return l.prototype.getEffects=function(c){for(var u=-1===[2,3].indexOf(this.container.styles.position),d=this.parent,w=this.effects.slice(0);d;){var b=d.effects.filter(function(N){return!th(N)});if(u||0!==d.container.styles.position||!d.parent){if(w.unshift.apply(w,b),u=-1===[2,3].indexOf(d.container.styles.position),0!==d.container.styles.overflowX){var Q=tc(d.curves),O=nc(d.curves);nh(Q,O)||w.unshift(new Ac(O,6))}}else w.unshift.apply(w,b);d=d.parent}return w.filter(function(N){return Xn(N.target,c)})},l}(),Hl=function(l,c,u,d){l.container.elements.forEach(function(w){var b=Xn(w.flags,4),Q=Xn(w.flags,2),O=new rh(w,l);Xn(w.styles.display,2048)&&d.push(O);var N=Xn(w.flags,8)?[]:d;if(b||Q){var W=b||w.styles.isPositioned()?u:c,Ae=new Dl(O);if(w.styles.isPositioned()||w.styles.opacity<1||w.styles.isTransformed()){var de=w.styles.zIndex.order;if(de<0){var xe=0;W.negativeZIndex.some(function(Ze,Je){return de>Ze.element.container.styles.zIndex.order?(xe=Je,!1):xe>0}),W.negativeZIndex.splice(xe,0,Ae)}else if(de>0){var tt=0;W.positiveZIndex.some(function(Ze,Je){return de>=Ze.element.container.styles.zIndex.order?(tt=Je+1,!1):tt>0}),W.positiveZIndex.splice(tt,0,Ae)}else W.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ae)}else w.styles.isFloating()?W.nonPositionedFloats.push(Ae):W.nonPositionedInlineLevel.push(Ae);Hl(O,Ae,b?Ae:u,N)}else w.styles.isInlineLevel()?c.inlineLevel.push(O):c.nonInlineLevel.push(O),Hl(O,c,u,N);Xn(w.flags,8)&&ih(w,N)})},ih=function(l,c){for(var u=l instanceof Fl?l.start:1,d=l instanceof Fl&&l.reversed,w=0;w<c.length;w++){var b=c[w];b.container instanceof Pu&&"number"==typeof b.container.value&&0!==b.container.value&&(u=b.container.value),b.listValue=Ho(u,b.container.styles.listStyleType,!0),u+=d?-1:1}},sh=function(l,c){switch(c){case 0:return ar(l.topLeftBorderBox,l.topLeftPaddingBox,l.topRightBorderBox,l.topRightPaddingBox);case 1:return ar(l.topRightBorderBox,l.topRightPaddingBox,l.bottomRightBorderBox,l.bottomRightPaddingBox);case 2:return ar(l.bottomRightBorderBox,l.bottomRightPaddingBox,l.bottomLeftBorderBox,l.bottomLeftPaddingBox);default:return ar(l.bottomLeftBorderBox,l.bottomLeftPaddingBox,l.topLeftBorderBox,l.topLeftPaddingBox)}},rc=function(l,c){var u=[];return or(l)?u.push(l.subdivide(.5,!1)):u.push(l),or(c)?u.push(c.subdivide(.5,!0)):u.push(c),u},ar=function(l,c,u,d){var w=[];return or(l)?w.push(l.subdivide(.5,!1)):w.push(l),or(u)?w.push(u.subdivide(.5,!0)):w.push(u),or(d)?w.push(d.subdivide(.5,!0).reverse()):w.push(d),or(c)?w.push(c.subdivide(.5,!1).reverse()):w.push(c),w},oh=function(l){var u=l.styles;return l.bounds.add(u.borderLeftWidth,u.borderTopWidth,-(u.borderRightWidth+u.borderLeftWidth),-(u.borderTopWidth+u.borderBottomWidth))},Go=function(l){var c=l.styles,u=l.bounds,d=Bn(c.paddingLeft,u.width),w=Bn(c.paddingRight,u.width),b=Bn(c.paddingTop,u.width),Q=Bn(c.paddingBottom,u.width);return u.add(d+c.borderLeftWidth,b+c.borderTopWidth,-(c.borderRightWidth+c.borderLeftWidth+d+w),-(c.borderTopWidth+c.borderBottomWidth+b+Q))},Zl=function(l,c,u){var d=function(l,c){return 0===l?c.bounds:2===l?Go(c):oh(c)}(Rs(l.styles.backgroundOrigin,c),l),w=function(l,c){return 0===l?c.bounds:2===l?Go(c):oh(c)}(Rs(l.styles.backgroundClip,c),l),b=cg(Rs(l.styles.backgroundSize,c),u,d),Q=b[0],O=b[1],N=Ca(Rs(l.styles.backgroundPosition,c),d.width-Q,d.height-O);return[lg(Rs(l.styles.backgroundRepeat,c),N,b,d,w),Math.round(d.left+N[0]),Math.round(d.top+N[1]),Q,O]},js=function(l){return nn(l)&&l.value===Fo.AUTO},ic=function(l){return"number"==typeof l},cg=function(l,c,u){var d=c[0],w=c[1],b=c[2],Q=l[0],O=l[1];if(!Q)return[0,0];if(Ln(Q)&&O&&Ln(O))return[Bn(Q,u.width),Bn(O,u.height)];var N=ic(b);if(nn(Q)&&(Q.value===Fo.CONTAIN||Q.value===Fo.COVER))return ic(b)?u.width/u.height<b!=(Q.value===Fo.COVER)?[u.width,u.width/b]:[u.height*b,u.height]:[u.width,u.height];var Ae=ic(d),de=ic(w),xe=Ae||de;if(js(Q)&&(!O||js(O)))return Ae&&de?[d,w]:N||xe?xe&&N?[Ae?d:w*b,de?w:d/b]:[Ae?d:u.width,de?w:u.height]:[u.width,u.height];if(N){var dt=0,lt=0;return Ln(Q)?dt=Bn(Q,u.width):Ln(O)&&(lt=Bn(O,u.height)),js(Q)?dt=lt*b:(!O||js(O))&&(lt=dt/b),[dt,lt]}var Xt=null,Et=null;if(Ln(Q)?Xt=Bn(Q,u.width):O&&Ln(O)&&(Et=Bn(O,u.height)),null!==Xt&&(!O||js(O))&&(Et=Ae&&de?Xt/d*w:u.height),null!==Et&&js(Q)&&(Xt=Ae&&de?Et/w*d:u.width),null!==Xt&&null!==Et)return[Xt,Et];throw new Error("Unable to calculate background-size for element")},Rs=function(l,c){var u=l[c];return typeof u>"u"?l[0]:u},lg=function(l,c,u,d,w){var b=c[0],Q=c[1],O=u[0],N=u[1];switch(l){case 2:return[new We(Math.round(d.left),Math.round(d.top+Q)),new We(Math.round(d.left+d.width),Math.round(d.top+Q)),new We(Math.round(d.left+d.width),Math.round(N+d.top+Q)),new We(Math.round(d.left),Math.round(N+d.top+Q))];case 3:return[new We(Math.round(d.left+b),Math.round(d.top)),new We(Math.round(d.left+b+O),Math.round(d.top)),new We(Math.round(d.left+b+O),Math.round(d.height+d.top)),new We(Math.round(d.left+b),Math.round(d.height+d.top))];case 1:return[new We(Math.round(d.left+b),Math.round(d.top+Q)),new We(Math.round(d.left+b+O),Math.round(d.top+Q)),new We(Math.round(d.left+b+O),Math.round(d.top+Q+N)),new We(Math.round(d.left+b),Math.round(d.top+Q+N))];default:return[new We(Math.round(w.left),Math.round(w.top)),new We(Math.round(w.left+w.width),Math.round(w.top)),new We(Math.round(w.left+w.width),Math.round(w.height+w.top)),new We(Math.round(w.left),Math.round(w.height+w.top))]}},ah="Hidden Text",ug=function(){function l(c){this._data={},this._document=c}return l.prototype.parseMetrics=function(c,u){var d=this._document.createElement("div"),w=this._document.createElement("img"),b=this._document.createElement("span"),Q=this._document.body;d.style.visibility="hidden",d.style.fontFamily=c,d.style.fontSize=u,d.style.margin="0",d.style.padding="0",d.style.whiteSpace="nowrap",Q.appendChild(d),w.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",w.width=1,w.height=1,w.style.margin="0",w.style.padding="0",w.style.verticalAlign="baseline",b.style.fontFamily=c,b.style.fontSize=u,b.style.margin="0",b.style.padding="0",b.appendChild(this._document.createTextNode(ah)),d.appendChild(b),d.appendChild(w);var O=w.offsetTop-b.offsetTop+2;d.removeChild(b),d.appendChild(this._document.createTextNode(ah)),d.style.lineHeight="normal",w.style.verticalAlign="super";var N=w.offsetTop-d.offsetTop+2;return Q.removeChild(d),{baseline:O,middle:N}},l.prototype.getMetrics=function(c,u){var d=c+" "+u;return typeof this._data[d]>"u"&&(this._data[d]=this.parseMetrics(c,u)),this._data[d]},l}(),ch=function l(c,u){this.context=c,this.options=u},pg=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w._activeEffects=[],w.canvas=d.canvas?d.canvas:document.createElement("canvas"),w.ctx=w.canvas.getContext("2d"),d.canvas||(w.canvas.width=Math.floor(d.width*d.scale),w.canvas.height=Math.floor(d.height*d.scale),w.canvas.style.width=d.width+"px",w.canvas.style.height=d.height+"px"),w.fontMetrics=new ug(document),w.ctx.scale(w.options.scale,w.options.scale),w.ctx.translate(-d.x,-d.y),w.ctx.textBaseline="bottom",w._activeEffects=[],w.context.logger.debug("Canvas renderer initialized ("+d.width+"x"+d.height+") with scale "+d.scale),w}return oe(c,l),c.prototype.applyEffects=function(u){for(var d=this;this._activeEffects.length;)this.popEffect();u.forEach(function(w){return d.applyEffect(w)})},c.prototype.applyEffect=function(u){this.ctx.save(),function(l){return 2===l.type}(u)&&(this.ctx.globalAlpha=u.opacity),function(l){return 0===l.type}(u)&&(this.ctx.translate(u.offsetX,u.offsetY),this.ctx.transform(u.matrix[0],u.matrix[1],u.matrix[2],u.matrix[3],u.matrix[4],u.matrix[5]),this.ctx.translate(-u.offsetX,-u.offsetY)),th(u)&&(this.path(u.path),this.ctx.clip()),this._activeEffects.push(u)},c.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},c.prototype.renderStack=function(u){return wt(this,void 0,void 0,function(){return ce(this,function(w){switch(w.label){case 0:return u.element.container.styles.isVisible()?[4,this.renderStackContent(u)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})})},c.prototype.renderNode=function(u){return wt(this,void 0,void 0,function(){return ce(this,function(d){switch(d.label){case 0:return Xn(u.container.flags,16),u.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(u)]:[3,3];case 1:return d.sent(),[4,this.renderNodeContent(u)];case 2:d.sent(),d.label=3;case 3:return[2]}})})},c.prototype.renderTextWithLetterSpacing=function(u,d,w){var b=this;0===d?this.ctx.fillText(u.text,u.bounds.left,u.bounds.top+w):Ql(u.text).reduce(function(O,N){return b.ctx.fillText(N,O,u.bounds.top+w),O+b.ctx.measureText(N).width},u.bounds.left)},c.prototype.createFontStyle=function(u){var d=u.fontVariant.filter(function(Q){return"normal"===Q||"small-caps"===Q}).join(""),w=wg(u.fontFamily).join(", "),b=va(u.fontSize)?""+u.fontSize.number+u.fontSize.unit:u.fontSize.number+"px";return[[u.fontStyle,d,u.fontWeight,b,w].join(" "),w,b]},c.prototype.renderTextNode=function(u,d){return wt(this,void 0,void 0,function(){var w,Q,O,N,W,Ae,de,xe=this;return ce(this,function(tt){return w=this.createFontStyle(d),Q=w[1],O=w[2],this.ctx.font=w[0],this.ctx.direction=1===d.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",N=this.fontMetrics.getMetrics(Q,O),W=N.baseline,Ae=N.middle,de=d.paintOrder,u.textBounds.forEach(function(Ze){de.forEach(function(Je){switch(Je){case 0:xe.ctx.fillStyle=Tn(d.color),xe.renderTextWithLetterSpacing(Ze,d.letterSpacing,W);var St=d.textShadow;St.length&&Ze.text.trim().length&&(St.slice(0).reverse().forEach(function(dt){xe.ctx.shadowColor=Tn(dt.color),xe.ctx.shadowOffsetX=dt.offsetX.number*xe.options.scale,xe.ctx.shadowOffsetY=dt.offsetY.number*xe.options.scale,xe.ctx.shadowBlur=dt.blur.number,xe.renderTextWithLetterSpacing(Ze,d.letterSpacing,W)}),xe.ctx.shadowColor="",xe.ctx.shadowOffsetX=0,xe.ctx.shadowOffsetY=0,xe.ctx.shadowBlur=0),d.textDecorationLine.length&&(xe.ctx.fillStyle=Tn(d.textDecorationColor||d.color),d.textDecorationLine.forEach(function(dt){switch(dt){case 1:xe.ctx.fillRect(Ze.bounds.left,Math.round(Ze.bounds.top+W),Ze.bounds.width,1);break;case 2:xe.ctx.fillRect(Ze.bounds.left,Math.round(Ze.bounds.top),Ze.bounds.width,1);break;case 3:xe.ctx.fillRect(Ze.bounds.left,Math.ceil(Ze.bounds.top+Ae),Ze.bounds.width,1)}}));break;case 1:d.webkitTextStrokeWidth&&Ze.text.trim().length&&(xe.ctx.strokeStyle=Tn(d.webkitTextStrokeColor),xe.ctx.lineWidth=d.webkitTextStrokeWidth,xe.ctx.lineJoin=window.chrome?"miter":"round",xe.ctx.strokeText(Ze.text,Ze.bounds.left,Ze.bounds.top+W)),xe.ctx.strokeStyle="",xe.ctx.lineWidth=0,xe.ctx.lineJoin="miter"}})}),[2]})})},c.prototype.renderReplacedElement=function(u,d,w){if(w&&u.intrinsicWidth>0&&u.intrinsicHeight>0){var b=Go(u),Q=nc(d);this.path(Q),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(w,0,0,u.intrinsicWidth,u.intrinsicHeight,b.left,b.top,b.width,b.height),this.ctx.restore()}},c.prototype.renderNodeContent=function(u){return wt(this,void 0,void 0,function(){var d,w,b,Q,O,Ae,de,xe,Ze,Je,St,dt,lt,Xt,Et,Bt;return ce(this,function($e){switch($e.label){case 0:this.applyEffects(u.getEffects(4)),w=u.curves,b=(d=u.container).styles,Q=0,O=d.textNodes,$e.label=1;case 1:return Q<O.length?[4,this.renderTextNode(O[Q],b)]:[3,4];case 2:$e.sent(),$e.label=3;case 3:return Q++,[3,1];case 4:if(!(d instanceof Lu))return[3,8];$e.label=5;case 5:return $e.trys.push([5,7,,8]),[4,this.context.cache.match(d.src)];case 6:return lt=$e.sent(),this.renderReplacedElement(d,w,lt),[3,8];case 7:return $e.sent(),this.context.logger.error("Error loading image "+d.src),[3,8];case 8:if(d instanceof Nu&&this.renderReplacedElement(d,w,d.canvas),!(d instanceof Ou))return[3,12];$e.label=9;case 9:return $e.trys.push([9,11,,12]),[4,this.context.cache.match(d.svg)];case 10:return lt=$e.sent(),this.renderReplacedElement(d,w,lt),[3,12];case 11:return $e.sent(),this.context.logger.error("Error loading svg "+d.svg.substring(0,255)),[3,12];case 12:return d instanceof ln&&d.tree?[4,new c(this.context,{scale:this.options.scale,backgroundColor:d.backgroundColor,x:0,y:0,width:d.width,height:d.height}).render(d.tree)]:[3,14];case 13:Ae=$e.sent(),d.width&&d.height&&this.ctx.drawImage(Ae,0,0,d.width,d.height,d.bounds.left,d.bounds.top,d.bounds.width,d.bounds.height),$e.label=14;case 14:if(d instanceof zl&&(de=Math.min(d.bounds.width,d.bounds.height),d.type===Eo?d.checked&&(this.ctx.save(),this.path([new We(d.bounds.left+.39363*de,d.bounds.top+.79*de),new We(d.bounds.left+.16*de,d.bounds.top+.5549*de),new We(d.bounds.left+.27347*de,d.bounds.top+.44071*de),new We(d.bounds.left+.39694*de,d.bounds.top+.5649*de),new We(d.bounds.left+.72983*de,d.bounds.top+.23*de),new We(d.bounds.left+.84*de,d.bounds.top+.34085*de),new We(d.bounds.left+.39363*de,d.bounds.top+.79*de)]),this.ctx.fillStyle=Tn(Du),this.ctx.fill(),this.ctx.restore()):d.type===Lo&&d.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(d.bounds.left+de/2,d.bounds.top+de/2,de/4,0,2*Math.PI,!0),this.ctx.fillStyle=Tn(Du),this.ctx.fill(),this.ctx.restore())),fg(d)&&d.value.length){switch(xe=this.createFontStyle(b),Ze=this.fontMetrics.getMetrics(Et=xe[0],xe[1]).baseline,this.ctx.font=Et,this.ctx.fillStyle=Tn(b.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mg(d.styles.textAlign),Bt=Go(d),Je=0,d.styles.textAlign){case 1:Je+=Bt.width/2;break;case 2:Je+=Bt.width}St=Bt.add(Je,0,0,-Bt.height/2+1),this.ctx.save(),this.path([new We(Bt.left,Bt.top),new We(Bt.left+Bt.width,Bt.top),new We(Bt.left+Bt.width,Bt.top+Bt.height),new We(Bt.left,Bt.top+Bt.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Mo(d.value,St),b.letterSpacing,Ze),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xn(d.styles.display,2048))return[3,20];if(null===d.styles.listStyleImage)return[3,19];if(0!==(dt=d.styles.listStyleImage).type)return[3,18];lt=void 0,Xt=dt.url,$e.label=15;case 15:return $e.trys.push([15,17,,18]),[4,this.context.cache.match(Xt)];case 16:return lt=$e.sent(),this.ctx.drawImage(lt,d.bounds.left-(lt.width+10),d.bounds.top),[3,18];case 17:return $e.sent(),this.context.logger.error("Error loading list-style-image "+Xt),[3,18];case 18:return[3,20];case 19:u.listValue&&-1!==d.styles.listStyleType&&(Et=this.createFontStyle(b)[0],this.ctx.font=Et,this.ctx.fillStyle=Tn(b.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Bt=new Ot(d.bounds.left,d.bounds.top+Bn(d.styles.paddingTop,d.bounds.width),d.bounds.width,ul(b.lineHeight,b.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Mo(u.listValue,Bt),b.letterSpacing,ul(b.lineHeight,b.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),$e.label=20;case 20:return[2]}})})},c.prototype.renderStackContent=function(u){return wt(this,void 0,void 0,function(){var d,w,b,Q,O,N,W,Ae,de,xe,tt,Ze,Je,St;return ce(this,function(lt){switch(lt.label){case 0:return Xn(u.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(u.element)];case 1:lt.sent(),d=0,w=u.negativeZIndex,lt.label=2;case 2:return d<w.length?[4,this.renderStack(w[d])]:[3,5];case 3:lt.sent(),lt.label=4;case 4:return d++,[3,2];case 5:return[4,this.renderNodeContent(u.element)];case 6:lt.sent(),b=0,Q=u.nonInlineLevel,lt.label=7;case 7:return b<Q.length?[4,this.renderNode(Q[b])]:[3,10];case 8:lt.sent(),lt.label=9;case 9:return b++,[3,7];case 10:O=0,N=u.nonPositionedFloats,lt.label=11;case 11:return O<N.length?[4,this.renderStack(N[O])]:[3,14];case 12:lt.sent(),lt.label=13;case 13:return O++,[3,11];case 14:W=0,Ae=u.nonPositionedInlineLevel,lt.label=15;case 15:return W<Ae.length?[4,this.renderStack(Ae[W])]:[3,18];case 16:lt.sent(),lt.label=17;case 17:return W++,[3,15];case 18:de=0,xe=u.inlineLevel,lt.label=19;case 19:return de<xe.length?[4,this.renderNode(xe[de])]:[3,22];case 20:lt.sent(),lt.label=21;case 21:return de++,[3,19];case 22:tt=0,Ze=u.zeroOrAutoZIndexOrTransformedOrOpacity,lt.label=23;case 23:return tt<Ze.length?[4,this.renderStack(Ze[tt])]:[3,26];case 24:lt.sent(),lt.label=25;case 25:return tt++,[3,23];case 26:Je=0,St=u.positiveZIndex,lt.label=27;case 27:return Je<St.length?[4,this.renderStack(St[Je])]:[3,30];case 28:lt.sent(),lt.label=29;case 29:return Je++,[3,27];case 30:return[2]}})})},c.prototype.mask=function(u){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(u.slice(0).reverse()),this.ctx.closePath()},c.prototype.path=function(u){this.ctx.beginPath(),this.formatPath(u),this.ctx.closePath()},c.prototype.formatPath=function(u){var d=this;u.forEach(function(w,b){var Q=or(w)?w.start:w;0===b?d.ctx.moveTo(Q.x,Q.y):d.ctx.lineTo(Q.x,Q.y),or(w)&&d.ctx.bezierCurveTo(w.startControl.x,w.startControl.y,w.endControl.x,w.endControl.y,w.end.x,w.end.y)})},c.prototype.renderRepeat=function(u,d,w,b){this.path(u),this.ctx.fillStyle=d,this.ctx.translate(w,b),this.ctx.fill(),this.ctx.translate(-w,-b)},c.prototype.resizeImage=function(u,d,w){var b;if(u.width===d&&u.height===w)return u;var O=(null!==(b=this.canvas.ownerDocument)&&void 0!==b?b:document).createElement("canvas");return O.width=Math.max(1,d),O.height=Math.max(1,w),O.getContext("2d").drawImage(u,0,0,u.width,u.height,0,0,d,w),O},c.prototype.renderBackgroundImage=function(u){return wt(this,void 0,void 0,function(){var d,w,b,Q,O;return ce(this,function(W){switch(W.label){case 0:d=u.styles.backgroundImage.length-1,w=function(Ae){var de,xe,tt,Ze,Je,St,dt,lt,Xt,Et,Bt,$e,Jt,Yt,yt,Rn,IA,GA,pn,pA,Si,MA,EA,ts,Dr,Ii,ns,As,Ai,rs,ri;return ce(this,function(Gs){switch(Gs.label){case 0:if(0!==Ae.type)return[3,5];de=void 0,xe=Ae.url,Gs.label=1;case 1:return Gs.trys.push([1,3,,4]),[4,b.context.cache.match(xe)];case 2:return de=Gs.sent(),[3,4];case 3:return Gs.sent(),b.context.logger.error("Error loading background-image "+xe),[3,4];case 4:return de&&(tt=Zl(u,d,[de.width,de.height,de.width/de.height]),Rn=tt[0],MA=tt[1],EA=tt[2],Yt=b.ctx.createPattern(b.resizeImage(de,pn=tt[3],pA=tt[4]),"repeat"),b.renderRepeat(Rn,Yt,MA,EA)),[3,6];case 5:!function(l){return 1===l.type}(Ae)?function(l){return 2===l.type}(Ae)&&(yt=Zl(u,d,[null,null,null]),Rn=yt[0],IA=yt[1],GA=yt[2],pA=yt[4],MA=Bn((Si=0===Ae.position.length?[Fs]:Ae.position)[0],pn=yt[3]),EA=Bn(Si[Si.length-1],pA),ts=function(l,c,u,d,w){var b=0,Q=0;switch(l.size){case 0:0===l.shape?b=Q=Math.min(Math.abs(c),Math.abs(c-d),Math.abs(u),Math.abs(u-w)):1===l.shape&&(b=Math.min(Math.abs(c),Math.abs(c-d)),Q=Math.min(Math.abs(u),Math.abs(u-w)));break;case 2:if(0===l.shape)b=Q=Math.min(iA(c,u),iA(c,u-w),iA(c-d,u),iA(c-d,u-w));else if(1===l.shape){var O=Math.min(Math.abs(u),Math.abs(u-w))/Math.min(Math.abs(c),Math.abs(c-d)),N=Ta(d,w,c,u,!0);Q=O*(b=iA(N[0]-c,(N[1]-u)/O))}break;case 1:0===l.shape?b=Q=Math.max(Math.abs(c),Math.abs(c-d),Math.abs(u),Math.abs(u-w)):1===l.shape&&(b=Math.max(Math.abs(c),Math.abs(c-d)),Q=Math.max(Math.abs(u),Math.abs(u-w)));break;case 3:if(0===l.shape)b=Q=Math.max(iA(c,u),iA(c,u-w),iA(c-d,u),iA(c-d,u-w));else if(1===l.shape){O=Math.max(Math.abs(u),Math.abs(u-w))/Math.max(Math.abs(c),Math.abs(c-d));var de=Ta(d,w,c,u,!1);Q=O*(b=iA(de[0]-c,(de[1]-u)/O))}}return Array.isArray(l.size)&&(b=Bn(l.size[0],d),Q=2===l.size.length?Bn(l.size[1],w):b),[b,Q]}(Ae,MA,EA,pn,pA),Ii=ts[1],(Dr=ts[0])>0&&Ii>0&&(ns=b.ctx.createRadialGradient(IA+MA,GA+EA,0,IA+MA,GA+EA,Dr),eu(Ae.stops,2*Dr).forEach(function(Ko){return ns.addColorStop(Ko.stop,Tn(Ko.color))}),b.path(Rn),b.ctx.fillStyle=ns,Dr!==Ii?(As=u.bounds.left+.5*u.bounds.width,Ai=u.bounds.top+.5*u.bounds.height,ri=1/(rs=Ii/Dr),b.ctx.save(),b.ctx.translate(As,Ai),b.ctx.transform(1,0,0,rs,0,0),b.ctx.translate(-As,-Ai),b.ctx.fillRect(IA,ri*(GA-Ai)+Ai,pn,pA*ri),b.ctx.restore()):b.ctx.fill())):(Ze=Zl(u,d,[null,null,null]),Rn=Ze[0],MA=Ze[1],EA=Ze[2],Je=Bp(Ae.angle,pn=Ze[3],pA=Ze[4]),St=Je[0],dt=Je[1],lt=Je[2],Xt=Je[3],Et=Je[4],(Bt=document.createElement("canvas")).width=pn,Bt.height=pA,$e=Bt.getContext("2d"),Jt=$e.createLinearGradient(dt,Xt,lt,Et),eu(Ae.stops,St).forEach(function(Ko){return Jt.addColorStop(Ko.stop,Tn(Ko.color))}),$e.fillStyle=Jt,$e.fillRect(0,0,pn,pA),pn>0&&pA>0&&(Yt=b.ctx.createPattern(Bt,"repeat"),b.renderRepeat(Rn,Yt,MA,EA))),Gs.label=6;case 6:return d--,[2]}})},b=this,Q=0,O=u.styles.backgroundImage.slice(0).reverse(),W.label=1;case 1:return Q<O.length?[5,w(O[Q])]:[3,4];case 2:W.sent(),W.label=3;case 3:return Q++,[3,1];case 4:return[2]}})})},c.prototype.renderSolidBorder=function(u,d,w){return wt(this,void 0,void 0,function(){return ce(this,function(b){return this.path(sh(w,d)),this.ctx.fillStyle=Tn(u),this.ctx.fill(),[2]})})},c.prototype.renderDoubleBorder=function(u,d,w,b){return wt(this,void 0,void 0,function(){var Q,O;return ce(this,function(N){switch(N.label){case 0:return d<3?[4,this.renderSolidBorder(u,w,b)]:[3,2];case 1:return N.sent(),[2];case 2:return Q=function(l,c){switch(c){case 0:return ar(l.topLeftBorderBox,l.topLeftBorderDoubleOuterBox,l.topRightBorderBox,l.topRightBorderDoubleOuterBox);case 1:return ar(l.topRightBorderBox,l.topRightBorderDoubleOuterBox,l.bottomRightBorderBox,l.bottomRightBorderDoubleOuterBox);case 2:return ar(l.bottomRightBorderBox,l.bottomRightBorderDoubleOuterBox,l.bottomLeftBorderBox,l.bottomLeftBorderDoubleOuterBox);default:return ar(l.bottomLeftBorderBox,l.bottomLeftBorderDoubleOuterBox,l.topLeftBorderBox,l.topLeftBorderDoubleOuterBox)}}(b,w),this.path(Q),this.ctx.fillStyle=Tn(u),this.ctx.fill(),O=function(l,c){switch(c){case 0:return ar(l.topLeftBorderDoubleInnerBox,l.topLeftPaddingBox,l.topRightBorderDoubleInnerBox,l.topRightPaddingBox);case 1:return ar(l.topRightBorderDoubleInnerBox,l.topRightPaddingBox,l.bottomRightBorderDoubleInnerBox,l.bottomRightPaddingBox);case 2:return ar(l.bottomRightBorderDoubleInnerBox,l.bottomRightPaddingBox,l.bottomLeftBorderDoubleInnerBox,l.bottomLeftPaddingBox);default:return ar(l.bottomLeftBorderDoubleInnerBox,l.bottomLeftPaddingBox,l.topLeftBorderDoubleInnerBox,l.topLeftPaddingBox)}}(b,w),this.path(O),this.ctx.fill(),[2]}})})},c.prototype.renderNodeBackgroundAndBorders=function(u){return wt(this,void 0,void 0,function(){var d,w,b,Q,O,N,W,Ae,de=this;return ce(this,function(xe){switch(xe.label){case 0:return this.applyEffects(u.getEffects(2)),w=!Qr((d=u.container.styles).backgroundColor)||d.backgroundImage.length,b=[{style:d.borderTopStyle,color:d.borderTopColor,width:d.borderTopWidth},{style:d.borderRightStyle,color:d.borderRightColor,width:d.borderRightWidth},{style:d.borderBottomStyle,color:d.borderBottomColor,width:d.borderBottomWidth},{style:d.borderLeftStyle,color:d.borderLeftColor,width:d.borderLeftWidth}],Q=gg(Rs(d.backgroundClip,0),u.curves),w||d.boxShadow.length?(this.ctx.save(),this.path(Q),this.ctx.clip(),Qr(d.backgroundColor)||(this.ctx.fillStyle=Tn(d.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(u.container)]):[3,2];case 1:xe.sent(),this.ctx.restore(),d.boxShadow.slice(0).reverse().forEach(function(tt){de.ctx.save();var Ze=tc(u.curves),Je=tt.inset?0:1e4,St=function(l,c,u,d,w){return l.map(function(b,Q){switch(Q){case 0:return b.add(c,u);case 1:return b.add(c+d,u);case 2:return b.add(c+d,u+w);case 3:return b.add(c,u+w)}return b})}(Ze,(tt.inset?1:-1)*tt.spread.number-Je,(tt.inset?1:-1)*tt.spread.number,tt.spread.number*(tt.inset?-2:2),tt.spread.number*(tt.inset?-2:2));tt.inset?(de.path(Ze),de.ctx.clip(),de.mask(St)):(de.mask(Ze),de.ctx.clip(),de.path(St)),de.ctx.shadowOffsetX=tt.offsetX.number+Je,de.ctx.shadowOffsetY=tt.offsetY.number,de.ctx.shadowColor=Tn(tt.color),de.ctx.shadowBlur=tt.blur.number,de.ctx.fillStyle=tt.inset?Tn(tt.color):"rgba(0,0,0,1)",de.ctx.fill(),de.ctx.restore()}),xe.label=2;case 2:O=0,N=0,W=b,xe.label=3;case 3:return N<W.length?0!==(Ae=W[N]).style&&!Qr(Ae.color)&&Ae.width>0?2!==Ae.style?[3,5]:[4,this.renderDashedDottedBorder(Ae.color,Ae.width,O,u.curves,2)]:[3,11]:[3,13];case 4:return xe.sent(),[3,11];case 5:return 3!==Ae.style?[3,7]:[4,this.renderDashedDottedBorder(Ae.color,Ae.width,O,u.curves,3)];case 6:return xe.sent(),[3,11];case 7:return 4!==Ae.style?[3,9]:[4,this.renderDoubleBorder(Ae.color,Ae.width,O,u.curves)];case 8:return xe.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ae.color,O,u.curves)];case 10:xe.sent(),xe.label=11;case 11:O++,xe.label=12;case 12:return N++,[3,3];case 13:return[2]}})})},c.prototype.renderDashedDottedBorder=function(u,d,w,b,Q){return wt(this,void 0,void 0,function(){var O,N,W,Ae,de,xe,tt,Ze,Je,St,dt,lt,Xt,Et,Bt,$e;return ce(this,function(Jt){return this.ctx.save(),O=function(l,c){switch(c){case 0:return rc(l.topLeftBorderStroke,l.topRightBorderStroke);case 1:return rc(l.topRightBorderStroke,l.bottomRightBorderStroke);case 2:return rc(l.bottomRightBorderStroke,l.bottomLeftBorderStroke);default:return rc(l.bottomLeftBorderStroke,l.topLeftBorderStroke)}}(b,w),N=sh(b,w),2===Q&&(this.path(N),this.ctx.clip()),or(N[0])?(W=N[0].start.x,Ae=N[0].start.y):(W=N[0].x,Ae=N[0].y),or(N[1])?(de=N[1].end.x,xe=N[1].end.y):(de=N[1].x,xe=N[1].y),tt=0===w||2===w?Math.abs(W-de):Math.abs(Ae-xe),this.ctx.beginPath(),this.formatPath(3===Q?O:N.slice(0,2)),Ze=d<3?3*d:2*d,Je=d<3?2*d:d,3===Q&&(Ze=d,Je=d),St=!0,tt<=2*Ze?St=!1:tt<=2*Ze+Je?(Ze*=dt=tt/(2*Ze+Je),Je*=dt):(lt=Math.floor((tt+Je)/(Ze+Je)),Xt=(tt-lt*Ze)/(lt-1),Je=(Et=(tt-(lt+1)*Ze)/lt)<=0||Math.abs(Je-Xt)<Math.abs(Je-Et)?Xt:Et),St&&this.ctx.setLineDash(3===Q?[0,Ze+Je]:[Ze,Je]),3===Q?(this.ctx.lineCap="round",this.ctx.lineWidth=d):this.ctx.lineWidth=2*d+1.1,this.ctx.strokeStyle=Tn(u),this.ctx.stroke(),this.ctx.setLineDash([]),2===Q&&(or(N[0])&&(Bt=N[3],$e=N[0],this.ctx.beginPath(),this.formatPath([new We(Bt.end.x,Bt.end.y),new We($e.start.x,$e.start.y)]),this.ctx.stroke()),or(N[1])&&(Bt=N[1],$e=N[2],this.ctx.beginPath(),this.formatPath([new We(Bt.end.x,Bt.end.y),new We($e.start.x,$e.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},c.prototype.render=function(u){return wt(this,void 0,void 0,function(){var d;return ce(this,function(w){switch(w.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Tn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),d=function(l){var c=new rh(l,null),u=new Dl(c),d=[];return Hl(c,u,u,d),ih(c.container,d),u}(u),[4,this.renderStack(d)];case 1:return w.sent(),this.applyEffects([]),[2,this.canvas]}})})},c}(ch),fg=function(l){return l instanceof Ka||l instanceof Hu||l instanceof zl&&l.type!==Lo&&l.type!==Eo},gg=function(l,c){switch(l){case 0:return tc(c);case 2:return function(l){return[l.topLeftContentBox,l.topRightContentBox,l.bottomRightContentBox,l.bottomLeftContentBox]}(c);default:return nc(c)}},mg=function(l){switch(l){case 1:return"center";case 2:return"right";default:return"left"}},_g=["-apple-system","system-ui"],wg=function(l){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?l.filter(function(c){return-1===_g.indexOf(c)}):l},vg=function(l){function c(u,d){var w=l.call(this,u,d)||this;return w.canvas=d.canvas?d.canvas:document.createElement("canvas"),w.ctx=w.canvas.getContext("2d"),w.options=d,w.canvas.width=Math.floor(d.width*d.scale),w.canvas.height=Math.floor(d.height*d.scale),w.canvas.style.width=d.width+"px",w.canvas.style.height=d.height+"px",w.ctx.scale(w.options.scale,w.options.scale),w.ctx.translate(-d.x,-d.y),w.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+d.width+"x"+d.height+" at "+d.x+","+d.y+") with scale "+d.scale),w}return oe(c,l),c.prototype.render=function(u){return wt(this,void 0,void 0,function(){var d,w;return ce(this,function(b){switch(b.label){case 0:return d=sr(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,u),[4,Cg(d)];case 1:return w=b.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Tn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(w,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},c}(ch),Cg=function(l){return new Promise(function(c,u){var d=new Image;d.onload=function(){c(d)},d.onerror=u,d.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(l))})},Bg=function(){function l(c){var d=c.enabled;this.id=c.id,this.enabled=d,this.start=Date.now()}return l.prototype.debug=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,e([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},l.prototype.getTime=function(){return Date.now()-this.start},l.prototype.info=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,e([this.id,this.getTime()+"ms"],c))},l.prototype.warn=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,e([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},l.prototype.error=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,e([this.id,this.getTime()+"ms"],c)):this.info.apply(this,c))},l.instances={},l}(),bg=function(){function l(c,u){var d;this.windowBounds=u,this.instanceName="#"+l.instanceCount++,this.logger=new Bg({id:this.instanceName,enabled:c.logging}),this.cache=null!==(d=c.cache)&&void 0!==d?d:new jn(this,c)}return l.instanceCount=1,l}();typeof window<"u"&&$u.setContext(window);var yg=function(l,c){return wt(void 0,void 0,void 0,function(){var u,d,w,b,Q,O,N,W,Ae,de,xe,tt,Ze,Je,St,dt,lt,Xt,Et,Bt,$e,Yt,yt,Rn,IA,GA,pn,pA,Si,MA,EA,ts,Dr,Ii,ns,As,Ai,rs;return ce(this,function(ri){switch(ri.label){case 0:if(!l||"object"!=typeof l)return[2,Promise.reject("Invalid element provided as first argument")];if(!(u=l.ownerDocument))throw new Error("Element is not attached to a Document");if(!(d=u.defaultView))throw new Error("Document is not attached to a Window");return w={allowTaint:null!==(Yt=c.allowTaint)&&void 0!==Yt&&Yt,imageTimeout:null!==(yt=c.imageTimeout)&&void 0!==yt?yt:15e3,proxy:c.proxy,useCORS:null!==(Rn=c.useCORS)&&void 0!==Rn&&Rn},b=Ie({logging:null===(IA=c.logging)||void 0===IA||IA,cache:c.cache},w),Q={windowWidth:null!==(GA=c.windowWidth)&&void 0!==GA?GA:d.innerWidth,windowHeight:null!==(pn=c.windowHeight)&&void 0!==pn?pn:d.innerHeight,scrollX:null!==(pA=c.scrollX)&&void 0!==pA?pA:d.pageXOffset,scrollY:null!==(Si=c.scrollY)&&void 0!==Si?Si:d.pageYOffset},O=new Ot(Q.scrollX,Q.scrollY,Q.windowWidth,Q.windowHeight),N=new bg(b,O),W=null!==(MA=c.foreignObjectRendering)&&void 0!==MA&&MA,Ae={allowTaint:null!==(EA=c.allowTaint)&&void 0!==EA&&EA,onclone:c.onclone,ignoreElements:c.ignoreElements,inlineImages:W,copyStyles:W},N.logger.debug("Starting document clone with size "+O.width+"x"+O.height+" scrolled to "+-O.left+","+-O.top),de=new Vu(N,l,Ae),(xe=de.clonedReferenceElement)?[4,de.toIFrame(u,O)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return tt=ri.sent(),Ze=Lr(xe)||function(l){return"HTML"===l.tagName}(xe)?function(l){var c=l.body,u=l.documentElement;if(!c||!u)throw new Error("Unable to get document size");var d=Math.max(Math.max(c.scrollWidth,u.scrollWidth),Math.max(c.offsetWidth,u.offsetWidth),Math.max(c.clientWidth,u.clientWidth)),w=Math.max(Math.max(c.scrollHeight,u.scrollHeight),Math.max(c.offsetHeight,u.offsetHeight),Math.max(c.clientHeight,u.clientHeight));return new Ot(0,0,d,w)}(xe.ownerDocument):yr(N,xe),Je=Ze.width,St=Ze.height,dt=Ze.left,lt=Ze.top,Xt=Tg(N,xe,c.backgroundColor),Et={canvas:c.canvas,backgroundColor:Xt,scale:null!==(Dr=null!==(ts=c.scale)&&void 0!==ts?ts:d.devicePixelRatio)&&void 0!==Dr?Dr:1,x:(null!==(Ii=c.x)&&void 0!==Ii?Ii:0)+dt,y:(null!==(ns=c.y)&&void 0!==ns?ns:0)+lt,width:null!==(As=c.width)&&void 0!==As?As:Math.ceil(Je),height:null!==(Ai=c.height)&&void 0!==Ai?Ai:Math.ceil(St)},W?(N.logger.debug("Document cloned, using foreign object rendering"),[4,new vg(N,Et).render(xe)]):[3,3];case 2:return Bt=ri.sent(),[3,5];case 3:return N.logger.debug("Document cloned, element located at "+dt+","+lt+" with size "+Je+"x"+St+" using computed rendering"),N.logger.debug("Starting DOM parsing"),$e=Zu(N,xe),Xt===$e.styles.backgroundColor&&($e.styles.backgroundColor=Fr.TRANSPARENT),N.logger.debug("Starting renderer for element at "+Et.x+","+Et.y+" with size "+Et.width+"x"+Et.height),[4,new pg(N,Et).render($e)];case 4:Bt=ri.sent(),ri.label=5;case 5:return(!(null!==(rs=c.removeContainer)&&void 0!==rs)||rs)&&(Vu.destroy(tt)||N.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),N.logger.debug("Finished rendering"),[2,Bt]}})})},Tg=function(l,c,u){var d=c.ownerDocument,w=d.documentElement?Zn(l,getComputedStyle(d.documentElement).backgroundColor):Fr.TRANSPARENT,b=d.body?Zn(l,getComputedStyle(d.body).backgroundColor):Fr.TRANSPARENT,Q="string"==typeof u?Zn(l,u):null===u?Fr.TRANSPARENT:4294967295;return c===d.documentElement?Qr(w)?Qr(b)?Q:b:w:Q};return function(l,c){return void 0===c&&(c={}),yg(l,c)}}()}}]);